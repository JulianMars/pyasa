<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>ASA-README.html file of Lester Ingber's Archive</title>
  <link rev="made" href="mailto:ingber@ingber.com">
</head>

<body text="#000066" bgcolor="#FFFFFF" link="#660000" vlink="#993300"
alink="#003300" background="asa_back.jpg">
<h1><a name="To-Top-of-ASA-READMEhtml">ASA-README.html</a></h1>

<h2>http://www.ingber.com/ASA-README.html</h2>
[<a href="http://www.ingber.com/">To-Top-of-Archive</a>] 

<p>ADAPTIVE SIMULATED ANNEALING (ASA) &copy; </p>

<p><br>
/******************************************************************<br>
* Adaptive Simulated Annealing (ASA)<br>
* Lester Ingber &lt;<a
href="mailto:ingber@ingber.com">ingber@ingber.com</a>&gt;<br>
* Copyright &copy; 1987-2012 Lester Ingber. All Rights Reserved.<br>
* The <a href="#ASA-LICENSE">ASA-LICENSE</a> file must be included with ASA
code.<br>
******************************************************************/<br>
$Id: ASA-README.ms,v 28.12 2012/07/02 23:58:48 ingber Exp ingber $<br>
<br>
</p>

<p>Lester Ingber </p>

<p><a href="mailto:ingber@ingber.com">ingber@ingber.com</a> <br>
<a href="mailto:ingber@alumni.caltech.edu">ingber@alumni.caltech.edu</a> </p>

<p>Adaptive Simulated Annealing (ASA) is a C-language code developed to
statistically find the best global fit of a nonlinear constrained non-convex
cost-function over a D-dimensional space. This algorithm permits an annealing
schedule for "temperature" T decreasing exponentially in annealing-time k, T =
T_0 exp(-c k^1/D). The introduction of re-annealing also permits adaptation to
changing sensitivities in the multi-dimensional parameter-space. This annealing
schedule is faster than fast Cauchy annealing, where T = T_0/k, and much faster
than Boltzmann annealing, where T = T_0/ln k. ASA has over 100 OPTIONS to
provide robust tuning over many classes of nonlinear stochastic systems. </p>

<p>Table of Contents</p>

<p>1. <a href="#ASA-LICENSE">ASA-LICENSE</a><br>
2. <a href="#Lester-Ingber-Research-Terms-of-Use">Lester Ingber Research Terms
of Use</a><br>
3. <a href="#Documentation">Documentation</a><br>
3.1. <a href="#Table-of-Contents-Index">Table of Contents/Index</a><br>
3.2. <a href="#ASA-README-ms-and-ASA-README">ASA-README.ms and
ASA-README</a><br>
3.2.1. <a href="#ASA-README-txt-and-ASA-README--txt">ASA-README.txt and
ASA-README+.txt</a><br>
3.2.2. <a href="#asa--13nl--Manpage">asa.[13nl] Manpage</a><br>
3.2.3. <a href="#ASA-README-ps-and-ASA-README-pdf">ASA-README.ps and
ASA-README.pdf</a><br>
3.2.4. <a href="#ASA-README-html">ASA-README.html</a><br>
3.3. <a href="#Additional-Documentation">Additional Documentation</a><br>
3.4. <a href="#Use-of-Documentation-for-Tuning">Use of Documentation for
Tuning</a><br>
4. <a href="#Availability-of-ASA-Code">Availability of ASA Code</a><br>
4.1. <a href="#ingber-com">ingber.com</a><br>
4.2. <a href="#Electronic-Mail">Electronic Mail</a><br>
5. <a href="#Background">Background</a><br>
5.1. <a href="#Context">Context</a><br>
5.2. <a href="#Outline-of-ASA-Algorithm">Outline of ASA Algorithm</a><br>
5.2.1. <a href="#Simulated-Annealing-is-NOT-Simulated-Quenching">Simulated
Annealing is NOT Simulated Quenching</a><br>
5.2.2. <a href="#Generating-Probability-Density-Function">Generating
Probability Density Function</a><br>
5.2.3. <a href="#Acceptance-Probability-Density-Function">Acceptance
Probability Density Function</a><br>
5.2.4. <a href="#Reannealing-Temperature-Schedule">Reannealing Temperature
Schedule</a><br>
5.3. <a href="#Efficiency-Versus-Necessity">Efficiency Versus Necessity</a><br>
6. <a href="#Outline-of-Use">Outline of Use</a><br>
7. <a href="#ASA-Makefile-Compilation-Procedures">ASA-Makefile/Compilation
Procedures</a><br>
7.1. <a href="#DLL-ASA-Makefile">DLL ASA-Makefile</a><br>
8. <a href="#Generic-ASA-Interfaces">Generic ASA Interfaces</a><br>
9. <a href="#User-Options">User Options</a><br>
9.1. <a href="#Pre-Compile-DEFINE-OPTIONS">Pre-Compile DEFINE_OPTIONS</a><br>
9.1.1. <a
href="#USER-COST-FUNCTION-cost-function">USER_COST_FUNCTION=cost_function</a><br>
9.1.2. <a
href="#RECUR-USER-COST-FUNCTION-recur-cost-function">RECUR_USER_COST_FUNCTION=recur_cost_function</a><br>
9.1.3. <a href="#OPTIONS-FILE-TRUE">OPTIONS_FILE=TRUE</a><br>
9.1.4. <a href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA=TRUE</a><br>
9.1.5. <a href="#RECUR-OPTIONS-FILE-FALSE">RECUR_OPTIONS_FILE=FALSE</a><br>
9.1.6. <a
href="#RECUR-OPTIONS-FILE-DATA-FALSE">RECUR_OPTIONS_FILE_DATA=FALSE</a><br>
9.1.7. <a href="#COST-FILE-TRUE">COST_FILE=TRUE</a><br>
9.1.8. <a href="#ASA-LIB-FALSE">ASA_LIB=FALSE</a><br>
9.1.9. <a href="#HAVE-ANSI-TRUE">HAVE_ANSI=TRUE</a><br>
9.1.10. <a href="#IO-PROTOTYPES-FALSE">IO_PROTOTYPES=FALSE</a><br>
9.1.11. <a href="#TIME-CALC-FALSE">TIME_CALC=FALSE</a><br>
9.1.12. <a href="#TIME-STD-FALSE">TIME_STD=FALSE</a><br>
9.1.13. <a href="#TIME-GETRUSAGE-TRUE">TIME_GETRUSAGE=TRUE</a><br>
9.1.14. <a href="#INT-LONG-TRUE">INT_LONG=TRUE</a><br>
9.1.15. <a href="#INT-ALLOC-FALSE">INT_ALLOC=FALSE</a><br>
9.1.16. <a href="#SMALL-FLOAT-1-0E-18">SMALL_FLOAT=1.0E-18</a><br>
9.1.17. <a href="#MIN-DOUBLE-SMALL-FLOAT">MIN_DOUBLE=SMALL_FLOAT</a><br>
9.1.18. <a href="#MAX-DOUBLE-1-0-SMALL-FLOAT">MAX_DOUBLE=1.0/SMALL_FLOAT</a><br>
9.1.19. <a href="#EPS-DOUBLE-SMALL-FLOAT">EPS_DOUBLE=SMALL_FLOAT</a><br>
9.1.20. <a href="#CHECK-EXPONENT-FALSE">CHECK_EXPONENT=FALSE</a><br>
9.1.21. <a href="#NO-PARAM-TEMP-TEST-FALSE">NO_PARAM_TEMP_TEST=FALSE</a><br>
9.1.22. <a href="#NO-COST-TEMP-TEST-FALSE">NO_COST_TEMP_TEST=FALSE</a><br>
9.1.23. <a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE=FALSE</a><br>
9.1.24. <a href="#ASA-TEST-FALSE">ASA_TEST=FALSE</a><br>
9.1.25. <a href="#ASA-TEST-POINT-FALSE">ASA_TEST_POINT=FALSE</a><br>
9.1.26. <a href="#MY-TEMPLATE-TRUE">MY_TEMPLATE=TRUE</a><br>
9.1.27. <a
href="#USER-INITIAL-COST-TEMP-FALSE">USER_INITIAL_COST_TEMP=FALSE</a><br>
9.1.28. <a
href="#RATIO-TEMPERATURE-SCALES-FALSE">RATIO_TEMPERATURE_SCALES=FALSE</a><br>
9.1.29. <a
href="#USER-INITIAL-PARAMETERS-TEMPS-FALSE">USER_INITIAL_PARAMETERS_TEMPS=FALSE</a><br>
9.1.30. <a href="#DELTA-PARAMETERS-FALSE">DELTA_PARAMETERS=FALSE</a><br>
9.1.31. <a href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS=FALSE</a><br>
9.1.32. <a href="#QUENCH-COST-FALSE">QUENCH_COST=FALSE</a><br>
9.1.33. <a
href="#QUENCH-PARAMETERS-SCALE-TRUE">QUENCH_PARAMETERS_SCALE=TRUE</a><br>
9.1.34. <a href="#QUENCH-COST-SCALE-TRUE">QUENCH_COST_SCALE=TRUE</a><br>
9.1.35. <a href="#ASA-TEMPLATE-FALSE">ASA_TEMPLATE=FALSE</a><br>
9.1.36. <a href="#OPTIONAL-DATA-DBL-FALSE">OPTIONAL_DATA_DBL=FALSE</a><br>
9.1.37. <a href="#OPTIONAL-DATA-INT-FALSE">OPTIONAL_DATA_INT=FALSE</a><br>
9.1.38. <a href="#OPTIONAL-DATA-PTR-FALSE">OPTIONAL_DATA_PTR=FALSE</a><br>
9.1.39. <a
href="#OPTIONAL-PTR-TYPE-USER-TYPE">OPTIONAL_PTR_TYPE=USER_TYPE</a><br>
9.1.40. <a href="#USER-COST-SCHEDULE-FALSE">USER_COST_SCHEDULE=FALSE</a><br>
9.1.41. <a
href="#USER-ACCEPT-ASYMP-EXP-FALSE">USER_ACCEPT_ASYMP_EXP=FALSE</a><br>
9.1.42. <a
href="#USER-ACCEPT-THRESHOLD-FALSE">USER_ACCEPT_THRESHOLD=FALSE</a><br>
9.1.43. <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST=FALSE</a><br>
9.1.44. <a
href="#USER-GENERATING-FUNCTION-FALSE">USER_GENERATING_FUNCTION=FALSE</a><br>
9.1.45. <a href="#USER-REANNEAL-COST-FALSE">USER_REANNEAL_COST=FALSE</a><br>
9.1.46. <a
href="#USER-REANNEAL-PARAMETERS-FALSE">USER_REANNEAL_PARAMETERS=FALSE</a><br>
9.1.47. <a
href="#MAXIMUM-REANNEAL-INDEX-50000">MAXIMUM_REANNEAL_INDEX=50000</a><br>
9.1.48. <a href="#REANNEAL-SCALE-10-0">REANNEAL_SCALE=10.0</a><br>
9.1.49. <a href="#ASA-SAMPLE-FALSE">ASA_SAMPLE=FALSE</a><br>
9.1.50. <a href="#ADAPTIVE-OPTIONS-FALSE">ADAPTIVE_OPTIONS=FALSE</a><br>
9.1.51. <a href="#ASA-QUEUE-FALSE">ASA_QUEUE=FALSE</a><br>
9.1.52. <a href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION=FALSE</a><br>
9.1.53. <a href="#ASA-FUZZY-FALSE">ASA_FUZZY=FALSE</a><br>
9.1.54. <a href="#FITLOC-FALSE">FITLOC=FALSE</a><br>
9.1.55. <a href="#FITLOC-ROUND-TRUE">FITLOC_ROUND=TRUE</a><br>
9.1.56. <a href="#FITLOC-PRINT-TRUE">FITLOC_PRINT=TRUE</a><br>
9.1.57. <a href="#MULTI-MIN-FALSE">MULTI_MIN=FALSE</a><br>
9.1.58. <a href="#ASA-PARALLEL-FALSE">ASA_PARALLEL=FALSE</a><br>
9.1.59. <a href="#FDLIBM-POW-FALSE">FDLIBM_POW=FALSE</a><br>
9.1.60. <a href="#FDLIBM-LOG-FALSE">FDLIBM_LOG=FALSE</a><br>
9.1.61. <a href="#FDLIBM-EXP-FALSE">FDLIBM_EXP=FALSE</a><br>
9.2. <a href="#Printing-DEFINE-OPTIONS">Printing DEFINE_OPTIONS</a><br>
9.2.1. <a
href="#USER-OUT---quot-asa-usr-out--quot-">USER_OUT=\"asa_usr_out\"</a><br>
9.2.2. <a href="#INCL-STDOUT-TRUE">INCL_STDOUT=TRUE</a><br>
9.2.3. <a href="#ASA-PRINT-TRUE">ASA_PRINT=TRUE</a><br>
9.2.4. <a href="#ASA-OUT---quot-asa-out--quot-">ASA_OUT=\"asa_out\"</a><br>
9.2.5. <a href="#USER-ASA-OUT-FALSE">USER_ASA_OUT=FALSE</a><br>
9.2.6. <a href="#ASA-PRINT-INTERMED-TRUE">ASA_PRINT_INTERMED=TRUE</a><br>
9.2.7. <a href="#ASA-PRINT-MORE-FALSE">ASA_PRINT_MORE=FALSE</a><br>
9.2.8. <a href="#G-FIELD-12--amp--G-PRECISION-7">G_FIELD=12 &amp;
G_PRECISION=7</a><br>
9.2.9. <a href="#ASA-SAVE-FALSE">ASA_SAVE=FALSE</a><br>
9.2.10. <a href="#ASA-SAVE-OPT-FALSE">ASA_SAVE_OPT=FALSE</a><br>
9.2.11. <a href="#ASA-SAVE-BACKUP-FALSE">ASA_SAVE_BACKUP=FALSE</a><br>
9.2.12. <a href="#ASA-PIPE-FALSE">ASA_PIPE=FALSE</a><br>
9.2.13. <a href="#ASA-PIPE-FILE-FALSE">ASA_PIPE_FILE=FALSE</a><br>
9.2.14. <a href="#ASA-EXIT-ANYTIME-FALSE">ASA_EXIT_ANYTIME=FALSE</a><br>
9.2.15. <a href="#SYSTEM-CALL-TRUE">SYSTEM_CALL=TRUE</a><br>
9.3. <a href="#Program-OPTIONS">Program OPTIONS</a><br>
9.3.1. <a
href="#OPTIONS--gt-Limit-Acceptances-10000-">OPTIONS-&gt;Limit_Acceptances[10000]</a><br>
9.3.2. <a
href="#OPTIONS--gt-Limit-Generated-99999-">OPTIONS-&gt;Limit_Generated[99999]</a><br>
9.3.3. <a
href="#OPTIONS--gt-Limit-Invalid-Generated-States-1000-">OPTIONS-&gt;Limit_Invalid_Generated_States[1000]</a><br>
9.3.4. <a
href="#OPTIONS--gt-Accepted-To-Generated-Ratio-1-0E-6-">OPTIONS-&gt;Accepted_To_Generated_Ratio[1.0E-6]</a><br>
9.3.5. <a
href="#OPTIONS--gt-Cost-Precision-1-0E-18-">OPTIONS-&gt;Cost_Precision[1.0E-18]</a><br>
9.3.6. <a
href="#OPTIONS--gt-Maximum-Cost-Repeat-5-">OPTIONS-&gt;Maximum_Cost_Repeat[5]</a><br>
9.3.7. <a
href="#OPTIONS--gt-Number-Cost-Samples-5-">OPTIONS-&gt;Number_Cost_Samples[5]</a><br>
9.3.8. <a
href="#OPTIONS--gt-Temperature-Ratio-Scale-1-0E-5-">OPTIONS-&gt;Temperature_Ratio_Scale[1.0E-5]</a><br>
9.3.9. <a
href="#OPTIONS--gt-Cost-Parameter-Scale-Ratio-1-0-">OPTIONS-&gt;Cost_Parameter_Scale_Ratio[1.0]</a><br>
9.3.10. <a
href="#OPTIONS--gt-Temperature-Anneal-Scale-100-0-">OPTIONS-&gt;Temperature_Anneal_Scale[100.0]</a><br>
9.3.11. <a
href="#OPTIONS--gt-User-Cost-Temperature">OPTIONS-&gt;User_Cost_Temperature</a><br>
9.3.12. <a
href="#OPTIONS--gt-Include-Integer-Parameters-FALSE-">OPTIONS-&gt;Include_Integer_Parameters[FALSE]</a><br>
9.3.13. <a
href="#OPTIONS--gt-User-Initial-Parameters-FALSE-">OPTIONS-&gt;User_Initial_Parameters[FALSE]</a><br>
9.3.14. <a
href="#OPTIONS--gt-Sequential-Parameters--1-">OPTIONS-&gt;Sequential_Parameters[-1]</a><br>
9.3.15. <a
href="#OPTIONS--gt-Initial-Parameter-Temperature-1-0-">OPTIONS-&gt;Initial_Parameter_Temperature[1.0]</a><br>
9.3.16. <a
href="#OPTIONS--gt-User-Temperature-Ratio">OPTIONS-&gt;User_Temperature_Ratio</a><br>
9.3.17. <a
href="#OPTIONS--gt-User-Parameter-Temperature">OPTIONS-&gt;User_Parameter_Temperature</a><br>
9.3.18. <a
href="#OPTIONS--gt-Acceptance-Frequency-Modulus-100-">OPTIONS-&gt;Acceptance_Frequency_Modulus[100]</a><br>
9.3.19. <a
href="#OPTIONS--gt-Generated-Frequency-Modulus-10000-">OPTIONS-&gt;Generated_Frequency_Modulus[10000]</a><br>
9.3.20. <a
href="#OPTIONS--gt-Reanneal-Cost-1-">OPTIONS-&gt;Reanneal_Cost[1]</a><br>
9.3.21. <a
href="#OPTIONS--gt-Reanneal-Parameters-TRUE-">OPTIONS-&gt;Reanneal_Parameters[TRUE]</a><br>
9.3.22. <a href="#OPTIONS--gt-Delta-X-0-001-">OPTIONS-&gt;Delta_X[0.001]</a><br>
9.3.23. <a
href="#OPTIONS--gt-User-Delta-Parameter">OPTIONS-&gt;User_Delta_Parameter</a><br>
9.3.24. <a
href="#OPTIONS--gt-User-Tangents-FALSE-">OPTIONS-&gt;User_Tangents[FALSE]</a><br>
9.3.25. <a
href="#OPTIONS--gt-Curvature-0-FALSE-">OPTIONS-&gt;Curvature_0[FALSE]</a><br>
9.3.26. <a
href="#OPTIONS--gt-User-Quench-Param-Scale">OPTIONS-&gt;User_Quench_Param_Scale</a><br>
9.3.27. <a
href="#OPTIONS--gt-User-Quench-Cost-Scale">OPTIONS-&gt;User_Quench_Cost_Scale</a><br>
9.3.28. <a href="#OPTIONS--gt-N-Accepted">OPTIONS-&gt;N_Accepted</a><br>
9.3.29. <a href="#OPTIONS--gt-N-Generated">OPTIONS-&gt;N_Generated</a><br>
9.3.30. <a href="#OPTIONS--gt-Locate-Cost">OPTIONS-&gt;Locate_Cost</a><br>
9.3.31. <a
href="#OPTIONS--gt-Immediate-Exit-FALSE-">OPTIONS-&gt;Immediate_Exit[FALSE]</a><br>
9.3.32. <a href="#OPTIONS--gt-Best-Cost">OPTIONS-&gt;Best_Cost</a><br>
9.3.33. <a
href="#OPTIONS--gt-Best-Parameters">OPTIONS-&gt;Best_Parameters</a><br>
9.3.34. <a href="#OPTIONS--gt-Last-Cost">OPTIONS-&gt;Last_Cost</a><br>
9.3.35. <a
href="#OPTIONS--gt-Last-Parameters">OPTIONS-&gt;Last_Parameters</a><br>
9.3.36. <a
href="#OPTIONS--gt-Asa-Data-Dim-Dbl">OPTIONS-&gt;Asa_Data_Dim_Dbl</a><br>
9.3.37. <a href="#OPTIONS--gt-Asa-Data-Dbl">OPTIONS-&gt;Asa_Data_Dbl</a><br>
9.3.38. <a
href="#OPTIONS--gt-Asa-Data-Dim-Int">OPTIONS-&gt;Asa_Data_Dim_Int</a><br>
9.3.39. <a href="#OPTIONS--gt-Asa-Data-Int">OPTIONS-&gt;Asa_Data_Int</a><br>
9.3.40. <a
href="#OPTIONS--gt-Asa-Data-Dim-Ptr">OPTIONS-&gt;Asa_Data_Dim_Ptr</a><br>
9.3.41. <a href="#OPTIONS--gt-Asa-Data-Ptr">OPTIONS-&gt;Asa_Data_Ptr</a><br>
9.3.42. <a href="#OPTIONS--gt-Asa-Out-File">OPTIONS-&gt;Asa_Out_File</a><br>
9.3.43. <a href="#OPTIONS--gt-Cost-Schedule">OPTIONS-&gt;Cost_Schedule</a><br>
9.3.44. <a
href="#OPTIONS--gt-Asymp-Exp-Param">OPTIONS-&gt;Asymp_Exp_Param</a><br>
9.3.45. <a
href="#OPTIONS--gt-Acceptance-Test">OPTIONS-&gt;Acceptance_Test</a><br>
9.3.46. <a
href="#OPTIONS--gt-User-Acceptance-Flag">OPTIONS-&gt;User_Acceptance_Flag</a><br>
9.3.47. <a
href="#OPTIONS--gt-Cost-Acceptance-Flag">OPTIONS-&gt;Cost_Acceptance_Flag</a><br>
9.3.48. <a href="#OPTIONS--gt-Cost-Temp-Curr">OPTIONS-&gt;Cost_Temp_Curr</a><br>
9.3.49. <a href="#OPTIONS--gt-Cost-Temp-Init">OPTIONS-&gt;Cost_Temp_Init</a><br>
9.3.50. <a
href="#OPTIONS--gt-Cost-Temp-Scale">OPTIONS-&gt;Cost_Temp_Scale</a><br>
9.3.51. <a href="#OPTIONS--gt-Prob-Bias">OPTIONS-&gt;Prob_Bias</a><br>
9.3.52. <a href="#OPTIONS--gt-Random-Seed">OPTIONS-&gt;Random_Seed</a><br>
9.3.53. <a
href="#OPTIONS--gt-Generating-Distrib">OPTIONS-&gt;Generating_Distrib</a><br>
9.3.54. <a
href="#OPTIONS--gt-Reanneal-Cost-Function">OPTIONS-&gt;Reanneal_Cost_Function</a><br>
9.3.55. <a
href="#OPTIONS--gt-Reanneal-Params-Function">OPTIONS-&gt;Reanneal_Params_Function</a><br>
9.3.56. <a
href="#OPTIONS--gt-Bias-Acceptance">OPTIONS-&gt;Bias_Acceptance</a><br>
9.3.57. <a href="#OPTIONS--gt-Bias-Generated">OPTIONS-&gt;Bias_Generated</a><br>
9.3.58. <a
href="#OPTIONS--gt-Average-Weights">OPTIONS-&gt;Average_Weights</a><br>
9.3.59. <a href="#OPTIONS--gt-Limit-Weights">OPTIONS-&gt;Limit_Weights</a><br>
9.3.60. <a href="#OPTIONS--gt-Queue-Size">OPTIONS-&gt;Queue_Size</a><br>
9.3.61. <a
href="#OPTIONS--gt-Queue-Resolution">OPTIONS-&gt;Queue_Resolution</a><br>
9.3.62. <a
href="#OPTIONS--gt-Coarse-Resolution">OPTIONS-&gt;Coarse_Resolution</a><br>
9.3.63. <a href="#OPTIONS--gt-Fit-Local">OPTIONS-&gt;Fit_Local</a><br>
9.3.64. <a href="#OPTIONS--gt-Iter-Max">OPTIONS-&gt;Iter_Max</a><br>
9.3.65. <a href="#OPTIONS--gt-Penalty">OPTIONS-&gt;Penalty</a><br>
9.3.66. <a href="#OPTIONS--gt-Multi-Number">OPTIONS-&gt;Multi_Number</a><br>
9.3.67. <a href="#OPTIONS--gt-Multi-Cost">OPTIONS-&gt;Multi_Cost</a><br>
9.3.68. <a href="#OPTIONS--gt-Multi-Params">OPTIONS-&gt;Multi_Params</a><br>
9.3.69. <a href="#OPTIONS--gt-Multi-Grid">OPTIONS-&gt;Multi_Grid</a><br>
9.3.70. <a href="#OPTIONS--gt-Multi-Specify">OPTIONS-&gt;Multi_Specify</a><br>
9.3.71. <a href="#OPTIONS--gt-Gener-Mov-Avr">OPTIONS-&gt;Gener_Mov_Avr</a><br>
9.3.72. <a href="#OPTIONS--gt-Gener-Block">OPTIONS-&gt;Gener_Block</a><br>
9.3.73. <a
href="#OPTIONS--gt-Gener-Block-Max">OPTIONS-&gt;Gener_Block_Max</a><br>
9.3.74. <a
href="#OPTIONS--gt-Random-Array-Dim">OPTIONS-&gt;Random_Array_Dim</a><br>
9.3.75. <a href="#OPTIONS--gt-Random-Array">OPTIONS-&gt;Random_Array</a><br>
9.3.76. <a
href="#OPTIONS--gt-Asa-Recursive-Level">OPTIONS-&gt;Asa_Recursive_Level</a><br>
10. <a href="#User-Module">User Module</a><br>
10.1. <a href="#int-main-int-argc--char--argv-">int main(int argc, char
**argv)</a><br>
10.2. <a href="#int-asa-main-">int asa_main(</a><br>
10.3. <a href="#int-initialize-parameters-">int initialize_parameters(</a><br>
10.4. <a href="#int-recur-initialize-parameters-">int
recur_initialize_parameters(</a><br>
10.5. <a href="#double-cost-function-">double cost_function(</a><br>
10.5.1. <a href="#cost-function">cost_function</a><br>
10.5.2. <a href="#x">*x</a><br>
10.5.3. <a href="#double-parameter-lower-bound">double
*parameter_lower_bound</a><br>
10.5.4. <a href="#double-parameter-upper-bound">double
*parameter_upper_bound</a><br>
10.5.5. <a href="#double-cost-tangents">double *cost_tangents</a><br>
10.5.6. <a href="#double-cost-curvature">double *cost_curvature</a><br>
10.5.7. <a href="#ALLOC-INT-parameter-dimension">ALLOC_INT
*parameter_dimension</a><br>
10.5.8. <a href="#int-parameter-int-real">int *parameter_int_real</a><br>
10.5.9. <a href="#cost-flag">*cost_flag</a><br>
10.5.10. <a href="#int-exit-code">int *exit_code</a><br>
10.5.11. <a href="#USER-DEFINES-OPTIONS">USER_DEFINES *OPTIONS</a><br>
10.6. <a href="#double-recur-cost-function-">double recur_cost_function(</a><br>
10.7. <a href="#double-user-random-generator-">double
user_random_generator(</a><br>
10.8. <a href="#LONG-INT-asa-seed-">LONG_INT asa_seed(</a><br>
10.9. <a href="#double-user-cost-schedule-">double user_cost_schedule(</a><br>
10.10. <a href="#double-recur-user-cost-schedule-">double
recur_user_cost_schedule(</a><br>
10.11. <a href="#void-user-acceptance-test-">void user_acceptance_test(</a><br>
10.12. <a href="#void-recur-user-acceptance-test-">void
recur_user_acceptance_test(</a><br>
10.13. <a href="#double-user-generating-distrib-">double
user_generating_distrib(</a><br>
10.14. <a href="#double-recur-user-generating-distrib-">double
recur_user_generating_distrib(</a><br>
10.15. <a href="#int-user-reanneal-cost-">int user_reanneal_cost(</a><br>
10.16. <a href="#int-recur-user-reanneal-cost-">int
recur_user_reanneal_cost(</a><br>
10.17. <a href="#double-user-reanneal-params-">double
user_reanneal_params(</a><br>
10.18. <a href="#double-recur-user-reanneal-params-">double
recur_user_reanneal_params(</a><br>
10.19. <a href="#final-cost---asa-">final_cost = asa(</a><br>
10.20. <a href="#double-asa-">double asa(</a><br>
10.20.1. <a href="#double--user-cost-function----">double (*user_cost_function)
()</a><br>
10.20.2. <a href="#double--user-random-generator----">double
(*user_random_generator) ()</a><br>
10.20.3. <a href="#LONG-INT-rand-seed">LONG_INT *rand_seed</a><br>
10.20.4. <a href="#double-parameter-initial-final">double
*parameter_initial_final</a><br>
10.21. <a href="#void-print-time-char--message--FILE--ptr-out-">void
print_time(char *message, FILE * ptr_out)</a><br>
10.22. <a href="#void-sample-FILE---ptr-out--FILE--ptr-asa-">void sample(FILE *
ptr_out, FILE * ptr_asa)</a><br>
10.23. <a href="#void-adaptive-options-USER-DEFINES--USER-OPTIONS-">void
adaptive_options(USER_DEFINES * USER_OPTIONS)</a><br>
11. <a href="#Bug-Reports-and-Help-With-ASA">Bug Reports and Help With
ASA</a><br>
12. <a href="#References">References</a><br>
</p>

<p>1. <a name="ASA-LICENSE">ASA-LICENSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>This Adaptive Simulated Annealing (ASA) code is being made available under
conditions specified in the <a href="#ASA-LICENSE">ASA-LICENSE</a> file that
comes with this code, and is owned by Lester Ingber[1]. Reference is properly
given to the internet archive that first published the code. Please read the
copy of the public <a href="#ASA-LICENSE">ASA-LICENSE</a> contained in the ASA
directory. Its intent is to protect the integrity of the algorithm, promote
widespread usage, and require reference to current source code. The <a
href="#ASA-LICENSE">ASA-LICENSE</a> is so short it is repeated here: </p>

<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met: </p>

<p>CONDITIONS </p>

<p>1. Redistributions of ASA source code must retain the above copyright
notice, this list of conditions, and the following disclaimer. </p>

<p>2. Redistributions in binary form must contain the above copyright notice,
this list of conditions and the following disclaimer in the documentation
and/or other materials provided with the distribution. </p>

<p>3. All modifications to the source code must be clearly marked as such.
Binary redistributions based on modified source code must be clearly marked as
modified versions in the documentation and/or other materials provided with the
distribution. </p>

<p>4. Notice must be given of the location of the availability of the
unmodified current source code, e.g., <br>
<br>
<a href="http://www.ingber.com/">http://www.ingber.com/</a> <br>
in the documentation and/or other materials provided with the distribution or
publication. ASA also is listed at <br>
<br>
<a
href="http://alumni.caltech.edu/~ingber">http://alumni.caltech.edu/~ingber</a>
<br>
<a
href="http://asa-caltech.sourceforge.net">http://asa-caltech.sourceforge.net</a>
<br>
<a
href="https://code.google.com/p/adaptive-simulated-">https://code.google.com/p/adaptive-simulated-</a>
annealing <br>
</p>

<p>5. The name of Lester Ingber may not be used to endorse or promote products
derived from this software without specific prior written permission. </p>

<p>DISCLAIMER </p>

<p>This software is provided by Lester Ingber and contributors "as is" and any
expressed or implied warranties, including, but not limited to, the implied
warranties of merchantability and fitness for a particular purpose are
disclaimed. In no event shall Lester Ingber or contributors be liable for any
direct, indirect, incidental, special, exemplary, or consequential damages
(including, but not limited to, procurement of substitute goods or services;
loss of use, data, or profits; or business interruption) however caused and on
any theory of liability, whether in contract, strict liability, or tort
(including negligence or otherwise) arising in any way out of the use of this
software, even if advised of the possibility of such damage. </p>

<p>2. <a name="Lester-Ingber-Research-Terms-of-Use">Lester Ingber Research
Terms of Use</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Lester Ingber Research (LIR) develops projects in several areas of expertise
documented in the ingber.com InterNet archive, e.g., this ASA code. Information
on terms of use is in the file <a
href="http://www.ingber.com/ingber_terms.html">http://www.ingber.com/ingber_terms.html</a>
under WWW. </p>

<p>There is no charge for downloading and using codes or files in the
ingber.com archive. In general, I have retained all rights such as copyrights
to these codes and files, but they may be freely used by any person or group
independent of affiliations, e.g., independent of academic or commercial
affiliation. </p>

<p>Limited help assisting people with queries on my codes and papers is
available only by electronic mail correspondence. Sorry, I cannot mail out
hardcopies of code or papers. </p>

<p>3. <a name="Documentation">Documentation</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>3.1. <a name="Table-of-Contents-Index">Table of Contents/Index</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>A compilation of the three levels of headers with their page numbers may be
used as a Table of Contents placed after the first title page (as is done for
ASA-README.ps, ASA-README.pdf and ASA-README.html below), or left at the end
for quick reference (as is done for ASA-README.txt below). </p>

<p>3.2. <a name="ASA-README-ms-and-ASA-README">ASA-README.ms and ASA-README</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The ASA-README.ms file is used to prepare other documentation files using
UNIX(R) MS macros. </p>

<p>3.2.1. <a name="ASA-README-txt-and-ASA-README--txt">ASA-README.txt and
ASA-README+.txt</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>ASA-README.txt is an ASCII file that can be previewed on your screen or sent
to an ASCII lineprinter. </p>

<p>ASA-README+.txt is ASA-README.txt without any filters to strip off
underlining and bold enhancements. </p>

<p>3.2.2. <a name="asa--13nl--Manpage">asa.[13nl] Manpage</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The ASA-README.txt or ASA-README+.txt file can be copied to a file named
asa.[l3], and asa.[13] can be installed as MANPATH/cat1/asa.1 or
MANPATH/cat3/asa.3, where MANPATH is the place your man directory is located.
If you do not have any cat[13] directories on your system, then installing a
copy of ASA-README.txt or ASA-README+.txt as MANPATH/man[13nl]/asa.[13nl],
choosing one of the suffixes in [13nl] for your choice of directory and asa
file name, should work fine on most machines. However, passing this asa.[13nl]
through man may strip out additional "back-slash" characters, leading to
missing words or unintended formatting. If such a file looks strange, compare
it to the raw ASA-README.ms file to determine the true intended content. You
likely can avoid some further undesirable formatting by man by placing '.nf' on
the first line of this file. </p>

<p>3.2.3. <a name="ASA-README-ps-and-ASA-README-pdf">ASA-README.ps and
ASA-README.pdf</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>ASA-README.ps is a PostScript(R) formatted file which may be previewed on
your screen if you have the proper software, or it may be sent to a
PostScript(R) printer to produce hardcopy. </p>

<p>A PDF version ASA-README.pdf is prepared from ASA-README.ps. </p>

<p>3.2.4. <a name="ASA-README-html">ASA-README.html</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>ASA-README.html is an HTML version which enables easier access to
subsections of this file. Cross-references have been kept local to this file,
so you may view it under a local browser if you download the HTML source file.
</p>

<p>The background image file asa_back.jpg referenced in ASA-README.html can be
downloaded as <a
href="http://www.ingber.com/asa_back.jpg">http://www.ingber.com/asa_back.jpg</a>
from the ASA archive. </p>

<p>3.3. <a name="Additional-Documentation">Additional Documentation</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>ASA-CHANGES is a terse record of major changes made in the ASA code. It has
three sections, CHANGES, CONTRIBUTORS, and VERSION DATES. </p>

<p>ASA-NOTES is a collection of recommended enhancements, modifications,
comments, caveats, etc., that might be of interest. There is a CONTENTS of
sections headers that can be used to search on topics in your browser or
editor. </p>

<p>There are three files in the ASA archive that should be considered as
appendices to the ASA-NOTES file: <a
href="http://www.ingber.com/asa_contrib.txt">http://www.ingber.com/asa_contrib.txt</a>,
<a
href="http://www.ingber.com/asa_examples.txt">http://www.ingber.com/asa_examples.txt</a>,
and <a
href="http://www.ingber.com/asa_papers.html">http://www.ingber.com/asa_papers.html</a>
under WWW. </p>

<p>The file <a
href="http://www.ingber.com/asa_contrib.txt">http://www.ingber.com/asa_contrib.txt</a>
in the ASA archive contains some code contributed by users. For example,
references are giving to MATLAB and RLaB gateway routines to ASA (which include
many important parts of the ASA user module), and to function support for <a
href="#ASA-PARALLEL-FALSE">ASA_PARALLEL</a>. There is a CONTENTS of sections
headers that can be used to search on topics in your browser or editor. In this
file I have included the first 1987 VFSR code, the precursor to the ASA code,
as used on a specific project, including the RATFOR vfsr.r and vfsr_com.r code,
subsequently compiled into FORTRAN to run on a Lawrence Livermore
supercomputer. I do not support this old RATFOR code. </p>

<p>The file <a
href="http://www.ingber.com/asa_examples.txt">http://www.ingber.com/asa_examples.txt</a>
in the ASA archive contains some example problems using ASA and some code to
use in ASA. There is a CONTENTS of sections headers that can be used to search
on topics in your browser or editor. This file contains some problems optimized
using ASA, which can provide immediate examples on how you can optimize your
own problem. </p>

<p>The file <a
href="http://www.ingber.com/asa_papers.html">http://www.ingber.com/asa_papers.html</a>
is an addendum to the ASA-NOTES file in the ASA code, containing references to
some patents and papers using ASA or its precursor VFSR. </p>

<p>The file asa_new.txt in the ASA archive is a list of major changes in ASA.
The files ASA-README.txt, ASA-README.ps and ASA-README.pdf included with the
code also are available independently as <a
href="http://www.ingber.com/ASA-README.txt">http://www.ingber.com/ASA-README.txt</a>,
<a
href="http://www.ingber.com/ASA-README.ps.gz">http://www.ingber.com/ASA-README.ps.gz</a>,
<a
href="http://www.ingber.com/ASA-README.html">http://www.ingber.com/ASA-README.html</a>,
<a
href="http://www.ingber.com/ASA-README.pdf">http://www.ingber.com/ASA-README.pdf.</a>
</p>

<p>There is a set of <a href="#ASA-TEMPLATE-FALSE">ASA_TEMPLATE</a>'s available
in the ASA-Makefile and in the user module (some also in the asa module) to
illustrate use of particular OPTIONS, as listed under <a
href="#ASA-TEMPLATE-FALSE">ASA_TEMPLATE</a> below. You can search on these <a
href="#ASA-TEMPLATE-FALSE">ASA_TEMPLATE</a>'s in your browser or editor to see
how these are implemented. Note that some OPTIONS require your input, as
described below, and code may fail until you add your own code. Once you have
determined the most common set of DEFINE_OPTIONS you are likely to use, you
might place these in your own TEMPLATE at the top of asa_usr_asa.h at the
location specified, e.g., <br>
#if <a href="#MY-TEMPLATE-TRUE">MY_TEMPLATE</a> /* MY_TEMPLATE_asa_user */<br>
/* you can add your own set of #define here */<br>
#define ... TRUE<br>
#define ... 100<br>
#endif<br>
<br>
</p>

<p>See <a
href="http://www.ingber.com/utils_file_formats.txt">http://www.ingber.com/utils_file_formats.txt</a>
for some links to information on gzip, PostScript, PDF, tar, and shar
utilities. The file utils_code.txt in that directory gives short statements
describing these files, which may be accessed as <a
href="http://www.ingber.com/utils_code.html">http://www.ingber.com/utils_code.html</a>
under WWW. </p>

<p>3.4. <a name="Use-of-Documentation-for-Tuning">Use of Documentation for
Tuning</a> [<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>]
</p>

<p>I am often asked how I can help someone tune their system, and they send me
their cost function or a list of the ASA OPTIONS they are using. Most often,
the best help I can provide is based on my own experience that nonlinear
systems typically are non-typical. In practice, that means that trying to
figure out the nature of the cost function under sampling in order to tune ASA
(or likely to similarly tune a hard problem under any sampling algorithm), by
examining just the cost function, likely will not be as productive as
generating more intermediate printout, e.g., setting <a
href="#ASA-PRINT-MORE-FALSE">ASA_PRINT_MORE</a> to TRUE, and looking at this
output as a "grey box" of insight into your optimization problem. Larger files
with more information is provided by setting <a
href="#ASA-PIPE-FILE-FALSE">ASA_PIPE_FILE</a> to TRUE. Treat the output of ASA
as a simulation in the ASA parameter space, which usually is quite a different
space than the variable space of your system. </p>

<p>For example, you should be able to see where and how your solution might be
getting stuck in a local minima for a very long time, or where the last saved
state is still fluctuating across a wide portion of your state space. These
observations should suggest how you might try speeding up or slowing down
annealing/quenching (see more below on modifying ASA with QUENCH OPTIONS) of
the parameter space and/or tightening or loosening the acceptance criteria at
different stages by modifying the OPTIONS, e.g., starting with the OPTIONS that
can be easily adjusted using the asa_opt file. </p>

<p>The ASA-NOTES file that comes with the ASA code provides some guidelines for
tuning that may provide some insights, especially the section Some Tuning
Guidelines. An especially important guide is to examine the output of ASA at
several stages of sampling, to see if changes in parameter and temperatures are
reasonably correlated to changes in the cost function. Examples of useful
OPTIONS and code that often give quick changes in tuning in some problems are
in the file <a
href="http://www.ingber.com/asa_examples.txt">http://www.ingber.com/asa_examples.txt</a>
under WWW. Some of the reprint files of published papers in the ingber.com
provide other examples in harder systems, and perhaps you might find some
examples of harder systems using ASA similar to your own in <a
href="http://www.ingber.com/asa_papers.html">http://www.ingber.com/asa_papers.html</a>
under WWW. This is the best way to add some Art to the Science of annealing.
</p>

<p>While the upside of using ASA is that it has many OPTIONS available for
tuning, derived in large part from feedback from many users over many years,
making it extremely robust across many systems, the downside is that the
learning curve can be steep especially if the default settings or simple
tweaking in asa_opt do not work very well for your particular system, and you
then must turn to using more ASA OPTIONS. Most of these OPTIONS have useful
guides in the ASA_TEMPLATEs in asa_usr.c, as well as being documented here. If
you really get stuck, you may consider working with someone else who already
has climbed this learning curve and whose experience might offer quick help.
</p>

<p>Tuning is an essential aspect of any sampling algorithm if it is to be
applied to many classes of systems. It just doesn't make sense to compare
sampling algorithms unless you are prepared to properly tune each algorithm to
each system being optimized or sampled. </p>

<p>4. <a name="Availability-of-ASA-Code">Availability of ASA Code</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>4.1. <a name="ingber-com">ingber.com</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The latest Adaptive Simulated Annealing (ASA) code and some related papers
can be accessed from the home page <a
href="http://www.ingber.com/">http://www.ingber.com/</a> under WWW. </p>

<p>The home page <a href="http://www.ingber.com/">http://www.ingber.com/</a>
under WWW, and the ASCII version 00index.txt, contain an index of the other
files. </p>

<p>The latest version of ASA, ASA-x.y (x and y are version numbers), can be
obtained in two formats: <a
href="http://www.ingber.com/ASA.tar.gz">http://www.ingber.com/ASA.tar.gz</a>
and <a href="http://www.ingber.com/ASA.zip">http://www.ingber.com/ASA.zip.</a>
The tar'd versions is compressed in gzip format, and ASA.tar.gz. In the zip'd
version, ASA.zip, all files have been processed for DOS format. </p>

<p>Patches ASA-diff-x1.y1-x2.y2 up to the present version can be prepared if a
good case for doing so is presented, e.g. to facilitate updating your own
modified codes. These may be concatenated as required before applying. If you
require a specific patch, contact <a
href="mailto:ingber@ingber.com">ingber@ingber.com.</a> </p>

<p>4.2. <a name="Electronic-Mail">Electronic Mail</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If you do not have WWW, get the Guide to Offline Internet Access, returned
by sending an e-mail to <a
href="mailto:mail-server@rtfm.mit.edu">mail-server@rtfm.mit.edu</a> with only
the words "send usenet/news.answers/internet-services/access-via-email" in the
body of the message. The guide gives information on using e-mail to access just
about all InterNet information and documents. You will receive the information
in utils_access-via-email.txt in the ASA archive. </p>

<p>5. <a name="Background">Background</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>5.1. <a name="Context">Context</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Too often the management of complex systems is ill-served by not utilizing
the best tools available. For example, requirements set by decision-makers
often are not formulated in the same language as constructs formulated by
powerful mathematical formalisms, and so the products of analyses are not
properly or maximally utilized, even if and when they come close to faithfully
representing the powerful intuitions they are supposed to model. In turn, even
powerful mathematical constructs are ill-served, especially when dealing with
multivariate nonlinear complex systems, when these formalisms are butchered
into quasi-linear approximations to satisfy constraints of numerical algorithms
familiar to particular analysts, but which tend to destroy the power of the
intuitive constructs developed by decision-makers. </p>

<p>In order to deal with fitting parameters or exploring sensitivities of
variables, as models of systems have become more sophisticated in describing
complex behavior, it has become increasingly important to retain and respect
the nonlinearities inherent in these models, as they are indeed present in the
complex systems they model. ASA can help to handle these fits of nonlinear
models of real-world data. </p>

<p>It helps to visualize the problems presented by such complex systems as a
geographical terrain. For example, consider a mountain range, with two
"parameters," e.g., along the North-South and East-West directions. We wish to
find the lowest valley in this terrain. ASA approaches this problem similar to
using a bouncing ball that can bounce over mountains from valley to valley. We
start at a high "temperature," where the temperature is an ASA parameter that
mimics the effect of a fast moving particle in a hot object like a hot molten
metal, thereby permitting the ball to make very high bounces and being able to
bounce over any mountain to access any valley, given enough bounces. As the
temperature is made relatively colder, the ball cannot bounce so high, and it
also can settle to become trapped in relatively smaller ranges of valleys. </p>

<p>We imagine that our mountain range is aptly described by a "cost function."
We define probability distributions of the two directional parameters, called
generating distributions since they generate possible valleys or states we are
to explore. We define another distribution, called the acceptance distribution,
which depends on the difference of cost functions of the present generated
valley we are to explore and the last saved lowest valley. The acceptance
distribution is used to decide whether to stay in a new lower valley or to
bounce out of it. All the generating and acceptance distributions depend on
temperatures. </p>

<p>The ASA code was first developed in 1987 as Very Fast Simulated Reannealing
(VFSR) to deal with the necessity of performing adaptive global optimization on
multivariate nonlinear stochastic systems[2]. The first published use of VFSR
for a complex systems was in combat analysis, using a model of combat first
developed in 1986, and then applied to exercise and simulation data in a series
of papers that spanned 1988-1993[3]. The first applications to combat analysis
used code written in RATFOR and converted into FORTRAN. Other applications
since then have used new code written in C. (The ASA-NOTES file contains some
comments on interfacing ASA with FORTRAN codes.) </p>

<p>In November 1992, the VFSR C-code was rewritten, e.g., changing to the use
of long descriptive names, and made publicly available as version 6.35 under a
"copyleft" GNU General Public License (GPL)[4], and copies were placed in
NETLIB and STATLIB. </p>

<p>Beginning in January 93, many adaptive features were developed, largely in
response to users' requests, leading to this ASA code. Until 1996, ASA was
located at <a
href="http://www.alumni.caltech.edu/~ingber/">http://www.alumni.caltech.edu/~ingber/.</a>
Pointers were placed in NETLIB and STATLIB to this location. ASA versions 1.1
through 5.13 retained the GPL, but subsequent versions through this one have
incorporated a simpler <a href="#ASA-LICENSE">ASA-LICENSE</a>, based in part on
a University of California license, that protects the integrity of the
algorithm, promotes widespread usage, and requires reference to current source
code. As the archive grew, more room and maintenance was required, and in
February 1996 the site was moved to the present ingber.com location. Pointers
were placed in the Caltech site to this location. <a
href="http://alumni.caltech.edu/~ingber">http://alumni.caltech.edu/~ingber</a>
is the mirror homepage for the ASA site. </p>

<p>Mirrors of ASA (which may not always be current) are listed at <a
href="http://asa-caltech.sourceforge.net">http://asa-caltech.sourceforge.net</a>
(<a href="http://asa-caltech.sf.net)">http://asa-caltech.sf.net)</a> since
January 2007, and at <a
href="https://code.google.com/p/adaptive-simulated-">https://code.google.com/p/adaptive-simulated-</a>
annealing since in March 2001. FTP access to all archives was discontinued in
July 2010. </p>

<p>In February 2011, beginning with Version 28.1, the License was simplified
and brought into the framework described on <a
href="http://en.wikipedia.org/wiki/BSD_License">http://en.wikipedia.org/wiki/BSD_License</a>
as the New BSD License. </p>

<p>ASA has been examined in the context of a review of methods of simulated
annealing using annealing versus quenching (faster temperature schedules than
permitted by basic heuristic proof of ergodicity -- see more below on modifying
ASA with QUENCH OPTIONS)[5]. A paper has indicated how this technique can be
enhanced by combining it with some other powerful algorithms, e.g., to produce
an algorithm for parallel computation[6]. ASA is now used world-wide across
many disciplines[7,8,9,10], including specific disciplines such as
finance[11,12,13,14,15,16,17], neuroscience[18,19,20,21,22,23], and combat
analyses[24,25,26,27,28,29,30]. Some papers illustrate the combined use of ASA
for optimization and sampling[31,32,33,34,35,36]. The <a
href="http://www.ingber.com/asa_papers.html">http://www.ingber.com/asa_papers.html</a>
file in the ASA archive contains references to some patents and papers using
ASA and VFSR. <br>
</p>

<p>5.2. <a name="Outline-of-ASA-Algorithm">Outline of ASA Algorithm</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Details of the ASA algorithm are best obtained from the published papers.
There are three parts to its basic structure: Generating Probability Density
Functions, Acceptance Probability Density Functions, and Temperature Schedules.
</p>

<p>5.2.1. <a name="Simulated-Annealing-is-NOT-Simulated-Quenching">Simulated
Annealing is NOT Simulated Quenching</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>As an aside, it is very important to understand that Simulated Annealing
(SA) is NOT Simulated Quenching (SQ). The issue is that SA is not just one
algorithm -- it is a class of approaches to importance sampling. </p>

<p>Different SA algorithms may have different probability distributions they
use to generate new states for consideration by the acceptance criteria. The
often-cited SA proof of convergence depends on this generating probability
distribution, which leads to different temperature schedules for different
distributions. </p>

<p>If a schedule-1 derived for one SA-1 is faster than a schedule-2 derived for
a different SA-2, but one uses schedule-1 with the SA-2 algorithm, then SQ-2 is
being used and not SA-2. The proof for SA-2 will fail using schedule-1
(although the mixed algorithm might work just fine). </p>

<p>SQ is not a "bad" thing. It's just that one cannot cite the SA proof of
convergence, although the SQ being used might be really among the best
algorithms being used for a given system. For example, there is no doubt that
Newton's method is superior to SA for parabolic objective functions. The point
is that there are proofs that SA likely can do more for more complex problems,
although it might not be the most efficient algorithm for a specific system.
</p>

<p>See more below on how to modify ASA with QUENCH OPTIONS, easily permitting
various degrees of quenching. This is especially useful if you determine that
your optimal state(s) can be reached using SQ. </p>

<p>5.2.2. <a name="Generating-Probability-Density-Function">Generating
Probability Density Function</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>In a D-dimensional parameter space with parameters p^i having ranges [A_i,
B_i], about the k'th last saved point (e.g., a local optima), p_k^i, a new
point is generated using a distribution defined by the product of distributions
for each parameter, g^i(y^i; T_i), in terms of random variables y^i in [-1, 1],
where p_k+1^i = p_k^i + y^i(B_i - A_i), and "temperatures" T_i, <br>
<br>
g^i(y^i; T_i) = 1/[2(|y^i| + T_i)(1 + 1/T_i)]. <br>
The DEFINE_OPTIONS <a
href="#USER-GENERATING-FUNCTION-FALSE">USER_GENERATING_FUNCTION</a> permits
using an alternative to this ASA distribution function. </p>

<p>5.2.3. <a name="Acceptance-Probability-Density-Function">Acceptance
Probability Density Function</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The cost functions, C(p_k+1) - C(p_k), are compared using a uniform random
generator, U in [0, 1), in a "Boltzmann" test: If <br>
<br>
exp[-(C(p_k+1) - C(p_k))/T_cost] &gt; U, <br>
where T_cost is the "temperature" used for this test, then the new point is
accepted as the new saved point for the next iteration. Otherwise, the last
saved point is retained. The DEFINE_OPTIONS <a
href="#USER-ACCEPT-ASYMP-EXP-FALSE">USER_ACCEPT_ASYMP_EXP</a> or <a
href="#USER-ACCEPT-THRESHOLD-FALSE">USER_ACCEPT_THRESHOLD</a> permit using
alternatives to this Boltzmann distribution function. </p>

<p>5.2.4. <a name="Reannealing-Temperature-Schedule">Reannealing Temperature
Schedule</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The annealing schedule for each parameter temperature, T_i, from a starting
temperature T_i0, is <br>
<br>
T_i(k_i) = T_0i exp(-c_i k_i^(1/D)). <br>
This is discussed further below. </p>

<p>The annealing schedule for the cost temperature is developed similarly to
the parameter temperatures. However, the index for reannealing the cost
function, k_cost, is determined by the number of accepted points, instead of
the number of generated points as used for the parameters. This choice was made
because the Boltzmann acceptance criteria uses an exponential distribution
which is not as fat-tailed as the ASA distribution used for the parameters.
This schedule can be modified using several OPTIONS. In particular, the
Pre-Compile DEFINE_OPTIONS <a
href="#USER-COST-SCHEDULE-FALSE">USER_COST_SCHEDULE</a> permits quite arbitrary
functional modifications for this annealing schedule, and the Pre-Compile
DEFINE_OPTIONS </p>

<p>As determined by the Program Options selected, the parameter "temperatures"
may be periodically adaptively reannealed, or increased relative to their
previous values, using their relative first derivatives with respect to the
cost function, to guide the search "fairly" among the parameters. </p>

<p>As determined by the Program Options selected, the reannealing of the cost
temperature resets the scale of the annealing of the cost acceptance criteria
as <br>
<br>
T_cost(k_cost) = T_0cost exp(-c_cost k_cost^(1/D)). <br>
The new T_0cost is taken to be the minimum of the current initial cost
temperature and the maximum of the absolute values of the best and last cost
functions and their difference. The new k_cost is calculated taking T_cost as
the maximum of the current value and the absolute value of the difference
between the last and best saved minima of the cost function, constrained not to
exceed the current initial cost temperature. This procedure essentially resets
the scale of the annealing of the cost temperature within the scale of the
current best or last saved minimum. </p>

<p>This default algorithm for reannealing the cost temperature, taking
advantage of the ASA importance sampling that relates most specifically to the
parameter temperatures, while often is quite efficient for some systems, may
lead to problems in dwelling too long in local minima for other systems. In
such case, the user may also experiment with alternative algorithms effected
using the <a href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a> OPTIONS,
discussed below. For example, ASA provides an alternative calculation for the
cost temperature, when <a
href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a> &lt; -1 or &gt; 1, that
periodically calculates the initial and current cost temperatures or just the
initial cost temperature, resp., as a deviation over a sample of cost
functions. </p>

<p>These reannealing algorithms can be changed adaptively by the user as
described below in the sections <a
href="#USER-REANNEAL-COST-FALSE">USER_REANNEAL_COST</a> and <a
href="#USER-REANNEAL-PARAMETERS-FALSE">USER_REANNEAL_PARAMETERS</a>. </p>

<p>5.3. <a name="Efficiency-Versus-Necessity">Efficiency Versus Necessity</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>ASA is not necessarily an "efficient" code. For example, if you know that
your cost function to be optimized is something close to a parabola, then a
simple gradient Newton search method most likely would be faster than ASA. ASA
is believed to be faster and more robust than other simulated annealing
techniques for most complex problems with multiple local optima; again, be
careful to note that some problems are best treated by other algorithms. If you
do not know much about the structure of your system, and especially if it has
complex constraints, and you need to search for a global optimum, then this ASA
code is heartily recommended to you. </p>

<p>In the context of efficiency and necessity, the user should be alert to
recognize that any sampling or optimization program generally should be
considered as complementary, not as a substitute, to gaining knowledge of a
particular system. Unlike relatively "canned" codes that exist for
(quasi-)linear systems, nonlinear systems typically are non-typical. Often some
homework must be done to understand the system, and tuning often is required of
numerical algorithms such as ASA. For example, while principal component
analyses (PCA) often suffices to generate good (quasi-)orthogonal or
(quasi-)independent sets of parameters, this is not true for general nonlinear
systems. While such innovations as reannealing take good advantage of ASA which
offers independent distributions for each parameter, this generally may not be
a good substitute for a user-defined front-end, e.g., before the call to <a
href="#double-asa-">asa ()</a> or even embedded within the <a
href="#double-cost-function-">cost_function</a> (), to interpret and define
relevant parameters. </p>

<p>The ASA-NOTES file contains the sections @@Number of Generated States
Required and @@Judging Importance-Sampling, recommending use of log-log plots
to extrapolate the number of generated states required to attain a global
minimum, possibly as a function of selected OPTIONS. </p>

<p>6. <a name="Outline-of-Use">Outline of Use</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Set up the ASA interface: Your program should be divided into two basic
modules. (1) The user calling procedure, containing the cost function to be
minimized (or its negative if you require a global maximum), is contained in
asa_usr.c, asa_usr.h and asa_usr_cst.c. (2) The ASA optimization procedure, is
contained in asa.c and asa.h. The file asa_usr_asa.h contains definitions and
macros common to both asa.h and asa_usr.h. Furthermore, there are some options
to explore/read below. It is assumed there will be no confusion over the
standard uses of the term "parameter" in different contexts, e.g., as an
element passed by a subroutine or as a physical coefficient in a cost function.
</p>

<p>ASA has been run successfully on many machines under many compilers. To
check out your own system, you can run `make` (or the equivalent set of
commands in the ASA-Makefile), and compare your asa_out and asa_usr_out files
to the asa_test_asa and asa_test_usr files, respectively, provided with this
code. No attempt was made to optimize any compiler, so that the test runs do
not really signify any testing of compilers or architectures; rather they are
meant to be used as a guide to determine what you might expect on your own
machine. </p>

<p>The major sections below describe the compilation procedures, the Program
Options available to you to control the code, the use of templates to set up
your user module and interface to the asa module, and how to submit bug
reports. </p>

<p>If you already have your own cost function defined, you can insert it into
asa_usr_cst.c. If you wish to insert more OPTIONS, as a quick guide to get
started, you can search through asa_usr.c and the ASA-Makefile for all
occurrences of "MY_TEMPLATE_" to insert the necessary definitions required to
run ASA. If you use both <a href="#OPTIONS-FILE-TRUE">OPTIONS_FILE</a> and <a
href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA</a> set to TRUE, then usually
most such information can be placed in the asa_opt file, and then only the <a
href="#double-cost-function-">cost_function</a> () must be inserted. The place
to insert the <a href="#double-cost-function-">cost_function</a> () is marked
by "MY_TEMPLATE_cost." </p>

<p>7. <a name="ASA-Makefile-Compilation-Procedures">ASA-Makefile/Compilation
Procedures</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The ASA-Makefile is intended to be a template for your own Makefile. For
quick use, just copy this file to Makefile, which will be recognized by any
standard make tool. </p>

<p>The PostScript(R) ASA-README.ps and ASCII ASA-README.txt and ASA-README+.txt
files were generated using `make doc`. The ASA-Makefile describes some options
for formatting these files differently. Use `make` or `make all` to compile and
run asa_run, the executable prepared for the test function. Examine the
ASA-Makefile to determine the "clean" options available. </p>

<p>Since complex problems by their nature are often quite unique, it is
unlikely that the default parameters are just right for your problem. However,
experience has shown that if you a priori do not have any reason to determine
your own parameters, then you might do just fine using these defaults, and
these are recommended as a first-order guess. These defaults can be changed
simply by adding to the DEFINE_OPTIONS line in the ASA-Makefile, by passing
options on your command line, and by changing structure elements in the user or
asa module as described below. Depending on how you integrate ASA into your own
user modules, you may wish to modify this ASA-Makefile or at least use some of
these options in your own compilation procedures. </p>

<p>Note that the ASA-Makefile is just a convenience, not a necessity, to use
ASA. E.g., on systems which do not support this utility, you may simply compile
the files following the guidelines in the ASA-Makefile, taking care to pass the
correct DEFINE_OPTIONS to your compilation commands at your shell prompt. Still
another way, albeit not as convenient, is to make the desired changes in the
asa_usr_asa.h, and asa.h or asa_usr.h files as required. </p>

<p>Since the ASA-Makefile contains comments giving short descriptions of some
options, it should be considered as an extension of this documentation file.
For convenience, most of this information is repeated below. However, to see
how they can be used in compilations, please read through the ASA-Makefile. </p>

<p>For example, to run the ASA test problem using the gcc compiler, you could
just type at your "%" prompt: <br>
% cp ASA-Makefile Makefile<br>
% gcc -g -DASA_TEST=TRUE -o asa_run asa_usr.c asa_usr_cst.c asa.c -lm<br>
% asa_run<br>
<br>
Note that if you use gcc across different levels of compiler optimization on
different platforms, you may wish to invoke -ffloat- store to be sure to get
the same precision in your results. </p>

<p>If you have defined your own cost function in asa_usr_cst.c or within the
"MY_TEMPLATE_" guides in asa_usr.c, then <a href="#ASA-TEST-FALSE">ASA_TEST</a>
should be set to FALSE (the default if <a href="#ASA-TEST-FALSE">ASA_TEST</a>
is not defined in your compilation lines or in the ASA-Makefile). The code for
<a href="#ASA-TEST-FALSE">ASA_TEST</a>=TRUE is given just above these guides as
a template to use for your own cost function. </p>

<p>The easiest way for many users to quickly use ASA likely is to invoke the <a
href="#COST-FILE-TRUE">COST_FILE</a>, <a
href="#OPTIONS-FILE-TRUE">OPTIONS_FILE</a>, and <a
href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA</a> OPTIONS (the default),
using the files asa_usr_cst.c and asa_opt as templates. This is further
described below and illustrated in the <a
href="http://www.ingber.com/asa_examples.txt">http://www.ingber.com/asa_examples.txt</a>
file in the section Use of <a href="#COST-FILE-TRUE">COST_FILE</a> on Shubert
Problem. </p>

<p>7.1. <a name="DLL-ASA-Makefile">DLL ASA-Makefile</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Under Cygwin (cygwin.com), set <a href="#ASA-LIB-FALSE">ASA_LIB</a> to TRUE
and <a href="#INCL-STDOUT-TRUE">INCL_STDOUT</a> to FALSE (OPTIONS described
below), with the command <br>
<br>
% make asadll <br>
to produce a DLL to call asa_main() as a DLL function under windows. (Ignore
any undefined references to WinMain.) Note that per instructions given in the
ASA-Makefile, -mno-cygwin -mrtd should be included in CFLAGS. If -mno-cygwin
flag has been removed, use a mingw-targeted cross-compiler. </p>

<p>If paths are used to access files in code, under Windows use absolute paths
with "\\" (double back slash) to separate folders/directories, instead of
relative paths with "/" (single forward slash) separators as on other Unix
platforms. </p>

<p>8. <a name="Generic-ASA-Interfaces">Generic ASA Interfaces</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The sections above describe how to quickly adapt ASA for use in many
problems. However, complex projects often require sophisticated use of multiple
languages to handle data and multiple algorithms. ASA has many OPTIONS that
enable users to interface ASA with such complex projects. </p>

<p>ASA should compile under C++ as well as under C compilers. For example, I
regularly test this by running projects under both gcc and g++. This can be
very useful when ASA is called from other C++ programs, e.g., when using <a
href="#ASA-LIB-FALSE">ASA_LIB</a> set to TRUE. The ASA-NOTES file has
additional information, e.g., when using SUNPRO CC, etc. </p>

<p>I have led many projects that required ASA to interface with Java, Maple,
Matlab, MySQL, etc. The approach briefly described below can be applied to any
language that permits a simple interface to C code. This definitely requires
some expert experience in C, so you may have to find a local C guru, since I
cannot help you with your specific project. </p>

<p>Some specific interfaces have been prepared by other people, and I have
included some of them in the asa_contrib.txt file. The tradeoff for their
simple use is that these approaches are limited to using just a few ASA OPTIONS
as they typically have trimmed down the ASA code. </p>

<p>The generic approach is to utilize at least the OPTIONS <a
href="#ASA-LIB-FALSE">ASA_LIB</a> and <a
href="#OPTIONAL-DATA-PTR-FALSE">OPTIONAL_DATA_PTR</a>, setting them to TRUE. <a
href="#ASA-LIB-FALSE">ASA_LIB</a> permits the entire ASA code to be called as a
simple function. Its sole parameter can be a struct defined by <a
href="#OPTIONAL-PTR-TYPE-USER-TYPE">OPTIONAL_PTR_TYPE</a>, e.g., <a
href="#OPTIONAL-PTR-TYPE-USER-TYPE">OPTIONAL_PTR_TYPE</a> PROJECT, defined in
asa_usr_asa.h. A small include file common to asa_usr_asa.h and to the larger
complex project, e.g., project.h, is used to define the constituents of the the
PROJECT struct. As described above in the DLL ASA-Makefile sub-Section of
Section 7, <a href="#ASA-LIB-FALSE">ASA_LIB</a> can be used to create a DLL to
be called by Windows programs. </p>

<p>A small C function, e.g., project.c, is to be used for the interface between
ASA and the other language. Similarly, another small function also may be used
to interface the project to handle the interface, e.g., project.m,
project.java, project.mpl, etc. Inversely, the interface may (also) be between
the cost function, e.g., in asa_usr_cst.c or asa_usr.c, and the project. Then
the application below is used to pass information between the cost function and
the other language. </p>

<p>The other language passes information and data to project.c required by ASA,
where it is packed into the struct defined by <a
href="#OPTIONAL-PTR-TYPE-USER-TYPE">OPTIONAL_PTR_TYPE</a>. Multiple or
recursive calls to ASA can be handled by including a flag in this struct, e.g.,
to turn on different cost functions. Also added to this struct are placeholders
for the output of ASA required by the project. This struct is passed to the ASA
code by calling asa_main () defined in asa_usr.c with a parameter PROJECT
*Project. In asa_main (), in the section defining properties of <a
href="#OPTIONAL-DATA-PTR-FALSE">OPTIONAL_DATA_PTR</a>, the pointer to Project
struct is set to the pointer path to <a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a>. <a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a> is now passed throughout the
entire ASA code via the OPTIONS pointer, project parameters can be adaptively
changed, etc. See the discussion under <a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a>. </p>

<p>After the call to <a href="#double-asa-">asa ()</a> in asa_usr.c, its output
can be packed into the project struct, before memory is freed. The pointer <a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a> should be set to NULL instead
of freed; see the comment in asa_usr.c at the place <a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a> is freed in the default code.
</p>

<p>It is wise to create #define PROJECT and #endif pairs wherever changes to
any ASA code are made, define PROJECT to TRUE in asa_usr_asa.h, so that it will
be easy to modify updated ASA code, etc. Probably several such changes will
have to be made in asa_usr.c. Control of OPTIONS likely will best be handled in
asa_usr_asa.h than in the ASA-Makefile. </p>

<p>9. <a name="User-Options">User Options</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Program Options, i.e., the USER_DEFINES typedef on the OPTIONS,
USER_OPTIONS, RECUR_USER_OPTIONS, etc., are turned on during the running of <a
href="#double-asa-">asa ()</a>. The DEFINE_OPTIONS are compiled in by the use
of arguments to the compilation or by setting them in the asa_usr_asa.h file.
An example of the former is <a
href="#OPTIONS--gt-Reanneal-Parameters-TRUE-">Reanneal_Parameters</a>, and an
example of the latter is <a href="#ASA-SAMPLE-FALSE">ASA_SAMPLE</a>. The basic
code is kept small for most users by using the Pre-Compile DEFINE_OPTIONS to
pull in additional DEFINE_OPTIONS only if required. The Program Options are
intended to be used adaptively and/or to pull in additional code for cases
where repeated or recursive use, e.g., when using <a
href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a>, might be facilitated by having
control of some Program Options at separate levels. </p>

<p>Note that even when the DEFINE_OPTIONS or Program Options are used to pull
in new code, separate levels of control also can be achieved, albeit usually at
the price of incurring some overhead in setting values at some levels of
recursion or repeated calls. For example, in cases where new arrays or
functions come into play, enough parameters are passed between the asa and user
modules to calculate the defaults as well as different values adaptively. In
some often used cases, separate DEFINE_OPTIONS are given, e.g., both <a
href="#OPTIONS-FILE-TRUE">OPTIONS_FILE</a> and <a
href="#RECUR-OPTIONS-FILE-FALSE">RECUR_OPTIONS_FILE</a> exist. I have tried to
strike some reasonable balance between these goals and constraints. </p>

<p>The DEFINE_OPTIONS are organized into two groups: Pre-Compile Options and
(Pre-Compile) Printing Options. In addition, there are some alternatives to
explore under Compiler Choices and Document Formatting. Below are the
DEFINE_OPTIONS with their defaults. The Program Options are further discussed
in other sections in this document. </p>

<p>Note that the Pre-Compile DEFINE_OPTIONS are all in capital letters, and the
adaptive Program Options (under structure USER_OPTIONS in the user module and
under structure OPTIONS in the asa module) are in capital and lower-case
letters. In this file, often just the term OPTIONS may refer to the set of all
options when the context is clear. </p>

<p>9.1. <a name="Pre-Compile-DEFINE-OPTIONS">Pre-Compile DEFINE_OPTIONS</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>9.1.1. <a
name="USER-COST-FUNCTION-cost-function">USER_COST_FUNCTION=cost_function</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The default name of the cost function is <a
href="#double-cost-function-">cost_function</a>. This can be changed in
asa_usr_asa.h (or the ASA-Makefile) by defining <a
href="#USER-COST-FUNCTION-cost-function-">USER_COST_FUNCTION</a>. This of
course requires compiling in the new cost function and its prototype. </p>

<p>9.1.2. <a
name="RECUR-USER-COST-FUNCTION-recur-cost-function">RECUR_USER_COST_FUNCTION=recur_cost_function</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is TRUE, the default
name of the recur cost function is <a
href="#double-recur-cost-function-">recur_cost_function</a>. This can be
changed in asa_usr_asa.h (or the ASA-Makefile) by defining <a
href="#RECUR_USER-COST-FUNCTION-recur-cost-function-">RECUR_USER_COST_FUNCTION</a>.
This of course requires compiling in the new cost function and its prototype.
</p>

<p>9.1.3. <a name="OPTIONS-FILE-TRUE">OPTIONS_FILE=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>You can elect to read in many of the Program Options from asa_opt by setting
<a href="#OPTIONS-FILE-TRUE">OPTIONS_FILE</a>=TRUE. <a
href="#OPTIONS-FILE-TRUE">OPTIONS_FILE</a>=TRUE can be set in the ASA-Makefile
in compilation commands or in asa_usr_asa.h. </p>

<p>9.1.4. <a name="OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#OPTIONS-FILE-TRUE">OPTIONS_FILE</a> is set to TRUE, then
setting <a href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA</a> to TRUE permits
reading most initialization data from asa_opt, i.e., number of parameters,
minimum and maximum ranges, initial values, and integer or real types. This
should suffice for most applications, just requiring insertion of the user's <a
href="#double-cost-function-">cost_function</a> into asa_usr_cst.c or
asa_usr.c. </p>

<p>If <a href="#OPTIONS-FILE-TRUE">OPTIONS_FILE</a>, <a
href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA</a> and <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a> are TRUE, then *<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> is read
in from asa_opt. If <a href="#OPTIONS-FILE-TRUE">OPTIONS_FILE</a>, <a
href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA</a>, <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a>, and <a
href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a> are TRUE, then *<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> and <a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a> [] all
are read in from asa_opt. </p>

<p>9.1.5. <a name="RECUR-OPTIONS-FILE-FALSE">RECUR_OPTIONS_FILE=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is TRUE, you can elect
to read in many of the Program Options for the top-level program from
asa_opt_recur (which you will have to create in the style of asa_opt), by
setting <a href="#RECUR-OPTIONS-FILE-FALSE">RECUR_OPTIONS_FILE</a>=TRUE. </p>

<p>9.1.6. <a
name="RECUR-OPTIONS-FILE-DATA-FALSE">RECUR_OPTIONS_FILE_DATA=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is TRUE, if <a
href="#RECUR-OPTIONS-FILE-FALSE">RECUR_OPTIONS_FILE</a> is set to TRUE, then
setting <a href="#RECUR-OPTIONS-FILE-DATA-FALSE">RECUR_OPTIONS_FILE_DATA</a> to
TRUE permits reading most initialization data from asa_opt_recur (which you
will have to create in the style of asa_opt), i.e., number of parameters,
minimum and maximum ranges, initial values, and integer or real types. </p>

<p>If <a href="#RECUR-OPTIONS-FILE-FALSE">RECUR_OPTIONS_FILE</a>, <a
href="#RECUR-OPTIONS-FILE-DATA-FALSE">RECUR_OPTIONS_FILE_DATA</a> and <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a> are TRUE, then *<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> is read
in from asa_opt_recur. If <a
href="#RECUR-OPTIONS-FILE-FALSE">RECUR_OPTIONS_FILE</a>, <a
href="#RECUR-OPTIONS-FILE-DATA-FALSE">RECUR_OPTIONS_FILE_DATA</a>, <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a>, and <a
href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a> are TRUE, then *<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> and <a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a> [] all
are read in from asa_opt_recur. </p>

<p>9.1.7. <a name="COST-FILE-TRUE">COST_FILE=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#COST-FILE-TRUE">COST_FILE</a> is set to TRUE, then you can use
a separate file to define your cost function. When used together with <a
href="#OPTIONS-FILE-TRUE">OPTIONS_FILE</a> and <a
href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA</a> both set to TRUE, most
users may be able to just use their own asa_usr_cst.c file for their <a
href="#double-cost-function-">cost_function</a> () together with the asa_opt
data file, and not have to work through some of the examples and templates
contained in asa_usr.c. </p>

<p>When <a href="#COST-FILE-TRUE">COST_FILE</a> is set to TRUE, the file
asa_usr_cst.c contains <a href="#double-cost-function-">cost_function</a> ().
If you wish to change the name of <a
href="#double-cost-function-">cost_function</a> () in asa_usr_cst.c, then you
must also change this name in the call to <a href="#double-asa-">asa ()</a> in
asa_usr.c (search under "asa (") and in the prototype listing in asa_usr.h (in
the <a href="#HAVE-ANSI-TRUE">HAVE_ANSI</a> set to TRUE or FALSE section as
appropriate). You may wish to copy the appropriate parameter list in
asa_usr_cst.c just before the <a href="#ASA-TEST-FALSE">ASA_TEST</a> problem to
be sure of using the proper format expected by <a href="#double-asa-">asa
()</a> in asa.c. </p>

<p>The <a
href="http://www.ingber.com/asa_examples.txt">http://www.ingber.com/asa_examples.txt</a>
file contains a section Use of <a href="#COST-FILE-TRUE">COST_FILE</a> on
Shubert Problem which illustrates the simple modifications of ASA required to
use <a href="#COST-FILE-TRUE">COST_FILE</a>. </p>

<p>9.1.8. <a name="ASA-LIB-FALSE">ASA_LIB=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Setting <a href="#ASA-LIB-FALSE">ASA_LIB</a>=TRUE will facilitate your
running <a href="#double-asa-">asa ()</a> as a library call from another
program, calling asa_main () in asa_usr.c. In the templates provided, all
initializations and cost function definitions are set up in the user module.
For example, you may wish to have some data read in to a module that calls
asa_main (), then parses out this information to the arrays in asa_main () and
<a href="#void-initialize-parameters-">initialize_parameters</a> (and possibly
recur_initialize_parameters). In conjunction with setting printout to stdout
(see <a href="#ASA-OUT---quot-asa-out--quot-">ASA_OUT</a> and USER_ASA_OUT),
this can be a convenient way of using the same asa_run executable for many
runs. </p>

<p>When <a href="#ASA-LIB-FALSE">ASA_LIB</a> is TRUE, another function becomes
available in asa_usr.c, <a href="#LONG-INT-asa-seed-">asa_seed</a> (), which
can be used to change the initial seed used in runs made by asa_main (). If
this routine is not called, then the default initial seed is used. An example
of using this routine when calling asa_main () is given with ASA_TEMPLATE_LIB,
using a main () at the end of the asa_usr.c file. </p>

<p>As described in the DLL ASA-Makefile sub-Section of Section 7, the
ASA-Makefile and <a href="#ASA-LIB-FALSE">ASA_LIB</a> can be used to create a
DLL for Windows programs. </p>

<p>9.1.9. <a name="HAVE-ANSI-TRUE">HAVE_ANSI=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Setting <a href="#HAVE-ANSI-TRUE">HAVE_ANSI</a>=FALSE will permit you to use
an older K&amp;R C compiler. This option can be used if you do not have an ANSI
compiler, overriding the default <a href="#HAVE-ANSI-TRUE">HAVE_ANSI</a>=TRUE.
If you use <a href="#HAVE-ANSI-TRUE">HAVE_ANSI</a>=FALSE, change CC and
CDEBUGFLAGS as described in the ASA-Makefile. </p>

<p>9.1.10. <a name="IO-PROTOTYPES-FALSE">IO_PROTOTYPES=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Most newer operating systems do not like any other I/O prototyping other
than those in their own include files. Other machines, like a Dec-3100 under
Ultrix complain that the ANSI I/O prototypes were inconsistent. A Sun under
4.1.x gcc gave warnings if no I/O prototypes were present. The defaults in
asa_usr_asa.h use newer system prototypes. <a
href="#IO-PROTOTYPES-FALSE">IO_PROTOTYPES</a>=TRUE will uncomment out
declarations for such items as fprintf, fflush, fclose, exit, and fscanf. </p>

<p>9.1.11. <a name="TIME-CALC-FALSE">TIME_CALC=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Some systems do not have the time include files used here; others have
different scales for time. Setting <a
href="#TIME-CALC-FALSE">TIME_CALC</a>=TRUE will permit use of the time
routines. </p>

<p>9.1.12. <a name="TIME-STD-FALSE">TIME_STD=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Some systems, e.g., hpux and Cygwin (with -mno-cygwin), use other
Unix-standard macros to access time. If -mno-cygwin flag has been removed, use
a mingw-targeted cross-compiler. Setting <a
href="#TIME-STD-FALSE">TIME_STD</a>=TRUE when using <a
href="#TIME-CALC-FALSE">TIME_CALC</a>=TRUE will use these time routines
instead. </p>

<p>9.1.13. <a name="TIME-GETRUSAGE-TRUE">TIME_GETRUSAGE=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>An additional module for using <a href="#TIME-CALC-FALSE">TIME_CALC</a> set
to TRUE, setting <a href="#TIME-GETRUSAGE-FALSE">TIME_GETRUSAGE</a> to FALSE,
is more portable to compile across some platforms, e.g., Cygwin (with
-mno-cygwin), but it can require different parameters for timing results. If
-mno-cygwin flag has been removed, use a mingw-targeted cross-compiler.
Comments have been placed in the code in asa.c. </p>

<p>9.1.14. <a name="INT-LONG-TRUE">INT_LONG=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Some smaller systems choke on 'long int' and this option can be set to <a
href="#INT-LONG-TRUE">INT_LONG</a>=FALSE to turn off warnings and possibly some
errors. The cast LONG_INT is used to define 'int' or 'long int' appropriately.
</p>

<p>9.1.15. <a name="INT-ALLOC-FALSE">INT_ALLOC=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The cast on *number_parameters is set to ALLOC_INT which defaults to
LONG_INT. On some machines, ALLOC_INT might have to be set to int if there is a
strict requirement to use an (unsigned) int for calloc, while 'long int' still
can be used for other aspects of ASA. If ALLOC_INT is to be set to int, set <a
href="#INT-ALLOC-FALSE">INT_ALLOC</a> to TRUE. </p>

<p>9.1.16. <a name="SMALL-FLOAT-1-0E-18">SMALL_FLOAT=1.0E-18</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><a href="#SMALL-FLOAT-1-0E-18">SMALL_FLOAT</a> is a measure of accuracy
permitted in log and divide operations in asa, i.e., which is not precisely
equivalent to a given machine's precision. There also are Pre-Compile
DEFINE_OPTIONS to separately set constants for minimum and maximum doubles and
precision permitted by your machine. Experts who require the very best
precision can fine-tune these parameters in the code. </p>

<p>Such issues arise because the fat tail of ASA, associated with high
parameter temperatures, is very important for searching the breadth of the
ranges especially in the initial stages of search. However, the parameter
temperatures require small values at the final stages of the search to converge
to the best solution, albeit this is reached very quickly given the exponential
schedule proven in the referenced publications to be permissible with ASA. Note
that the test problem in asa_usr_cst.c and asa_usr.c is a particularly nasty
one, with 1E20 local minima and requiring ASA to search over 12 orders of
magnitude of the cost function before correctly finding the global minimum.
Thus, intermediate values disagree somewhat for <a
href="#SMALL-FLOAT-1-0E-18">SMALL_FLOAT</a>=1.0E-12 from the settings using <a
href="#SMALL-FLOAT-1-0E-18">SMALL_FLOAT</a>=1.0E-18 (the default); they agree
if <a href="#SMALL-FLOAT-1-0E-18">SMALL_FLOAT</a>=1.0E-12 while also setting <a
href="#MIN-DOUBLE-SMALL-FLOAT">MIN_DOUBLE</a>=1.0E-18. The results diverge when
the parameter temperatures get down to the range of E-12, limiting the accuracy
of the <a href="#SMALL-FLOAT-1-0E-18">SMALL_FLOAT</a>=1.0E-12 run. </p>

<p>On some machines that have register variables assigned inconsistently with
other doubles, there can arise some numerical differences in some systems.
There has been no such problem found on Sun/Solaris 2.x using gcc, but some
problems have been noticed on some Intel chips using different gcc
optimizations. </p>

<p>As mentioned above, note that the use of -ffloat-store with gcc/g++ is to
maintain the same level of precision across levels of compiler optimization on
different platforms. </p>

<p>9.1.17. <a name="MIN-DOUBLE-SMALL-FLOAT">MIN_DOUBLE=SMALL_FLOAT</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>You can define your own machine's minimum positive double here if you know
it. </p>

<p>9.1.18. <a name="MAX-DOUBLE-1-0-SMALL-FLOAT">MAX_DOUBLE=1.0/SMALL_FLOAT</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>You can define your own machine's maximum double here if you know it. </p>

<p>9.1.19. <a name="EPS-DOUBLE-SMALL-FLOAT">EPS_DOUBLE=SMALL_FLOAT</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>You can define your own machine's maximum precision here if you know it. </p>

<p>9.1.20. <a name="CHECK-EXPONENT-FALSE">CHECK_EXPONENT=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#CHECK-EXPONENT-FALSE">CHECK_EXPONENT</a> is set to TRUE, the
macro EXPONENT_CHECK(x), defined in asa.h in terms of <a
href="#MIN-DOUBLE-SMALL-FLOAT">MIN_DOUBLE</a> and <a
href="#MAX-DOUBLE-1-0-SMALL-FLOAT">MAX_DOUBLE</a>, checks that an exponent x is
within a valid range and, if not, adjusts its magnitude to fit in the range.
</p>

<p>9.1.21. <a name="NO-PARAM-TEMP-TEST-FALSE">NO_PARAM_TEMP_TEST=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#NO-PARAM-TEMP-TEST-FALSE">NO_PARAM_TEMP_TEST</a> is set to
TRUE, then all parameter temperatures less than <a
href="#EPS-DOUBLE-SMALL-FLOAT">EPS_DOUBLE</a> are set to <a
href="#EPS-DOUBLE-SMALL-FLOAT">EPS_DOUBLE</a>, and no exit is called. </p>

<p>9.1.22. <a name="NO-COST-TEMP-TEST-FALSE">NO_COST_TEMP_TEST=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#NO-COST-TEMP-TEST-FALSE">NO_COST_TEMP_TEST</a> is set to TRUE,
then a cost temperature less than <a
href="#EPS-DOUBLE-SMALL-FLOAT">EPS_DOUBLE</a> is set to <a
href="#EPS-DOUBLE-SMALL-FLOAT">EPS_DOUBLE</a>, and no exit is called. </p>

<p>9.1.23. <a name="SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The user module contains a template to illustrate how ASA may be used to
self-optimize its Program Options. This can be very CPU-expensive and is of
course dependent on how you define your recursive cost function (<a
href="#double-recur-cost-function-">recur_cost_function</a> in the user
module). The example given returns from <a
href="#double-recur-cost-function-">recur_cost_function</a> the number of
function evaluations taken to optimization the test <a
href="#double-cost-function-">cost_function</a>, with the constraint to only
accept optimizations of the <a href="#double-cost-function-">cost_function</a>
that are lower than a specified value. A few lines of code can be uncommented
in asa_usr.c to force a fast exit for this demo; search for FAST EXIT. (Note
that this also could achieved by using OPTIONS-&gt;<a
href="#OPTIONS--gt-Immediate-Exit-FALSE-">Immediate_Exit</a> discussed below.)
</p>

<p>The ASA_TEMPLATE_SELFOPT example uses <a
href="#OPTIONS-FILE-TRUE">OPTIONS_FILE</a>=FALSE in the Pre-Compile Options.
Note that DEFINE_OPTIONS <a href="#OPTIONS-FILE-TRUE">OPTIONS_FILE</a>=TRUE and
<a href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA</a>=TRUE here would take
data from asa_opt for the lower-level program using the <a
href="#double-cost-function-">cost_function</a> (). Both DEFINE_OPTIONS <a
href="#RECUR-OPTIONS-FILE-FALSE">RECUR_OPTIONS_FILE</a> and <a
href="#RECUR-OPTIONS-FILE-DATA-FALSE">RECUR_OPTIONS_FILE_DATA</a> would have to
be set to TRUE to use asa_opt_recur to read in both the OPTIONS and the
recur_cost_parameters data (which you would have to write in the style of
asa_opt) for the top-level <a
href="#double-recur-cost-function-">recur_cost_function</a> (). </p>

<p>This can be useful when approaching a new system, and it is suspected that
the default ASA Program Options are not at all efficient for this system. It is
suggested that a trimmed cost function or data set be used to get a reasonable
guess for a good set of Program Options. ASA has demonstrated that it typically
is quite robust under a given set of Program Options, so it might not make too
much sense to spend lots of resources performing additional fine tuning of the
these options. Also, it is possible you might crash the code by permitting
ranges of Program Options that cause your particular <a
href="#double-cost-function-">cost_function</a> to return garbage to <a
href="#double-asa-">asa ()</a>. </p>

<p>9.1.24. <a name="ASA-TEST-FALSE">ASA_TEST=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Setting <a href="#ASA-TEST-FALSE">ASA_TEST</a> to TRUE will permit running
the ASA test problem. This has been added to the DEFINE_OPTIONS in the
ASA-Makefile so that just running make will run the test problem for the new
user. No attempt was made to optimize any OPTIONS for the <a
href="#ASA-TEST-FALSE">ASA_TEST</a> problem as it appears in the standard code.
</p>

<p>9.1.25. <a name="ASA-TEST-POINT-FALSE">ASA_TEST_POINT=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The code used for the <a href="#ASA-TEST-FALSE">ASA_TEST</a> problem closely
follows the reference given in asa_usr.c, and was rewritten from code given to
the author in 1992. Other researchers have sent the author different code for
this system, and all results agree within round-off errors. </p>

<p>However, note that the actual problem stated in the reference in asa_usr.c
is harder, requiring the finding of an optimal point and not an optimal region.
The code for that problem is given in asa_usr.c when <a
href="#ASA-TEST-POINT-FALSE">ASA_TEST_POINT</a> is set to TRUE (having the
effect of setting <a href="#COST-FILE-TRUE">COST_FILE</a> to FALSE in
asa_usr_asa.h). The <a
href="http://www.ingber.com/asa_examples.txt">http://www.ingber.com/asa_examples.txt</a>
file illustrates how that global minimum can be attained. </p>

<p>9.1.26. <a name="MY-TEMPLATE-TRUE">MY_TEMPLATE=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#MY-TEMPLATE-TRUE">MY_TEMPLATE</a> is set to TRUE (the
default), locations in asa_usr.c and asa_usr_asa.h become active sites for your
own code. Searching asa_usr.c for "MY_TEMPLATE_" provides a guide for
additional code to add for your own system. For example, just above the
occurrence of the guides for MY_TEMPLATE_cost is the corresponding code for <a
href="#ASA-TEST-FALSE">ASA_TEST</a>=TRUE. Keeping the default of <a
href="#ASA-TEST-FALSE">ASA_TEST</a> set to FALSE permits such changes without
overwriting the test example. </p>

<p>9.1.27. <a
name="USER-INITIAL-COST-TEMP-FALSE">USER_INITIAL_COST_TEMP=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Setting <a href="#USER-INITIAL-COST-TEMP-FALSE">USER_INITIAL_COST_TEMP</a>
to TRUE permits you to specify the initial cost temperature in the <a
href="#OPTIONS--gt-User-Cost-Temperature">User_Cost_Temperature</a> [] array.
This can be useful in problems where you want to start the search at a specific
scale. </p>

<p>9.1.28. <a
name="RATIO-TEMPERATURE-SCALES-FALSE">RATIO_TEMPERATURE_SCALES=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Different rates of parameter annealing can be set with <a
href="#RATIO-TEMPERATURE-SCALES-FALSE">RATIO_TEMPERATURE_SCALES</a> set to
TRUE. This requires initializing the <a
href="#OPTIONS--gt-User-Temperature-Ratio">User_Temperature_Ratio</a> [] array
in the user module as discussed below. </p>

<p>9.1.29. <a
name="USER-INITIAL-PARAMETERS-TEMPS-FALSE">USER_INITIAL_PARAMETERS_TEMPS=FALSE</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Setting <a
href="#USER-INITIAL-PARAMETERS-TEMPS">USER_INITIAL_PARAMETERS_TEMPS</a> to TRUE
permits you to specify the initial parameter temperatures in the <a
href="#OPTIONS--gt-User-Parameter-Temperature">User_Parameter_Temperature</a>
[] array. This can be useful in constrained problems, where greater efficiency
can be achieved in focussing the search than might be permitted just by setting
upper and lower bounds. </p>

<p>9.1.30. <a name="DELTA-PARAMETERS-FALSE">DELTA_PARAMETERS=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Different increments, used during reannealing to set each parameter's
numerical derivatives, can be set with <a
href="#DELTA-PARAMETERS-FALSE">DELTA_PARAMETERS</a> set to TRUE. This requires
initializing the <a
href="#OPTIONS--gt-User-Delta-Parameter">User_Delta_Parameter</a> [] array in
the user module as discussed below. </p>

<p>9.1.31. <a name="QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>This DEFINE_OPTIONS permits you to alter the basic algorithm to perform
selective "quenching," i.e., faster temperature cooling than permitted by the
ASA algorithm. This can be very useful, e.g., to quench the system down to some
region of interest, and then to perform proper annealing for the rest of the
run. However, note that once you decide to quench rather than to truly anneal,
there no longer is any statistical guarantee of finding a global optimum. </p>

<p>Once you decide you can quench, there are many more alternative algorithms
you might wish to choose for your system, e.g., creating a hybrid global-local
adaptive quenching search algorithm, e.g., using <a
href="#USER-REANNEAL-PARAMETERS-FALSE">USER_REANNEAL_PARAMETERS</a> described
below. Note that just using the quenching OPTIONS provided with ASA can be
quite powerful, as demonstrated in the <a
href="http://www.ingber.com/asa_examples.txt">http://www.ingber.com/asa_examples.txt</a>
file. </p>

<p>Setting <a href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a> to TRUE can
be extremely useful in very large parameter dimensions; see the ASA-NOTES file
under the section on Quenching. As discussed in the first 1989 VFSR paper, the
heuristic statistical proof of finding the global optimum reduces to the
following: The parameter temperature schedules must suffice to insure that the
product of individual generating distributions, <br>
<br>
g = PROD_i g^i, <br>
taken at all annealing times, indexed by k, of not generating a global optimum,
given infinite time, is such that <br>
<br>
PROD_k (1-g_k) = 0, <br>
which is equivalent to <br>
<br>
SUM_k g_k = infinity. <br>
For the ASA temperature schedule, this is satisfied as <br>
<br>
SUM_k PROD^D 1/k^(1/D) = SUM_k 1/k = infinity. <br>
Now, if the temperature schedule above is redefined as <br>
<br>
T_i(k_i) = T_0i exp(-c_i k_i^(Q/D)), <br>
<br>
c_i = m_i exp(-n_i Q/D), <br>
in terms of the "quenching factor" Q, then the above proof fails if Q &gt; 1 as
<br>
<br>
SUM_k PROD^D 1/k^(Q/D) = SUM_k 1/k^Q &lt; infinity <br>
</p>

<p>This simple calculation shows how the "curse of dimensionality" arises, and
also gives a possible way of living with this disease which will be present in
any algorithm that substantially samples the parameter space. In ASA, the
influence of large dimensions becomes clearly focused on the exponential of the
power of k being 1/D, as the annealing required to properly sample the space
becomes prohibitively slow. So, if we cannot commit resources to properly
sample the space ergodically, then for some systems perhaps the next best
procedure would be to turn on quenching, whereby Q can become on the order of
the size of number of dimensions. In some cases tried, a small system of only a
few parameters can be used to determine some reasonable Program Options, and
then these can be used for a much larger space scaled up to many parameters.
This can work in some cases because of the independence of dimension of the
generating functions. </p>

<p>If <a href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a> is TRUE, then <a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a> [] must
be defined as described below. </p>

<p>If <a href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA</a>, <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a>, and <a
href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a> are TRUE, then *<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> and <a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a> [] all
are read in from asa_opt. If <a
href="#RECUR-OPTIONS-FILE-DATA-FALSE">RECUR_OPTIONS_FILE_DATA</a>, <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a>, and <a
href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a> are TRUE, then *<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> and <a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a> [] all
are read in from asa_opt_recur. </p>

<p>9.1.32. <a name="QUENCH-COST-FALSE">QUENCH_COST=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#QUENCH-COST-FALSE">QUENCH_COST</a> is set to TRUE, the scale of
the power of 1/D temperature schedule used for the acceptance function can be
altered in a similar fashion to that described above when <a
href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a> is set to TRUE. However,
note that this OPTIONS does not affect the annealing proof of ASA, and so this
may be used without damaging the statistical ergodicity of the algorithm. Even
greater functional changes can be made using the Pre-Compile DEFINE_OPTIONS <a
href="#USER-COST-SCHEDULE-FALSE">USER_COST_SCHEDULE</a>, <a
href="#USER-ACCEPT-ASYMP-EXP-FALSE">USER_ACCEPT_ASYMP_EXP</a>, <a
href="#USER-ACCEPT-THRESHOLD-FALSE">USER_ACCEPT_THRESHOLD</a>, or <a
href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a>. </p>

<p>If <a href="#QUENCH-COST-FALSE">QUENCH_COST</a> is TRUE, then <a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> [0] must
be defined as described below. </p>

<p>If <a href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA</a> and <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a> are TRUE, then <a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> [] is
read in from asa_opt. If <a
href="#RECUR-OPTIONS-FILE-DATA-FALSE">RECUR_OPTIONS_FILE_DATA</a> and <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a> are TRUE, then *<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> is read
in from asa_opt_recur. </p>

<p>Similarly as noted above for <a
href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a>, setting <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a> to TRUE can be extremely useful in
very large parameter dimensions; see the ASA-NOTES file under the section on
Quenching. </p>

<p>9.1.33. <a
name="QUENCH-PARAMETERS-SCALE-TRUE">QUENCH_PARAMETERS_SCALE=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a> is TRUE, if <a
href="#QUENCH-PARAMETERS-SCALE-TRUE">QUENCH_PARAMETERS_SCALE</a> is TRUE, then
the temperature scales and the temperature indexes are affected by <a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a> [].
This can have the effects of <a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a> []
appear contrary, as the effects on the temperatures from the temperature scales
and the temperature indexes can have opposing effects. However, these defaults
are perhaps most intuitive when the <a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a> [] are
on the order of the parameter dimension. </p>

<p>When <a href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a> is TRUE, if <a
href="#QUENCH-PARAMETERS-SCALE-TRUE">QUENCH_PARAMETERS_SCALE</a> is FALSE, only
the temperature indexes are affected by <a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a> []. The
same effect could be managed by raising <a
href="#OPTIONS--gt-Temperature-Anneal-Scale-100-0-">Temperature_Anneal_Scale</a>
to the appropriate power, but this may not be as convenient. </p>

<p>9.1.34. <a name="QUENCH-COST-SCALE-TRUE">QUENCH_COST_SCALE=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#QUENCH-COST-FALSE">QUENCH_COST</a> is TRUE, if <a
href="#QUENCH-COST-SCALE-TRUE">QUENCH_COST_SCALE</a> is TRUE, then the
temperature scale and the temperature index are affected by <a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> [0]. This
can have the effects of <a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> [0]
appear contrary, as the effects on the temperature from the temperature scale
and the temperature index can have opposing effects. However, these defaults
are perhaps most intuitive when <a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> [0] is on
the order of the parameter dimension. </p>

<p>When <a href="#QUENCH-COST-FALSE">QUENCH_COST</a> is TRUE, if <a
href="#QUENCH-COST-SCALE-TRUE">QUENCH_COST_SCALE</a> is FALSE, only the
temperature index is affected by <a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> [0]. The
same effect could be managed by raising <a
href="#OPTIONS--gt-Temperature-Anneal-Scale-100-0-">Temperature_Anneal_Scale</a>
to the appropriate power, but this may not be as convenient. </p>

<p>9.1.35. <a name="ASA-TEMPLATE-FALSE">ASA_TEMPLATE=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>There are several templates that come with the ASA code. To permit use of
these OPTIONS without having to delete these extra tests, these templates are
wrapped with <a href="#ASA-TEMPLATE-FALSE">ASA_TEMPLATE</a>'s. To use your own
cost function, you likely will only have to write <a
href="#double-cost-function-">cost_function</a> () in asa_usr_cst.c, and use
the asa_opt file. If you wish to add more OPTIONS or code, you may need to
write relevant portions of <a href="#double-cost-function-">cost_function</a>
() and <a href="#void-initialize-parameters-">initialize_parameters</a> () in
asa_usr.c and asa_usr.h. </p>

<p>The ASA-Makefile has several examples of DEFINE_OPTIONS that will generate
test examples using special <a href="#ASA-TEMPLATE-FALSE">ASA_TEMPLATE</a>'s
set to TRUE. These are {ASA_TEMPLATE_LIB, ASA_TEMPLATE_ASA_OUT_PID,
ASA_TEMPLATE_MULTIPLE, ASA_TEMPLATE_SELFOPT, ASA_TEMPLATE_SAMPLE,
ASA_TEMPLATE_QUEUE, ASA_TEMPLATE_PARALLEL, ASA_TEMPLATE_SAVE}; the sets of
Pre-Compile OPTIONS these use are defined in asa_usr_asa.h. </p>

<p>Lines marked off by <a href="#ASA-TEMPLATE-FALSE">ASA_TEMPLATE</a>, with no
additional suffix, are for specific examples only. <a
href="#ASA-TEMPLATE-FALSE">ASA_TEMPLATE</a>, with no suffix, should not be set
to TRUE, else all groups of these examples will be brought into the code,
likely not what is wanted. </p>

<p>9.1.36. <a name="OPTIONAL-DATA-DBL-FALSE">OPTIONAL_DATA_DBL=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>It can be useful to return/pass additional information to the user module
from/through the asa module. When <a
href="#OPTIONAL-DATA-DBL-FALSE">OPTIONAL_DATA_DBL</a> is set to TRUE, an
additional Program Option pointer, *<a
href="#OPTIONS--gt-Asa-Data-Dbl">Asa_Data_Dbl</a>, and its dimension, <a
href="#OPTIONS--gt-Asa-Data-Dim-Dbl">Asa_Data_Dim_Dbl</a>, are available in
USER_DEFINES *USER_OPTIONS to gather such data. </p>

<p>In the ASA_TEMPLATE_SELFOPT example provided (see the set of DEFINE_OPTIONS
used in asa_usr_asa.h), <a
href="#OPTIONAL-DATA-DBL-FALSE">OPTIONAL_DATA_DBL</a> is used together with <a
href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> to find the set of ASA parameters
giving the (statistically) smallest number of generated points to solve the ASA
test problem, assuming this were run several times with different random seeds
for randflt in asa_usr.c. Here, <a
href="#OPTIONS--gt-Asa-Data-Dbl">Asa_Data_Dbl</a> [0] is used as a flag to
print out <a href="#OPTIONS--gt-Asa-Data-Dbl">Asa_Data_Dbl</a> [1] in
asa_usr.c, set to *best_number_generated_saved in asa.c. </p>

<p>9.1.37. <a name="OPTIONAL-DATA-INT-FALSE">OPTIONAL_DATA_INT=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>It can be useful to return/pass additional integer information to the user
module from/through the asa module. When <a
href="#OPTIONAL-DATA-INT-FALSE">OPTIONAL_DATA_INT</a> is set to TRUE, an
additional Program Option pointer, *<a
href="#OPTIONS--gt-Asa-Data-Int">Asa_Data_Int</a>, and its dimension, <a
href="#OPTIONS--gt-Asa-Data-Dim-Int">Asa_Data_Dim_Int</a>, are available in
USER_DEFINES *USER_OPTIONS to gather such data. </p>

<p>9.1.38. <a name="OPTIONAL-DATA-PTR-FALSE">OPTIONAL_DATA_PTR=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>It can be useful to return/pass additional array or structure information to
the user module from/through the asa module (possibly containing other
structures, e.g., useful when <a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a>
is TRUE). When <a href="#OPTIONAL-DATA-PTR-FALSE">OPTIONAL_DATA_PTR</a> is set
to TRUE, an additional Program Option pointer, *<a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a>, and its dimension, <a
href="#OPTIONS--gt-Asa-Data-Dim-Ptr">Asa_Data_Dim_Ptr</a>, are available in
USER_DEFINES *USER_OPTIONS to gather such data. The type of *<a
href="#OPTIONS--gt-Asa-Data-Dim-Ptr">Asa_Data_Dim_Ptr</a> is a pre-compile
OPTIONS set by <a href="#OPTIONAL-PTR-TYPE-USER-TYPE">OPTIONAL_PTR_TYPE</a>.
See examples under <a href="#OPTIONS--gt-Asa-Data-Dim-Ptr">Asa_Data_Dim_Ptr</a>
and <a href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a>. </p>

<p>If <a href="#OPTIONAL-DATA-PTR-FALSE">OPTIONAL_DATA_PTR</a> is being used
for RECUR_USER_OPTIONS as well as for USER_OPTIONS, you need not create (or
free) additional memory in recur_cost_function() for <a
href="#OPTIONS--gt-Asa-Data-Dim-Ptr">Asa_Data_Dim_Ptr</a> and <a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a> to be passed to the inner
cost_function(), but rather link pointers to those in RECUR_USER_OPTIONS. In
asa_usr.c, there are guidelines to set "#if TRUE" to "#if FALSE" at these
points of the code. This is the proper technique to use if <a
href="#ASA-SAVE-FALSE">ASA_SAVE</a>, <a
href="#ASA-SAVE-OPT-FALSE">ASA_SAVE_OPT</a>, or <a
href="#ASA-SAVE-BACKUP-FALSE">ASA_SAVE_BACKUP</a> is set to TRUE (since data is
saved by asa() depending on the level of recursion).. </p>

<p>If <a href="#ASA-SAVE-FALSE">ASA_SAVE</a>, <a
href="#ASA-SAVE-OPT-FALSE">ASA_SAVE_OPT</a>, and <a
href="#ASA-SAVE-BACKUP-FALSE">ASA_SAVE_BACKUP</a> are not set to TRUE, then
multiple levels of recursion can each have their own defined information
indexed to different elements of the array of structures of size <a
href="#OPTIONS--gt-Asa-Data-Dim-Ptr">Asa_Data_Dim_Ptr</a>. </p>

<p>The <a
href="http://www.ingber.com/asa_examples.txt">http://www.ingber.com/asa_examples.txt</a>
file contains some guidance of the use of <a
href="#OPTIONAL-DATA-PTR-FALSE">OPTIONAL_DATA_PTR</a> and <a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a>. </p>

<p>9.1.39. <a
name="OPTIONAL-PTR-TYPE-USER-TYPE">OPTIONAL_PTR_TYPE=USER_TYPE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#OPTIONAL-DATA-PTR-FALSE">OPTIONAL_DATA_PTR</a> is set to
TRUE, the type of *<a href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a> is a
pre-compile OPTIONS set by <a
href="#OPTIONAL-PTR-TYPE-USER-TYPE">OPTIONAL_PTR_TYPE</a>, e.g., changing the
label USER_TYPE in asa_usr_asa.h. Be sure to place any non-standard types, like
your own typedef struct, before the #define <a
href="#OPTIONAL-PTR-TYPE-USER-TYPE">OPTIONAL_PTR_TYPE</a> at the top of
asa_usr_asa.h, e.g., under #if <a href="#MY-TEMPLATE-TRUE">MY_TEMPLATE</a>
(since <a href="#OPTIONAL-PTR-TYPE-USER-TYPE">OPTIONAL_PTR_TYPE</a> is tested
below in asa_usr_asa.h). See the discussion under <a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a>. </p>

<p>9.1.40. <a name="USER-COST-SCHEDULE-FALSE">USER_COST_SCHEDULE=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The function used to control the <a
href="#double-cost-function-">cost_function</a> temperature schedule is of the
form test_temperature in asa.c. If the user sets the Pre-Compile DEFINE_OPTIONS
<a href="#USER-COST-SCHEDULE-FALSE">USER_COST_SCHEDULE</a> to TRUE, then this
function of test_temperature can be controlled, adaptively if desired, in
asa_usr.c in <a href="#OPTIONS--gt-Cost-Schedule">Cost_Schedule</a> () (and in
recur_Cost_Schedule () if <a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is
TRUE) by setting <a href="#USER-COST-SCHEDULE-FALSE">USER_COST_SCHEDULE</a> to
TRUE. The names of these functions are set to the relevant pointer in
asa_usr.c, and can be changed if desired, i.e., <br>
<br>
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Cost-Schedule">Cost_Schedule</a> = <a
href="#double-user-cost-schedule-">user_cost_schedule</a>; <br>
RECUR_USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Cost-Schedule">Cost_Schedule</a> =
<a href="#double-recur-user-cost-schedule-">recur_user_cost_schedule</a>; <br>
</p>

<p>9.1.41. <a
name="USER-ACCEPT-ASYMP-EXP-FALSE">USER_ACCEPT_ASYMP_EXP=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#USER-ACCEPT-ASYMP-EXP-FALSE">USER_ACCEPT_ASYMP_EXP</a> is
TRUE, an asymptotic form of the exponential function as an alternative to the
Boltzmann function becomes available for the acceptance test. A parameter
OPTIONS-&gt;<a href="#OPTIONS--gt-Asymp-Exp-Param">Asymp_Exp_Param</a> becomes
available, with a default of 1.0 in asa_usr.c giving the standard Boltzmann
function. If you require a more moderate acceptance test, then negative <a
href="#OPTIONS--gt-Asymp-Exp-Param">Asymp_Exp_Param</a> may be helpful. </p>

<p>9.1.42. <a
name="USER-ACCEPT-THRESHOLD-FALSE">USER_ACCEPT_THRESHOLD=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#USER-ACCEPT-THRESHOLD-FALSE">USER_ACCEPT_THRESHOLD</a> is
TRUE, a simple alternative to the Boltzmann function becomes available for the
acceptance test, simply defining the probability of acceptance to be 1 if <br>
<br>
C(p_k+1) - C(p_k) &lt;= T_cost, <br>
and 0 otherwise. </p>

<p>9.1.43. <a name="USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST=FALSE</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If the Pre-Compile DEFINE_OPTIONS <a
href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> is set to TRUE, the
Boltzmann test probability function used in the acceptance criteria in asa.c
can be changed, adaptively if desired, in asa_usr.c in <a
href="#void-user-acceptance-test-">user_acceptance_test</a> () (and in <a
href="#void-recur-user-acceptance-test-">recur_user_acceptance_test</a> () if
<a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is TRUE). The names of these
functions are set to the relevant pointer in asa_usr.c, and can be changed if
desired, i.e., </p>

<p>If both <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> and
<a href="#USER-ACCEPT-ASYMP-EXP-FALSE">USER_ACCEPT_ASYMP_EXP</a> are set to
TRUE, then the default OPTIONS-&gt;<a
href="#OPTIONS--gt-Asymp-Exp-Param">Asymp_Exp_Param</a> = 1 can be used in
asa_usr.c to duplicate the Boltzmann test in asa.c, e.g., as a template to
further develop a new acceptance test. <br>
<br>
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Acceptance-Test">Acceptance_Test</a> =
<a href="#void-user-acceptance-test-">user_acceptance_test</a>; <br>
RECUR_USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Acceptance-Test">Acceptance_Test</a> = <a
href="#void-recur-user-acceptance-test-">recur_user_acceptance_test</a>; <br>
When <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> is TRUE,
then any random numbers needed for the acceptance criteria are generated in the
user module instead of in the asa module. </p>

<p>When <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> is TRUE,
additional OPTIONS are available to modify the acceptance criteria, either
after the cost function is calculated or during its calculation: <br>
<br>
USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Acceptance-Flag">User_Acceptance_Flag</a> <br>
USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Cost-Acceptance-Flag">Cost_Acceptance_Flag</a> <br>
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Last-Cost">Last_Cost</a> <br>
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Cost-Temp-Curr">Cost_Temp_Curr</a> <br>
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Cost-Temp-Init">Cost_Temp_Init</a> <br>
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Cost-Temp-Scale">Cost_Temp_Scale</a> <br>
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Prob-Bias">Prob_Bias</a> <br>
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Random-Seed">Random_Seed</a> <br>
</p>

<p>Failing the acceptance test is not equivalent to dropping generated states
from consideration for testing with the acceptance criteria, e.g., if they fail
some regional constraints. <a href="#double-asa-">asa ()</a> is designed so
that <a href="#OPTIONS--gt-User-Acceptance-Flag">User_Acceptance_Flag</a> is
set to TRUE prior to calling the cost function whenever acceptance tests need
not be performed, i.e., when using the cost function to generate initial
conditions, when being used to calculate derivatives, or when samples are being
generated to calculate the cost temperature; otherwise it is set to FALSE. The
value of <a href="#OPTIONS--gt-Cost-Acceptance-Flag">Cost_Acceptance_Flag</a>
always is set to FALSE before entering the cost function. </p>

<p>When entering the acceptance function, if <a
href="#OPTIONS--gt-Cost-Acceptance-Flag">Cost_Acceptance_Flag</a> is TRUE, then
the value of USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Acceptance-Flag">User_Acceptance_Flag</a> (assuming
*valid_state_generated_flag is TRUE) calculated in <a
href="#double--user-cost-function----">user_cost_function</a> () determines the
value of the acceptance test. Otherwise, USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Acceptance-Test">Acceptance_Test</a> () is called to
calculate the value of USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Acceptance-Flag">User_Acceptance_Flag</a>. Note that if
the cost function is used to calculate the acceptance criteria, and it is
acceptable (e.g., also *valid_state_generated_flag is TRUE), then both
USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Acceptance-Flag">User_Acceptance_Flag</a> and
USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Cost-Acceptance-Flag">Cost_Acceptance_Flag</a> must be set
to TRUE. </p>

<p>For example, this can be useful if during the calculation of the cost
function, without having to proceed to the final evaluation, it becomes clear
that the acceptance criteria will not be passed. This might occur if the cost
function is increasing during its calculation and an acceptance test is carried
out using the uniform random number calculated at the top of the cost function.
The partially evaluated cost function can be compared to the <a
href="#OPTIONS--gt-Last-Cost">Last_Cost</a>, using the Boltzmann criteria or
whatever criteria is established in USER_OPTIONS-&gt;<a
href="#void-user-acceptance-test-">user_acceptance_test</a> (). Then it is
clear that the acceptance criteria will not be met (of course after checking
that any constraints are met and setting *valid_state_generated_flag to TRUE if
so), then USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Acceptance-Flag">User_Acceptance_Flag</a> can be set to
or left at FALSE, and then proceed to return to <a href="#double-asa-">asa
()</a>. However, other information registered in the acceptance function still
should be calculated, e.g., updating indices, information used for <a
href="#ASA-SAMPLE-FALSE">ASA_SAMPLE</a> and <a
href="#ASA-PARALLEL-FALSE">ASA_PARALLEL</a>, etc. </p>

<p>9.1.44. <a
name="USER-GENERATING-FUNCTION-FALSE">USER_GENERATING_FUNCTION=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The ASA generating probability function in asa.c can be changed if the user
sets the Pre-Compile DEFINE_OPTIONS <a
href="#USER-GENERATING-FUNCTION-FALSE">USER_GENERATING_FUNCTION</a> to TRUE;
then this function can be changed, adaptively if desired, in asa_usr.c in <a
href="#double-user-generating-distrib-">user_generating_distrib</a> () (and in
<a
href="#double-recur-user-generating-distrib-">recur_user_generating_distrib</a>
() if <a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is TRUE) by setting <a
href="#USER-GENERATING-FUNCTION-FALSE">USER_GENERATING_FUNCTION</a> to TRUE.
The names of these functions are set to the relevant pointer in asa_usr.c, and
can be changed if desired, i.e., <br>
<br>
USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Generating-Distrib">Generating_Distrib</a> = <a
href="#double-user-generating-distrib-">user_generating_distrib</a>; <br>
RECUR_USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Generating-Distrib">Generating_Distrib</a> = <a
href="#double-recur-user-generating-distrib-">recur_user_generating_distrib</a>;
<br>
The parameters passed to these functions are further described below. </p>

<p>Several parameters additional to those required for the ASA distribution are
passed to make it easier to install other common distributions. Note that range
checks take place at multiple stages of search, so be sure your chosen ranges
can take this into account. </p>

<p>9.1.45. <a name="USER-REANNEAL-COST-FALSE">USER_REANNEAL_COST=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>In asa.c reannealing of the cost temperature is determined by the algorithm
described above in the section Reannealing Temperature Schedule. </p>

<p>If the user sets the Pre-Compile DEFINE_OPTIONS <a
href="#USER-REANNEAL-COST-FALSE">USER_REANNEAL_COST</a> to TRUE, while <a
href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a> is not 0 or -1, then the
function controlling the new reannealed cost temperature can be controlled,
adaptively if desired using USER_OPTIONS, in asa_usr.c in <a
href="#int-user-reanneal-cost-">user_reanneal_cost</a> (), and in <a
href="#int-recur-user-reanneal-cost-">recur_user_reanneal_cost</a> () if <a
href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is TRUE. The names of these
functions are set to the relevant pointer in asa_usr.c, and can be changed if
desired, i.e., <br>
<br>
USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Reanneal-Cost-Function">Reanneal_Cost_Function</a> = <a
href="#int-user-reanneal-cost-">user_reanneal_cost</a>; <br>
RECUR_USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Reanneal-Cost-Function">Reanneal_Cost_Function</a> = <a
href="#int-recur-user-reanneal-cost-">recur_user_reanneal_cost</a>; <br>
In these functions, the variables *current_cost_temperature,
*initial_cost_temperature, and the best and last saved cost function can be
altered, and the returned integer value of TRUE or FALSE determines whether to
use the best saved cost function as the current cost temperature. </p>

<p>Since these functions can be called every value of <a
href="#OPTIONS--gt-Acceptance-Frequency-Modulus-100-">Acceptance_Frequency_Modulus</a>,
<a
href="#OPTIONS--gt-Generated-Frequency-Modulus-10000-">Generated_Frequency_Modulus</a>,
or when the ratio of accepted to generated points is less than <a
href="#OPTIONS--gt-Accepted-To-Generated-Ratio-1-0E-6-">Accepted_To_Generated_Ratio</a>,
this opportunity also can be used to adaptively change other OPTIONS. This can
be very useful for systems where the scales of the acceptance criteria do not
simply correlate the cost temperature with the current best value of the cost
function. </p>

<p>For example, this function could be used when the last saved cost function
is so close to zero that the effect would be to set the
*initial_cost_temperature to that value, but the best value for the cost
function is known to be less than zero. (An alternative moving average example
is given in asa_usr.c.) Other alternatives are to use <a
href="#USER-REANNEAL-COST-FALSE">USER_REANNEAL_COST</a> with default FALSE and
<a href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a> &gt; 1 or &lt; -1, as
described below. </p>

<p>9.1.46. <a
name="USER-REANNEAL-PARAMETERS-FALSE">USER_REANNEAL_PARAMETERS=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>In asa.h, the macro <br>
#define \<br>
FUNCTION_REANNEAL_PARAMS(temperature, tangent, max_tangent) \<br>
(temperature * (max_tangent / tangent))<br>
<br>
is used to determine the new temperature, subject to further tests in reanneal
(). This is the default if <a
href="#USER-REANNEAL-PARAMETERS-FALSE">USER_REANNEAL_PARAMETERS</a> is FALSE.
</p>

<p>If the user sets the Pre-Compile DEFINE_OPTIONS <a
href="#USER-REANNEAL-PARAMETERS-FALSE">USER_REANNEAL_PARAMETERS</a> to TRUE,
then the function controlling the new reannealed temperature can be controlled,
adaptively if desired using USER_OPTIONS, in asa_usr.c in <a
href="#double-user-reanneal-params-">user_reanneal_params</a> (), and in <a
href="#double-recur-user-reanneal-params-">recur_user_reanneal_params</a> () if
<a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is TRUE. The names of these
functions are set to the relevant pointer in asa_usr.c, and can be changed if
desired, i.e., <br>
<br>
USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Reanneal-Params-Function">Reanneal_Params_Function</a> = <a
href="#double-user-reanneal-params-">user_reanneal_params</a>; <br>
RECUR_USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Reanneal-Params-Function">Reanneal_Params_Function</a> = <a
href="#double-recur-user-reanneal-params-">recur_user_reanneal_params</a>; <br>
</p>

<p>Since FUNCTION_REANNEAL_PARAMS () can be called every value of <a
href="#OPTIONS--gt-Acceptance-Frequency-Modulus-100-">Acceptance_Frequency_Modulus</a>,
<a
href="#OPTIONS--gt-Generated-Frequency-Modulus-10000-">Generated_Frequency_Modulus</a>,
or when the ratio of accepted to generated points is less than <a
href="#OPTIONS--gt-Accepted-To-Generated-Ratio-1-0E-6-">Accepted_To_Generated_Ratio</a>,
this opportunity also can be used to adaptively change other OPTIONS. For
example, if the <a href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a>
OPTIONS is set to TRUE, as discussed above, it may useful to create a hybrid
global-local adaptive quenching search algorithm. </p>

<p>9.1.47. <a
name="MAXIMUM-REANNEAL-INDEX-50000">MAXIMUM_REANNEAL_INDEX=50000</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The maximum index (number of steps) at which the initial temperature and the
index of the temperature are rescaled to avoid losing machine precision. ASA
typically is quite insensitive to the value used due to the dual rescaling. </p>

<p>9.1.48. <a name="REANNEAL-SCALE-10-0">REANNEAL_SCALE=10.0</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The reannealing scale used when <a
href="#MAXIMUM-REANNEAL-INDEX-50000">MAXIMUM_REANNEAL_INDEX</a> is exceeded.
</p>

<p>9.1.49. <a name="ASA-SAMPLE-FALSE">ASA_SAMPLE=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#ASA-SAMPLE-FALSE">ASA_SAMPLE</a> is set to TRUE, data is
collected by ASA during its global optimization process to importance-sample
the user's variables. Four OPTIONS become available to monitor the sampling: <a
href="#OPTIONS--gt-Bias-Acceptance">Bias_Acceptance</a>, *<a
href="#OPTIONS--gt-Bias-Generated">Bias_Generated</a>, <a
href="#OPTIONS--gt-Average-Weights">Average_Weights</a>, and <a
href="#OPTIONS--gt-Limit-Weights">Limit_Weights</a>. </p>

<p>If <a href="#OPTIONS--gt-Average-Weights">Average_Weights</a> exceeds the
user's choice of <a href="#OPTIONS--gt-Limit-Weights">Limit_Weights</a>, then
the <a href="#ASA-OUT---quot-asa-out--quot-">ASA_OUT</a> file will contain
additional detailed information, including temperatures and biases for each
current parameter. To facilitate extracting importance-sampled information from
the file printed out by the asa module, all relevant lines start with :SAMPLE[
|:|#|+]. A sample () function in asa_usr.c illustrates the use of these tags.
</p>

<p>Many Monte Carlo sampling techniques require the user to guess an
appropriately decreasing "window" to sample the variable space. The fat tail of
the ASA generating function, and the decreasing effective range of newly
accepted points driven by exponentially decreasing temperature schedules,
removes this arbitrary aspect of such sampling. </p>

<p>However, note that, albeit local optima are sampled, the efficiency of ASA
optimization most often leads to poor sampling in regions whose cost function
is far from the optimal point; many such points may be important contributions
to algorithms like integrals. Accordingly, <a
href="#ASA-SAMPLE-FALSE">ASA_SAMPLE</a> likely is best used to explore new
regions and new systems. </p>

<p>To increase the sampling rate and thereby to possibly increase the accuracy
of this algorithm, use one or a combination of the various OPTIONS available
for slowing down the annealing performed by ASA. However, the selected OPTIONS
still must yield good convergence if the optimal region is to be properly
sampled. </p>

<p>9.1.50. <a name="ADAPTIVE-OPTIONS-FALSE">ADAPTIVE_OPTIONS=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#ADAPTIVE-OPTIONS-FALSE">ADAPTIVE_OPTIONS</a> is set to TRUE,
it is possible to change relevant OPTIONS in the USER_DEFINES struct in
asa_usr_asa.h during run time, by including an asa_adaptive_options file. This
can be very useful to efficiently determine how to tune long runs. </p>

<p>The function call to adaptive_options(USER_OPTIONS) should be placed at the
top of your cost function. Some examples of the format of lines in the
comma-delimited asa_adaptive_options file are given just above the
adaptive_options function in asa_usr.c. </p>

<p>9.1.51. <a name="ASA-QUEUE-FALSE">ASA_QUEUE=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#ASA-QUEUE-FALSE">ASA_QUEUE</a> is set to TRUE, a first-in
first-out (FIFO) queue, of size USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Queue-Size">Queue_Size</a>, is used to collect generated
states. When a new state is generated, its parameters are tested, within
specified resolutions of USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Queue-Resolution">Queue_Resolution</a> [] (the absolute
values of each of the differences between the parameters of the current
generated state and those in the queue). If a previous state is already
represented, then the stored values of the cost function and the cost flag are
returned, instead of calling the cost function again. Note that the size of the
array required to store the queued parameters is <a
href="#OPTIONS--gt-Queue-Size">Queue_Size</a> times the number of parameters,
and this can consume a lot of CPU time as well as storage, so this OPTIONS is
only useful for cost functions that are themselves very costly to evaluate.
Setting ASA_TEMPLATE_QUEUE to TRUE will run an example using the <a
href="#ASA-TEST-FALSE">ASA_TEST</a> problem. </p>

<p>The <a href="#ASA-QUEUE-FALSE">ASA_QUEUE</a> DEFINE_OPTIONS also can be used
to coarse-grain a fit, by setting high values of <a
href="#OPTIONS--gt-Queue-Resolution">Queue_Resolution</a> []. Note the
difference between the operations of this DEFINE_OPTIONS and <a
href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a>. </p>

<p>If <a href="#ASA-QUEUE-FALSE">ASA_QUEUE</a> is TRUE and <a
href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> is FALSE, machine precision is
used for type double variables, the queue is created and subsequent variables
are tested against this queue. If <a
href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> and <a
href="#ASA-QUEUE-FALSE">ASA_QUEUE</a> are both TRUE, then the <a
href="#OPTIONS--gt-Coarse-Resolution">Coarse_Resolution</a> [] array is used
for <a href="#OPTIONS--gt-Queue-Resolution">Queue_Resolution</a> [], <a
href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> is enforced from the very first
call to the cost function, and the queue is created using these coarse
variables. </p>

<p>The default in asa.c for the FIFO queue uses a simple search among stored
parameter values, under the assumption that for most complex systems for which
<a href="#ASA-QUEUE-FALSE">ASA_QUEUE</a>=TRUE is useful, the bottleneck is in
the evaluation of the cost functions. If you think this is not true for you,
and you need to conserve CPU time in using lists, the <a
href="http://www.ingber.com/asa_contrib.txt">http://www.ingber.com/asa_contrib.txt</a>
file gives code that uses doubly-linked and hashed lists. </p>

<p>If <a href="#ASA-QUEUE-FALSE">ASA_QUEUE</a> and <a
href="#ASA-PRINT-MORE-FALSE">ASA_PRINT_MORE</a> are TRUE then, whenever a
queued cost function is used, this is recorded in asa_out. </p>

<p>9.1.52. <a name="ASA-RESOLUTION-FALSE">ASA_RESOLUTION=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> is set to TRUE,
parameters are resolved to a user-defined resolution set in USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Coarse-Resolution">Coarse_Resolution</a> [], i.e., within
plus or minus the values of <a
href="#OPTIONS--gt-Coarse-Resolution">Coarse_Resolution</a> []. This is
performed as soon as candidate values are generated, for each parameter for
which <a href="#OPTIONS--gt-Coarse-Resolution">Coarse_Resolution</a> [] is
greater than zero. Note the difference between the operations of this OPTIONS
and <a href="#ASA-QUEUE-FALSE">ASA_QUEUE</a>. </p>

<p>If <a href="#ASA-QUEUE-FALSE">ASA_QUEUE</a> is TRUE and <a
href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> is FALSE, machine precision is
used for type double variables, the queue is created and subsequent variables
are tested against this queue. If <a
href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> and <a
href="#ASA-QUEUE-FALSE">ASA_QUEUE</a> are both TRUE, then the <a
href="#OPTIONS--gt-Coarse-Resolution">Coarse_Resolution</a> [] array is used
for <a href="#OPTIONS--gt-Queue-Resolution">Queue_Resolution</a> [], <a
href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> is enforced from the very first
call to the cost function, and the queue is created using these coarse
variables. </p>

<p>When USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Coarse-Resolution">Coarse_Resolution</a> [] is &gt; 0 and
parameter_type [] is &gt; 0 (specifying an integer parameter), <a
href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> takes precedence over
parameter_type [] when calculating new generated parameters. </p>

<p>9.1.53. <a name="ASA-FUZZY-FALSE">ASA_FUZZY=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When ASA_FUZZY is set to TRUE, a modified fuzzy-logic algorithm originally
developed by Hime Junior performs an adaptive tuning of selected ASA OPTIONS.
ASA_FUZZY has several adaptive parameters defined in asa_usr_asa.h, and some
fixed #define parameters in the several subroutines at the bottom of asa_usr.c.
The default functions are set to tune <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a> and <a
href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a> parameters, so these are
tested to be TRUE in the default asa_usr_asa.h. If you change any defaults, pay
attention to sections labeled ASA_FUZZY at top and bottom sections of
asa_usr.c, and in asa_usr.h. </p>

<p>Caution: Often ASA_FUZZY will turn on QUENCHing &gt; 1, violating the proof
of ASA. For many systems, this speeding up of the sampling process can be a
welcome efficiency, but in some systems global minima may be missed, e.g., in
systems with multiple scales. </p>

<p>9.1.54. <a name="FITLOC-FALSE">FITLOC=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#FITLOC-FALSE">FITLOC</a> is set to TRUE, three subroutines
become active to perform a local fit after leaving <a href="#double-asa-">asa
()</a>. This can be useful to shunt <a href="#double-asa-">asa ()</a> to a
local code after the region of the global fit is known with some confidence,
which many times is an efficient procedure. </p>

<p>Any robust quasi-linear optimization code may work well for this purpose. To
illustrate this procedure, the user module contains fitloc () which sets up the
calls to simplex (). simplex () calls calcf () which calls <a
href="#double-cost-function-">cost_function</a> (), and adds
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Penalty">Penalty</a> whenever simplex ()
asks for parameters out of ranges of the parameters or whenever a constraint in
<a href="#double-cost-function-">cost_function</a> () is violated. </p>

<p>ASA parameters, the OPTIONS, are raised to a high level of view for direct
control by the user. However, most optimization codes have their own parameters
that may not be apparent to the user. For example, fitloc () calls simplex ()
which contains parameters such as {tol1, tol2, no_progress, alpha, beta1,
beta2, gamma, delta, iters}. Many problems will require tuning of these
parameters to achieve good results just from this simplex () algorithm. </p>

<p>USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Fit-Local">Fit_Local</a> is passed to
<a href="#double-cost-function-">cost_function</a> (). This provides additional
flexibility in deciding when to shunt <a href="#double-asa-">asa ()</a> over to
fitloc (), e.g., during multiple or recursive optimizations.
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Iter-Max">Iter_Max</a> determines the
maximum iterations of the <a href="#double-cost-function-">cost_function</a> ()
by simplex (). USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Penalty">Penalty</a>
determines how to weight violation of constraints, exceeding boundaries, etc.
</p>

<p>9.1.55. <a name="FITLOC-ROUND-TRUE">FITLOC_ROUND=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#FITLOC-FALSE">FITLOC</a> is set to TRUE and <a
href="#FITLOC-ROUND-TRUE">FITLOC_ROUND</a> is TRUE, then each time parameters
are passed to or between the local routines, simplex (), calcf (), and fitloc
(), they are first processed by rounding integers or respecting rounding
according to <a href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> constraints
prior to any further calculations. I.e., all values of a parameter within a
given resolution are considered to be equivalent for calculating the cost
function. </p>

<p>9.1.56. <a name="FITLOC-PRINT-TRUE">FITLOC_PRINT=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#FITLOC-FALSE">FITLOC</a> is set to TRUE, if <a
href="#FITLOC-PRINT-TRUE">FITLOC_PRINT</a> is TRUE, then intermediate
calculations will be printed out from fitloc () and simplex () in the user
module. </p>

<p>9.1.57. <a name="MULTI-MIN-FALSE">MULTI_MIN=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#MULTI-MIN-FALSE">MULTI_MIN</a> is set to TRUE, the lowest
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Multi-Number">Multi_Number</a> values of
the cost function, determined to be the best-generated during the sampling
process, of the cost function and their parameters are saved. These can be read
out just after asa () returns after its fit. The pre-compile number
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Multi-Number">Multi_Number</a> and
OPTIONS *<a href="#OPTIONS--gt-Multi-Cost">Multi_Cost</a>, **<a
href="#OPTIONS--gt-Multi-Params">Multi_Params</a>, *<a
href="#OPTIONS--gt-Multi-Grid">Multi_Grid</a>, and <a
href="#OPTIONS--gt-Multi-Specify">Multi_Specify</a> become available. In
asa_usr.c, memory for the arrays USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Multi-Cost">Multi_Cost</a> [USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Multi-Number">Multi_Number</a>][*<a
href="#ALLOC-INT-parameter-dimension">parameter_dimension</a>],
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Multi-Params">Multi_Params</a>
[USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Multi-Number">Multi_Number</a>][*<a
href="#ALLOC-INT-parameter-dimension">parameter_dimension</a>], and
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Multi-Grid">Multi_Grid</a> [*<a
href="#ALLOC-INT-parameter-dimension">parameter_dimension</a>] are set. <a
href="#OPTIONS--gt-Multi-Grid">Multi_Grid</a> values must be set by the user,
but may be overridden as explained below under USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Multi-Grid">Multi_Grid</a>. </p>

<p>If OPTIONS-&gt;<a href="#OPTIONS--gt-Curvature-0-FALSE-">Curvature_0</a> is
FALSE, all USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Multi-Number">Multi_Number</a> tangents and curvatures are
calculated. This can be useful for some calculations requiring the shapes of
the local minima. </p>

<p>This procedure selects local minima that statistically have maintained some
quasi-stability during sampling. Note that this procedure does not guarantee
that the USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Multi-Number">Multi_Number</a>
lowest sampled values of the cost function will be saved, only those that were
selected to be the best-generated during the sampling process. </p>

<p>If OPTIONS-&gt;<a href="#OPTIONS--gt-Multi-Specify">Multi_Specify</a> is set
to 0, the selection of best- generated states includes all sampled instances of
the cost functions. If OPTIONS-&gt;<a
href="#OPTIONS--gt-Multi-Specify">Multi_Specify</a> is set to 1, the selection
of best-generated states is constrained to include only those with different
values of the cost function. </p>

<p>The <a
href="http://www.ingber.com/asa_examples.txt">http://www.ingber.com/asa_examples.txt</a>
file contains some guidance of the use of <a
href="#MULTI-MIN-FALSE">MULTI_MIN</a> (and Multi [] OPTIONS). </p>

<p>9.1.58. <a name="ASA-PARALLEL-FALSE">ASA_PARALLEL=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The parallelization procedure employed here does not destroy the sampling
properties of ASA. When <a href="#ASA-PARALLEL-FALSE">ASA_PARALLEL</a> is set
to TRUE, parallel blocks of generated states are calculated of number equal to
the minimum of USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Gener-Block">Gener_Block</a> and USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Gener-Block-Max">Gener_Block_Max</a>. For most systems with
complex nonlinear cost functions that require the fat tail of the ASA
distribution, leading to high generated to acceptance ratios, this is the most
CPU intensive part of ASA that can benefit from parallelization. </p>

<p>The actual number calculated is determined by a moving average, determined
by USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Gener-Mov-Avr">Gener_Mov_Avr</a>, of
the previous numbers of USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Gener-Block">Gener_Block</a> of generated states required to
find a new best accepted state. If and when USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Gener-Mov-Avr">Gener_Mov_Avr</a> is set to 0, then
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Gener-Block">Gener_Block</a> is not
changed thereafter. </p>

<p>Each block of generated states is sorted to permit the lowest cost functions
to pass first through the acceptance test. </p>

<p>There are hooks in asa.c to spawn off multiple processors. Parallel code
should be inserted in asa.c between the lines: <br>
/* *** ENTER CODE TO SPAWN OFF PARALLEL GENERATED STATES *** */<br>
 ...<br>
/* *** EXIT CODE SPAWNING OFF PARALLEL GENERATED STATES *** */<br>
<br>
</p>

<p>The ASA_TEMPLATE_PARALLEL example given in asa_usr.c illustrates how the run
would proceed. Note that since the random number generator is called
differently, generating some extra states as described above, the results are
not identical to the serial <a href="#ASA-TEST-FALSE">ASA_TEST</a> calculation.
</p>

<p>9.1.59. <a name="FDLIBM-POW-FALSE">FDLIBM_POW=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#FDLIBM-POW-FALSE">FDLIBM_POW</a> is set to TRUE, a
user-defined function s_pow () is used instead of pow (). This may be desirable
on some machines when a speed-up can be realized. Some code in <a
href="http://www.ingber.com/asa_contrib.txt">http://www.ingber.com/asa_contrib.txt</a>
should first be tested with the standard <a href="#ASA-TEST-FALSE">ASA_TEST</a>
OPTIONS to see if the resulting asa_out file agrees with the asa_test_asa file.
</p>

<p>9.1.60. <a name="FDLIBM-LOG-FALSE">FDLIBM_LOG=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#FDLIBM-LOG-FALSE">FDLIBM_LOG</a> is set to TRUE, a
user-defined function s_log () is used instead of log (). This may be desirable
on some machines when a speed-up can be realized. Some code in <a
href="http://www.ingber.com/asa_contrib.txt">http://www.ingber.com/asa_contrib.txt</a>
should first be tested with the standard <a href="#ASA-TEST-FALSE">ASA_TEST</a>
OPTIONS to see if the resulting asa_out file agrees with the asa_test_asa file.
</p>

<p>9.1.61. <a name="FDLIBM-EXP-FALSE">FDLIBM_EXP=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#FDLIBM-EXP-FALSE">FDLIBM_EXP</a> is set to TRUE, a
user-defined function s_exp () is used instead of exp (). This may be desirable
on some machines when a speed-up can be realized. Some code in <a
href="http://www.ingber.com/asa_contrib.txt">http://www.ingber.com/asa_contrib.txt</a>
should first be tested with the standard <a href="#ASA-TEST-FALSE">ASA_TEST</a>
OPTIONS to see if the resulting asa_out file agrees with the asa_test_asa file.
</p>

<p>9.2. <a name="Printing-DEFINE-OPTIONS">Printing DEFINE_OPTIONS</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>9.2.1. <a
name="USER-OUT---quot-asa-usr-out--quot-">USER_OUT=\"asa_usr_out\"</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The name of the output file containing all printing from asa_usr.c. If you
wish to attach a process number use USER_OUT=\"asa_usr_out_$$\". (Use
USER_OUT=\"asa_usr_out_$$$$\" if this is set in the ASA-Makefile.) If
USER_OUT=\"STDOUT\" then asa_usr.c will print to stdout. </p>

<p>9.2.2. <a name="INCL-STDOUT-TRUE">INCL_STDOUT=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Some compilers on some systems under some levels of optimization will not
compile if "stdout" is present in the code. All instances of "stdout" and
"printf" in the user and the asa modules can be commented out by setting <a
href="#INCL-STDOUT-TRUE">INCL_STDOUT</a> to FALSE. Note that this also will
suppress some output from such OPTIONS as <a
href="#ASA-PIPE-FALSE">ASA_PIPE</a>, <a href="#TIME-CALC-FALSE">TIME_CALC</a>,
etc. </p>

<p>The use of <a href="#INCL-STDOUT-TRUE">INCL_STDOUT</a> set to FALSE is
recommended for creating a DLL as described in the DLL ASA-Makefile sub-Section
of Section 7. </p>

<p>9.2.3. <a name="ASA-PRINT-TRUE">ASA_PRINT=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Setting this to FALSE will suppress all printing within asa. </p>

<p>9.2.4. <a name="ASA-OUT---quot-asa-out--quot-">ASA_OUT=\"asa_out\"</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The name of the output file containing all printing from asa. If you wish to
attach a process number use <a
href="#ASA-OUT---quot-asa-out--quot-">ASA_OUT</a>=\"asa_out_$$\". (Use <a
href="#ASA-OUT---quot-asa-out--quot-">ASA_OUT</a>=\"asa_out_$$$$\" if this is
set in the ASA-Makefile.) If <a
href="#ASA-OUT---quot-asa-out--quot-">ASA_OUT</a>=\"STDOUT\" then ASA will
print to stdout. See the discussion of the use of ASA_TEMPLATE_ASA_OUT_PID in
the section <a href="#USER-ASA-OUT-FALSE">USER_ASA_OUT</a> below to obtain
multiple output files numbered according to the system pid. </p>

<p>9.2.5. <a name="USER-ASA-OUT-FALSE">USER_ASA_OUT=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#USER-ASA-OUT-FALSE">USER_ASA_OUT</a> is set to TRUE, an
additional Program Option pointer, *<a
href="#OPTIONS--gt-Asa-Out-File">Asa_Out_File</a>, is used to dynamically set
the name(s) of the file(s) printed out by the asa module. (This overrides any
ASA_OUT settings.) In asa_usr.c, if USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Asa-Out-File">Asa_Out_File</a> = "STDOUT";, then ASA will
print to stdout. </p>

<p>In the ASA_TEMPLATE_MULTIPLE example provided (see the set of DEFINE_OPTIONS
used in asa_usr_asa.h), <a href="#USER-ASA-OUT-FALSE">USER_ASA_OUT</a> is used
to generate multiple files of separate ASA runs. (If <a
href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a> and/or <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a> is set to TRUE, then this example
will separate runs with different quenching values.) </p>

<p>In the ASA_TEMPLATE_ASA_OUT_PID example provided (see the set of
DEFINE_OPTIONS used in asa_usr_asa.h), <a
href="#USER-ASA-OUT-FALSE">USER_ASA_OUT</a> is used to generate <a
href="#ASA-OUT---quot-asa-out--quot-">ASA_OUT</a> files of the form asa_out__x
and asa_usr_out_x, where x is the system pid. This can be useful for a series
of runs just changing parameters in asa_opt, getting different output files
without recompiling. Depending on your system, you may have to change the
include file and the prototype of getpid () in asa_usr.h under
ASA_TEMPLATE_ASA_OUT_PID, and possibly the int declaration of pid_int in
asa_usr.c. </p>

<p>9.2.6. <a name="ASA-PRINT-INTERMED-TRUE">ASA_PRINT_INTERMED=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>This option is only effective if <a href="#ASA-PRINT-TRUE">ASA_PRINT</a> is
TRUE. Setting <a href="#ASA-PRINT-INTERMED-TRUE">ASA_PRINT_INTERMED</a> to
FALSE will suppress much intermediate printing within asa, especially arrays
which can be large when the number of parameters is large. Printing at
intermediate stages of testing/reannealing has been turned off when <a
href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is set to TRUE, since there
likely can be quite a bit of data generated; this can be changed by explicitly
setting <a href="#ASA-PRINT-INTERMED-TRUE">ASA_PRINT_INTERMED</a> to TRUE in
the ASA-Makefile or on your compilation command lines. </p>

<p>9.2.7. <a name="ASA-PRINT-MORE-FALSE">ASA_PRINT_MORE=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Setting <a href="#ASA-PRINT-MORE-FALSE">ASA_PRINT_MORE</a> to TRUE will
print out more intermediate information, e.g., new parameters whenever a new
minimum is reported. As is the case whenever tangents are not calculated by
choosing some ASA options, normally the intermediate values of tangents will
not be up to date. </p>

<p>The section above, Use of Documentation for Tuning, emphasizes the
importance of using <a href="#ASA-PRINT-MORE-FALSE">ASA_PRINT_MORE</a> set to
TRUE to help determine optimal tuning of ASA on specific problems. </p>

<p>9.2.8. <a name="G-FIELD-12--amp--G-PRECISION-7">G_FIELD=12 &amp;
G_PRECISION=7</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The field width and precision of doubles is specified in asa.c as <a
href="#G-FIELD-12--amp--G-PRECISION-7">G_FIELD</a>.G_PRECISION, e.g., as
%gG_FIELD.G_PRECISION or %g-G_FIELD.G_PRECISION. These two Printing
DEFINE_OPTIONS are available to change the default of 12.7. </p>

<p>9.2.9. <a name="ASA-SAVE-FALSE">ASA_SAVE=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#ASA-SAVE-FALSE">ASA_SAVE</a> is set to TRUE, asa saves enough
information in file asa_save after each newly best accepted state, to restart
from the point entering the main annealing loop, continue thereafter from the
best accepted state in asa_save. Of course, this use of I/O takes CPU
resources, and can appreciably slow down your runs. When <a
href="#SYSTEM-CALL-TRUE">SYSTEM_CALL</a> is set to TRUE, for extra protection,
e.g., in case the run aborts during a write of asa_save, each time a file
asa_save is written, it also is copied to a new file asa_save.old. </p>

<p>In order to store the whole block of random numbers used at any time, the
number USER USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Random-Array-Dim">Random_Array_Dim</a> and array
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Random-Array">Random_Array</a> are
required. These may be changed by the user in asa_usr.c for different random
number generators and shuffling algorithms. The default is to use SHUFFLE
defined in asa_usr.h for <a
href="#OPTIONS--gt-Random-Array-Dim">Random_Array_Dim</a> in the default random
number generator in asa_usr.c, and the pointer <a
href="#OPTIONS--gt-Random-Array">Random_Array</a> is set to the pointer of the
static array random_array at the top of asa_usr.c. </p>

<p>Just restart the run by executing asa_run. When <a
href="#ASA-SAVE-FALSE">ASA_SAVE</a> is set to TRUE, the existence of file
asa_save is used to determine whether a new run or a rerun is to proceed.
Therefore, be sure your ASA directory does not have any old asa_save file
present if a new run is to start. </p>

<p>The asa_opt file is included just after asa_save files are read into the
code. Therefore, any new C code you wish to have override information read in
from asa_save can be simply added to the bottom of asa_opt. Be sure you write
the names of these variables as they are used in the asa.c file, which can
differ from their counterparts in asa_usr.c file. Some example are given at the
end of asa_opt before the #endif statement. Each time you add new information
to be compiled, be sure to enforce a new recompile of asa.c and asa_run. In
most cases this can be done simply by removing asa.o before using a make or
recompiling the executable. However, see <a
href="#ASA-SAVE-OPT-FALSE">ASA_SAVE_OPT</a> for changes that may be made
without any recompilation. </p>

<p>When ASA is run at several levels of recursion, if USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Asa-Recursive-Level">Asa_Recursive_Level</a> is properly
incremented from 0 at the innermost shell, the outermost shell at level n will
create files asa_save_{n}. </p>

<p>9.2.10. <a name="ASA-SAVE-OPT-FALSE">ASA_SAVE_OPT=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#ASA-SAVE-OPT-FALSE">ASA_SAVE_OPT</a> is set to TRUE, when asa
is restarted, if the file asa_opt_save is present in the same directory as
asa_opt, then new values of ASA parameters and OPTIONS are read in after
initializing to the point of the last writing of asa_save. </p>

<p>No recompilation of the code is necessary, and only warnings are issued if
asa_save_opt is not present. The file asa_save_opt should be created as an
exact copy of asa_opt before changes in values of parameters and OPTIONS are
made. When <a href="#ASA-SAVE-OPT-FALSE">ASA_SAVE_OPT</a> is TRUE, <a
href="#ASA-SAVE-FALSE">ASA_SAVE</a> is automatically set to TRUE in
asa_usr_asa.h. </p>

<p>9.2.11. <a name="ASA-SAVE-BACKUP-FALSE">ASA_SAVE_BACKUP=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#ASA-SAVE-BACKUP-FALSE">ASA_SAVE_BACKUP</a> is set to TRUE,
asa saves enough information after each newly best accepted state, creating a
file asa_save.{<a href="#OPTIONS--gt-N-Accepted">N_Accepted</a>}, to enable the
user to restart from any previous best accepted state when that
asa_save.{best_state} is copied to asa_save. </p>

<p>When used with <a href="#ASA-PIPE-FALSE">ASA_PIPE</a> and/or <a
href="#ASA-PIPE-FILE-FALSE">ASA_PIPE_FILE</a>, <a
href="#ASA-SAVE-BACKUP-FALSE">ASA_SAVE_BACKUP</a> permits the user to
interactively tune the optimization process without having to start new runs.
Read the above <a href="#ASA-SAVE-FALSE">ASA_SAVE</a> section on the use of the
asa_opt file to modify code before reading in the asa_save file. </p>

<p>When <a href="#ASA-SAVE-BACKUP-FALSE">ASA_SAVE_BACKUP</a> is TRUE, <a
href="#ASA-SAVE-FALSE">ASA_SAVE</a> is automatically set to TRUE in
asa_usr_asa.h. </p>

<p>When ASA is run at several levels of recursion, if USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Asa-Recursive-Level">Asa_Recursive_Level</a> is properly
incremented from 0 at the innermost shell, the outermost shell at level n will
create files asa_save_{n}.{<a href="#OPTIONS--gt-N-Accepted">N_Accepted</a>}.
</p>

<p>9.2.12. <a name="ASA-PIPE-FALSE">ASA_PIPE=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#ASA-PIPE-FALSE">ASA_PIPE</a> is set to TRUE, asa prints to
STDOUT lines of data after calls to the cost function, which can be used to
update databases or graphs in real time. This information is {number of valid
generated states, number of accepted states, best cost function, best parameter
values, current cost temperature, current parameter temperatures, last cost
function}. </p>

<p>9.2.13. <a name="ASA-PIPE-FILE-FALSE">ASA_PIPE_FILE=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#ASA-PIPE-FILE-FALSE">ASA_PIPE_FILE</a> is set to TRUE, asa
prints to asa_pipe lines of data that can be used to examine run data. This can
be used complementary to <a href="#ASA-PIPE-FALSE">ASA_PIPE</a>. </p>

<p>9.2.14. <a name="ASA-EXIT-ANYTIME-FALSE">ASA_EXIT_ANYTIME=FALSE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#ASA-EXIT-ANYTIME-FALSE">ASA_EXIT_ANYTIME</a> is set to TRUE,
the first call to asa() creates the file asa_exit_anytime. To permit
IMMEDIATE_EXIT before calculating the next generated state, simply delete the
file asa_exit_anytime, and asa() will exit with code IMMEDIATE_EXIT. This can
be useful on long runs. </p>

<p>9.2.15. <a name="SYSTEM-CALL-TRUE">SYSTEM_CALL=TRUE</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#SYSTEM-CALL-TRUE">SYSTEM_CALL</a> is set to FALSE, asa avoids
popen () commands. This is useful on machines that do not permit these
commands. For example, when <a href="#ASA-SAVE-FALSE">ASA_SAVE</a> is set to
TRUE, asa uses a popen call in asa.c, to copy asa_save to asa_save.old. This
also is required to use <a href="#ASA-SAVE-BACKUP-FALSE">ASA_SAVE_BACKUP</a>
set to TRUE. </p>

<p>9.3. <a name="Program-OPTIONS">Program OPTIONS</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
typedef struct<br>
{<br>
LONG_INT <a
href="#OPTIONS--gt-Limit-Acceptances-10000-">Limit_Acceptances</a>;<br>
LONG_INT <a href="#OPTIONS--gt-Limit-Generated-99999-">Limit_Generated</a>;<br>
int <a
href="#OPTIONS--gt-Limit-Invalid-Generated-States-1000-">Limit_Invalid_Generated_States</a>;<br>
double <a
href="#OPTIONS--gt-Accepted-To-Generated-Ratio-1-0E-6-">Accepted_To_Generated_Ratio</a>;<br>
double <a href="#OPTIONS--gt-Cost-Precision-1-0E-18-">Cost_Precision</a>;<br>
int <a href="#OPTIONS--gt-Maximum-Cost-Repeat-5-">Maximum_Cost_Repeat</a>;<br>
int <a href="#OPTIONS--gt-Number-Cost-Samples-5-">Number_Cost_Samples</a>;<br>
double <a
href="#OPTIONS--gt-Temperature-Ratio-Scale-1-0E-5-">Temperature_Ratio_Scale</a>;<br>
double <a
href="#OPTIONS--gt-Cost-Parameter-Scale-Ratio-1-0-">Cost_Parameter_Scale_Ratio</a>;<br>
double <a
href="#OPTIONS--gt-Temperature-Anneal-Scale-100-0-">Temperature_Anneal_Scale</a>;<br>
#if <a href="#USER-INITIAL-COST-TEMP-FALSE">USER_INITIAL_COST_TEMP</a><br>
double *<a
href="#OPTIONS--gt-User-Cost-Temperature">User_Cost_Temperature</a>;<br>
#endif<br>
int <a
href="#OPTIONS--gt-Include-Integer-Parameters-FALSE-">Include_Integer_Parameters</a>;<br>
int <a
href="#OPTIONS--gt-User-Initial-Parameters-FALSE-">User_Initial_Parameters</a>;<br>
ALLOC_INT <a
href="#OPTIONS--gt-Sequential-Parameters--1-">Sequential_Parameters</a>;<br>
double <a
href="#OPTIONS--gt-Initial-Parameter-Temperature-1-0-">Initial_Parameter_Temperature</a>;<br>
#if <a href="#RATIO-TEMPERATURE-SCALES-FALSE">RATIO_TEMPERATURE_SCALES</a><br>
double *<a
href="#OPTIONS--gt-User-Temperature-Ratio">User_Temperature_Ratio</a>;<br>
#endif<br>
#if <a
href="#USER-INITIAL-PARAMETERS-TEMPS">USER_INITIAL_PARAMETERS_TEMPS</a><br>
double *<a
href="#OPTIONS--gt-User-Parameter-Temperature">User_Parameter_Temperature</a>;<br>
#endif<br>
int <a
href="#OPTIONS--gt-Acceptance-Frequency-Modulus-100-">Acceptance_Frequency_Modulus</a>;<br>
int <a
href="#OPTIONS--gt-Generated-Frequency-Modulus-10000-">Generated_Frequency_Modulus</a>;<br>
int <a href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a>;<br>
int <a
href="#OPTIONS--gt-Reanneal-Parameters-TRUE-">Reanneal_Parameters</a>;<br>
double <a href="#OPTIONS--gt-Delta-X-0-001-">Delta_X</a>;<br>
#if <a href="#DELTA-PARAMETERS-FALSE">DELTA_PARAMETERS</a><br>
double *<a
href="#OPTIONS--gt-User-Delta-Parameter">User_Delta_Parameter</a>;<br>
#endif<br>
int <a href="#OPTIONS--gt-User-Tangents-FALSE-">User_Tangents</a>;<br>
int <a href="#OPTIONS--gt-Curvature-0-FALSE-">Curvature_0</a>;<br>
#if <a href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a><br>
double *<a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a>;<br>
#endif<br>
#if <a href="#QUENCH-COST-FALSE">QUENCH_COST</a><br>
double *<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a>;<br>
#endif<br>
LONG_INT <a href="#OPTIONS--gt-N-Accepted">N_Accepted</a>;<br>
LONG_INT <a href="#OPTIONS--gt-N-Generated">N_Generated</a>;<br>
int <a href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a>;<br>
int <a href="#OPTIONS--gt-Immediate-Exit-FALSE-">Immediate_Exit</a>;<br>
double *<a href="#OPTIONS--gt-Best-Cost">Best_Cost</a>;<br>
double *<a href="#OPTIONS--gt-Best-Parameters">Best_Parameters</a>;<br>
double *<a href="#OPTIONS--gt-Last-Cost">Last_Cost</a>;<br>
double *<a href="#OPTIONS--gt-Last-Parameters">Last_Parameters</a>;<br>
#if <a href="#OPTIONAL-DATA-DBL-FALSE">OPTIONAL_DATA_DBL</a><br>
ALLOC_INT <a href="#OPTIONS--gt-Asa-Data-Dim-Dbl">Asa_Data_Dim_Dbl</a>;<br>
double *<a href="#OPTIONS--gt-Asa-Data-Dbl">Asa_Data_Dbl</a>;<br>
#endif<br>
#if <a href="#OPTIONAL-DATA-INT-FALSE">OPTIONAL_DATA_INT</a><br>
ALLOC_INT <a href="#OPTIONS--gt-Asa-Data-Dim-Int">Asa_Data_Dim_Int</a>;<br>
double *<a href="#OPTIONS--gt-Asa-Data-Int">Asa_Data_Int</a>;<br>
#endif<br>
#if <a href="#OPTIONAL-DATA-PTR-FALSE">OPTIONAL_DATA_PTR</a><br>
ALLOC_INT <a href="#OPTIONS--gt-Asa-Data-Dim-Ptr">Asa_Data_Dim_Ptr</a>;<br>
<a href="#OPTIONAL-PTR-TYPE-USER-TYPE">OPTIONAL_PTR_TYPE</a> *<a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a>;<br>
#endif<br>
#if <a href="#USER-ASA-OUT-FALSE">USER_ASA_OUT</a><br>
char *<a href="#OPTIONS--gt-Asa-Out-File">Asa_Out_File</a>;<br>
#endif<br>
#if <a href="#USER-COST-SCHEDULE-FALSE">USER_COST_SCHEDULE</a><br>
double ( *<a href="#OPTIONS--gt-Cost-Schedule">Cost_Schedule</a> ) ();<br>
#endif<br>
#if <a href="#USER-ACCEPT-ASYMP-EXP-FALSE">USER_ACCEPT_ASYMP_EXP</a><br>
double <a href="#OPTIONS--gt-Asymp-Exp-Param">Asymp_Exp_Param</a>;<br>
#endif<br>
#if <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a><br>
void ( *<a href="#OPTIONS--gt-Acceptance-Test">Acceptance_Test</a> ) ();<br>
int <a href="#OPTIONS--gt-User-Acceptance-Flag">User_Acceptance_Flag</a>;<br>
int <a href="#OPTIONS--gt-Cost-Acceptance-Flag">Cost_Acceptance_Flag</a>;<br>
double <a href="#OPTIONS--gt-Last-Cost">Last_Cost</a>;<br>
double <a href="#OPTIONS--gt-Cost-Temp-Curr">Cost_Temp_Curr</a>;<br>
double <a href="#OPTIONS--gt-Cost-Temp-Init">Cost_Temp_Init</a>;<br>
double <a href="#OPTIONS--gt-Cost-Temp-Scale">Cost_Temp_Scale</a>;<br>
double <a href="#OPTIONS--gt-Prob-Bias">Prob_Bias</a>;<br>
LONG_INT *<a href="#OPTIONS--gt-Random-Seed">Random_Seed</a>;<br>
#endif<br>
#if <a href="#USER-GENERATING-FUNCTION-FALSE">USER_GENERATING_FUNCTION</a><br>
double ( *<a href="#OPTIONS--gt-Generating-Distrib">Generating_Distrib</a> )
();<br>
#endif<br>
#if <a href="#USER-REANNEAL-COST-FALSE">USER_REANNEAL_COST</a><br>
int ( *<a href="#OPTIONS--gt-Reanneal-Cost-Function">Reanneal_Cost_Function</a>
) ();<br>
#endif<br>
#if <a href="#USER-REANNEAL-PARAMETERS-FALSE">USER_REANNEAL_PARAMETERS</a><br>
double ( *<a
href="#OPTIONS--gt-Reanneal-Params-Function">Reanneal_Params_Function</a> )
();<br>
#endif<br>
#if <a href="#ASA-SAMPLE-FALSE">ASA_SAMPLE</a><br>
double <a href="#OPTIONS--gt-Bias-Acceptance">Bias_Acceptance</a>;<br>
double *<a href="#OPTIONS--gt-Bias-Generated">Bias_Generated</a>;<br>
double <a href="#OPTIONS--gt-Average-Weights">Average_Weights</a>;<br>
double <a href="#OPTIONS--gt-Limit-Weights">Limit_Weights</a>;<br>
#endif<br>
#if <a href="#ASA-QUEUE-FALSE">ASA_QUEUE</a><br>
ALLOC_INT <a href="#OPTIONS--gt-Queue-Size">Queue_Size</a>;<br>
double *<a href="#OPTIONS--gt-Queue-Resolution">Queue_Resolution</a>;<br>
#endif<br>
#if <a href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a><br>
double *<a href="#OPTIONS--gt-Coarse-Resolution">Coarse_Resolution</a>;<br>
#endif<br>
#if <a href="#FITLOC-FALSE">FITLOC</a><br>
int <a href="#OPTIONS--gt-Fit-Local">Fit_Local</a>;<br>
int <a href="#OPTIONS--gt-Iter-Max">Iter_Max</a>;<br>
double <a href="#OPTIONS--gt-Penalty">Penalty</a>;<br>
#endif<br>
#if <a href="#MULTI-MIN-FALSE">MULTI_MIN</a><br>
double *<a href="#OPTIONS--gt-Multi-Cost">Multi_Cost</a>;<br>
double **<a href="#OPTIONS--gt-Multi-Params">Multi_Params</a>;<br>
double *<a href="#OPTIONS--gt-Multi-Grid">Multi_Grid</a>;<br>
int <a href="#OPTIONS--gt-Multi-Specify">Multi_Specify</a>;<br>
#endif<br>
#if <a href="#ASA-PARALLEL-FALSE">ASA_PARALLEL</a><br>
int <a href="#OPTIONS--gt-Gener-Mov-Avr">Gener_Mov_Avr</a>;<br>
LONG_INT <a href="#OPTIONS--gt-Gener-Block">Gener_Block</a>;<br>
LONG_INT <a href="#OPTIONS--gt-Gener-Block-Max">Gener_Block_Max</a>;<br>
#endif<br>
#if <a href="#ASA-SAVE-FALSE">ASA_SAVE</a><br>
ALLOC_INT <a href="#OPTIONS--gt-Random-Array-Dim">Random_Array_Dim</a>;<br>
LONG_INT *<a href="#OPTIONS--gt-Random-Array">Random_Array</a>;<br>
#endif<br>
int <a href="#OPTIONS--gt-Asa-Recursive-Level">Asa_Recursive_Level</a>;<br>
}<br>
<br>
USER_DEFINES; </p>

<p>Note that two ways are maintained for passing the Program Options. Check the
comments in the ASA-NOTES file. It may be necessary to change some of the
options for some systems. Read the <a
href="http://www.ingber.com/asa_examples.txt">http://www.ingber.com/asa_examples.txt</a>
file for some ongoing discussions and suggestions on how to try to optimally
set these options. Note the distinction between trying to speed up
annealing/quenching versus trying to slow down annealing (which sometimes can
speed up the search by avoiding spending too much time in some local optimal
regions). Templates are set up in ASA to accommodate all alternatives. Below,
the defaults are given in square brackets []. </p>

<p>(A) asa_usr.c file <br>
When using ASA as part of a large library, it likely is easiest to make these
changes within the user module, e.g., using the template placed in asa_usr.c.
In the user module, the Program Options are stored in the structure
USER_DEFINES *USER_OPTIONS (and in USER_DEFINES *RECUR_USER_OPTIONS if <a
href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is TRUE). </p>

<p>(B) asa_opt file <br>
It likely is most efficient to use a separate data file avoiding repeated
compilations of the code, to test various combinations of Program Options,
e.g., using the file asa_opt when <a href="#OPTIONS-FILE-TRUE">OPTIONS_FILE</a>
and <a href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA</a> are set to TRUE in
the ASA-Makefile or on your compilation command lines. </p>

<p>In the asa module (which can be called recursively) the structure is called
USER_DEFINES *OPTIONS. For the rest of this file, where no confusion can
reasonably arise, the Program Options will be referred to as USER_DEFINES
*OPTIONS. </p>

<p>9.3.1. <a
name="OPTIONS--gt-Limit-Acceptances-10000-">OPTIONS-&gt;Limit_Acceptances[10000]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The maximum number of states accepted before quitting. All the templates in
ASA have been set to use <a
href="#OPTIONS--gt-Limit-Acceptances-10000-">Limit_Acceptances</a>=1000 to
illustrate the way these options can be changed. If <a
href="#OPTIONS--gt-Limit-Acceptances-10000-">Limit_Acceptances</a> is set to 0,
then no limit is observed. This can be useful for some systems that cannot
handle large integers. </p>

<p>9.3.2. <a
name="OPTIONS--gt-Limit-Generated-99999-">OPTIONS-&gt;Limit_Generated[99999]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The maximum number of states generated before quitting. If <a
href="#OPTIONS--gt-Limit-Generated-99999-">Limit_Generated</a> is set to 0,
then no limit is observed. This can be useful for some systems that cannot
handle large integers. </p>

<p>9.3.3. <a
name="OPTIONS--gt-Limit-Invalid-Generated-States-1000-">OPTIONS-&gt;Limit_Invalid_Generated_States[1000]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>This sets limits of repetitive invalid generated states, e.g., when using
this method to include constraints. This also can be useful to quickly exit <a
href="#double-asa-">asa ()</a> if this is requested by your cost function:
Setting the value of <a
href="#OPTIONS--gt-Limit-Invalid-Generated-States-1000-">Limit_Invalid_Generated_States</a>
to 0 will exit at the next calculation of the cost function (possibly after a
few more exiting calls to calculate tangents and curvatures). For example, to
exit <a href="#double-asa-">asa ()</a> at a specific number of generated
points, set up a counter in your cost function, e.g., similar to the one in the
test function in asa_usr.c. For all calls &gt;= the limit of the number of
calls to the cost function, terminate by setting OPTIONS-&gt;<a
href="#OPTIONS--gt-Limit-Invalid-Generated-States-1000-">Limit_Invalid_Generated_States</a>
= 0 and setting *<a href="#cost-flag">cost_flag</a> = FALSE. (Note that a quick
exit also can be achieved using OPTIONS-&gt;<a
href="#OPTIONS--gt-Immediate-Exit-FALSE-">Immediate_Exit</a>.) </p>

<p>9.3.4. <a
name="OPTIONS--gt-Accepted-To-Generated-Ratio-1-0E-6-">OPTIONS-&gt;Accepted_To_Generated_Ratio[1.0E-6]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The least ratio of accepted to generated states. If this value is
encountered, then the usual tests, including possible reannealing, are
initiated even if the timing does not coincide with <a
href="#OPTIONS--gt-Acceptance-Frequency-Modulus-100-">Acceptance_Frequency_Modulus</a>
or <a
href="#OPTIONS--gt-Generated-Frequency-Modulus-10000-">Generated_Frequency_Modulus</a>
(defined below). All the templates in ASA have been set to use <a
href="#OPTIONS--gt-Accepted-To-Generated-Ratio-1-0E-6-">Accepted_To_Generated_Ratio</a>=1.0E-4
to illustrate the way these options can be changed. </p>

<p>9.3.5. <a
name="OPTIONS--gt-Cost-Precision-1-0E-18-">OPTIONS-&gt;Cost_Precision[1.0E-18]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>This sets the precision required of the cost function if exiting because of
reaching <a href="#OPTIONS--gt-Maximum-Cost-Repeat-5-">Maximum_Cost_Repeat</a>,
which is effective as long as <a
href="#OPTIONS--gt-Maximum-Cost-Repeat-5-">Maximum_Cost_Repeat</a> &gt; 0. </p>

<p>9.3.6. <a
name="OPTIONS--gt-Maximum-Cost-Repeat-5-">OPTIONS-&gt;Maximum_Cost_Repeat[5]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The maximum number of times that the cost function repeats itself, within
limits set by <a
href="#OPTIONS--gt-Cost-Precision-1-0E-18-">Cost_Precision</a>, before
quitting. This test is performed only when <a
href="#OPTIONS--gt-Acceptance-Frequency-Modulus-100-">Acceptance_Frequency_Modulus</a>
or <a
href="#OPTIONS--gt-Generated-Frequency-Modulus-10000-">Generated_Frequency_Modulus</a>
is invoked, or when the ratio of accepted to generated points is less than <a
href="#OPTIONS--gt-Accepted-To-Generated-Ratio-1-0E-6-">Accepted_To_Generated_Ratio</a>,
in order to help prevent exiting prematurely in a local minimum. If <a
href="#OPTIONS--gt-Maximum-Cost-Repeat-5-">Maximum_Cost_Repeat</a> is 0, this
test is bypassed. </p>

<p>9.3.7. <a
name="OPTIONS--gt-Number-Cost-Samples-5-">OPTIONS-&gt;Number_Cost_Samples[5]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#OPTIONS--gt-Number-Cost-Samples-5-">Number_Cost_Samples</a>
&gt; 0, the initial cost temperature is calculated as the average of the
absolute values of <a
href="#OPTIONS--gt-Number-Cost-Samples-5-">Number_Cost_Samples</a> sampled cost
functions. </p>

<p>When <a href="#OPTIONS--gt-Number-Cost-Samples-5-">Number_Cost_Samples</a>
&lt; -1, the initial cost temperature is calculated as the deviation over a
sample of -Number_Cost_Samples number of cost functions, i.e., the square-root
of the difference of the second moment and the square of the first moment,
normalized by the ratio of -Number_Cost_Samples to -Number_Cost_Samples - 1.
</p>

<p>When <a href="#ASA-SAVE-FALSE">ASA_SAVE</a> is set to TRUE, <a
href="#OPTIONS--gt-Number-Cost-Samples-5-">Number_Cost_Samples</a> is set to 1
after the initial run since all the required information for subsequent runs
already has been collected. </p>

<p>If the calculated initial cost temperature is not set using <a
href="#USER-INITIAL-COST-TEMP-FALSE">USER_INITIAL_COST_TEMP</a>, and if it is
essentially zero (using a test with SMALL_FLOAT), then it is reset to e =
2.718. If <a href="#ASA-PRINT-TRUE">ASA_PRINT</a> is TRUE a warning is printed.
</p>

<p>See <a href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a> for similar
treatment of the reannealed cost temperature. </p>

<p>9.3.8. <a
name="OPTIONS--gt-Temperature-Ratio-Scale-1-0E-5-">OPTIONS-&gt;Temperature_Ratio_Scale[1.0E-5]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>This scale is a guide to the expected cost temperature of convergence within
a small range of the global minimum. As explained in the ASA papers, and as
outlined in the ASA-NOTES, this is used to set the rates of annealing. Here is
a brief description in terms of the temperature schedule outlined above. </p>

<p>As a useful physical guide, the temperature is further parameterized in
terms of quantities m_i and n_i, derived from an "expected" final temperature
(which is not enforced in ASA), T_fi, <br>
<br>
T_fi = T_0i exp(-m_i) when k_fi = exp(n_i), <br>
<br>
c_i = m_i exp(-n_i/D). <br>
However, note that since the initial temperatures and generating indices, T_0i
and k_i, are independently scaled for each parameter, it usually is reasonable
to simply take {c_i, m_i, n_i} to be independent of the index i, i.e., to be
{c, m, n} for all i. </p>

<p>In asa.c, <br>
<br>
m = -log(Temperature_Ratio_Scale). <br>
This can be overridden if <a
href="#RATIO-TEMPERATURE-SCALES-FALSE">RATIO_TEMPERATURE_SCALES</a> (further
discussed below) is set to TRUE, and then values of multipliers of
-log(Temperature_Ratio_Scale) are used in asa.c. These multipliers are
calculated in the user module as OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Temperature-Ratio">User_Temperature_Ratio</a> []. Then,
<br>
<br>
m_i = m OPTIONS-&gt;User_Temperature_Ratio[i]. <br>
</p>

<p>For large numbers of parameters, <a
href="#OPTIONS--gt-Temperature-Ratio-Scale-1-0E-5-">Temperature_Ratio_Scale</a>
is a very influential Program Option in determining the scale of parameter
annealing. It likely would be best to start with a larger value than the
default, to slow down the annealing. </p>

<p>The ASA-NOTES contain a section giving a little more explanation on the use
of <a
href="#OPTIONS--gt-Temperature-Ratio-Scale-1-0E-5-">Temperature_Ratio_Scale</a>.
</p>

<p>9.3.9. <a
name="OPTIONS--gt-Cost-Parameter-Scale-Ratio-1-0-">OPTIONS-&gt;Cost_Parameter_Scale_Ratio[1.0]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>This is the ratio of cost:parameter temperature annealing scales. As
explained in the ASA papers, and as outlined in the ASA-NOTES, this is used to
set the rates of annealing. </p>

<p>In terms of the algebraic development given above for the <a
href="#OPTIONS--gt-Temperature-Ratio-Scale-1-0E-5-">Temperature_Ratio_Scale</a>,
in asa.c, <br>
<br>
c_cost = c <a
href="#OPTIONS--gt-Cost-Parameter-Scale-Ratio-1-0-">Cost_Parameter_Scale_Ratio</a>.
<br>
</p>

<p><a
href="#OPTIONS--gt-Cost-Parameter-Scale-Ratio-1-0-">Cost_Parameter_Scale_Ratio</a>
is a very influential Program Option in determining the scale of annealing of
the cost function. </p>

<p>9.3.10. <a
name="OPTIONS--gt-Temperature-Anneal-Scale-100-0-">OPTIONS-&gt;Temperature_Anneal_Scale[100.0]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>This scale is a guide to achieve the expected cost temperature sought by <a
href="#OPTIONS--gt-Temperature-Ratio-Scale-1-0E-5-">Temperature_Ratio_Scale</a>
within the limits expected by <a
href="#OPTIONS--gt-Limit-Acceptances-10000-">Limit_Acceptances</a>. As
explained in the ASA papers, and as outlined in the ASA-NOTES, this is used to
set the rates of annealing. </p>

<p>In terms of the algebraic development given above for the <a
href="#OPTIONS--gt-Temperature-Ratio-Scale-1-0E-5-">Temperature_Ratio_Scale</a>,
in asa.c, <br>
<br>
n = log(Temperature_Anneal_Scale). <br>
</p>

<p>For large numbers of parameters, <a
href="#OPTIONS--gt-Temperature-Anneal-Scale-100-0-">Temperature_Anneal_Scale</a>
probably should at least initially be set to values greater than
*number_parameters, although it will not be as influential as <a
href="#OPTIONS--gt-Temperature-Ratio-Scale-1-0E-5-">Temperature_Ratio_Scale</a>.
</p>

<p>9.3.11. <a
name="OPTIONS--gt-User-Cost-Temperature">OPTIONS-&gt;User_Cost_Temperature</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#USER-INITIAL-COST-TEMP-FALSE">USER_INITIAL_COST_TEMP</a> is
TRUE, a pointer, OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Cost-Temperature">User_Cost_Temperature</a>, is used to
adaptively initialize the cost temperature. If this choice is elected, then <a
href="#OPTIONS--gt-User-Cost-Temperature">User_Cost_Temperature</a> [] must be
initialized. </p>

<p>9.3.12. <a
name="OPTIONS--gt-Include-Integer-Parameters-FALSE-">OPTIONS-&gt;Include_Integer_Parameters[FALSE]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a
href="#OPTIONS--gt-Include-Integer-Parameters-FALSE-">Include_Integer_Parameters</a>
is TRUE, include integer parameters in derivative and reannealing calculations,
except those with INTEGER_TYPE (2). This is useful when the parameters can be
analytically continued between their integer values, or if you set the
parameter increments to integral values by setting <a
href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> to TRUE, as discussed further
below. </p>

<p>9.3.13. <a
name="OPTIONS--gt-User-Initial-Parameters-FALSE-">OPTIONS-&gt;User_Initial_Parameters[FALSE]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>ASA always requests that the user guess initial values of starting
parameters, since that guess is as good as any random guess the code might
make. The default is to use the ASA distribution about this point to generate
an initial state of parameters and value of the cost function that satisfy the
user's constraints. If <a
href="#OPTIONS--gt-User-Initial-Parameters-FALSE-">User_Initial_Parameters</a>
is set to TRUE, then the first user's guess is used to calculate this first
state. </p>

<p>9.3.14. <a
name="OPTIONS--gt-Sequential-Parameters--1-">OPTIONS-&gt;Sequential_Parameters[-1]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The ASA default for generating new points in parameter space is to find a
new point in the full space, rather than to sample the space one parameter at a
time as do most other algorithms. This is in accord with the general philosophy
of sampling the space without any prior knowledge of ordering of the
parameters. However, if you have reason to believe that at some stage(s) of
search there might be some benefit to sampling the parameters sequentially,
then set <a
href="#OPTIONS--gt-Sequential-Parameters--1-">Sequential_Parameters</a> to the
parameter number you wish to start your annealing cycle, i.e., ranging from 0
to (*<a href="#ALLOC-INT-parameter-dimension">parameter_dimension</a> - 1).
Then, ASA will cycle through your parameters in the order you have placed them
in all arrays defining their properties, keeping track of which parameter is
actively being modified in OPTIONS-&gt;<a
href="#OPTIONS--gt-Sequential-Parameters--1-">Sequential_Parameters</a>,
thereby permitting adaptive changes. Any negative value for <a
href="#OPTIONS--gt-Sequential-Parameters--1-">Sequential_Parameters</a> will
use the default ASA algorithm. Upon exiting <a href="#double-asa-">asa ()</a>,
<a href="#OPTIONS--gt-Sequential-Parameters--1-">Sequential_Parameters</a> is
reset back to its initial value. </p>

<p>9.3.15. <a
name="OPTIONS--gt-Initial-Parameter-Temperature-1-0-">OPTIONS-&gt;Initial_Parameter_Temperature[1.0]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The initial temperature for all parameters. This is overridden by use of the
<a href="#USER-INITIAL-PARAMETERS-TEMPS">USER_INITIAL_PARAMETERS_TEMPS</a>
option. </p>

<p>9.3.16. <a
name="OPTIONS--gt-User-Temperature-Ratio">OPTIONS-&gt;User_Temperature_Ratio</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#RATIO-TEMPERATURE-SCALES-FALSE">RATIO_TEMPERATURE_SCALES</a> is
TRUE, a pointer, OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Temperature-Ratio">User_Temperature_Ratio</a>, is used
to adaptively set ratios of scales used to anneal the parameters in the cost
function. This can be useful when some parameters are not being reannealed, or
when setting the initial temperatures (using <a
href="#USER-INITIAL-PARAMETERS-TEMPS">USER_INITIAL_PARAMETERS_TEMPS</a> set to
TRUE) is not sufficient to handle all your parameters properly. This typically
is not encountered, so it is advised to look elsewhere at first to improve your
search. If this choice is elected, then <a
href="#OPTIONS--gt-User-Temperature-Ratio">User_Temperature_Ratio</a> [] must
be initialized. </p>

<p>9.3.17. <a
name="OPTIONS--gt-User-Parameter-Temperature">OPTIONS-&gt;User_Parameter_Temperature</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a
href="#USER-INITIAL-PARAMETERS-TEMPS">USER_INITIAL_PARAMETERS_TEMPS</a> is
TRUE, a pointer, OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Parameter-Temperature">User_Parameter_Temperature</a>,
is used to adaptively initialize parameters temperatures. If this choice is
elected, then <a
href="#OPTIONS--gt-User-Parameter-Temperature">User_Parameter_Temperature</a>
[] must be initialized. </p>

<p>9.3.18. <a
name="OPTIONS--gt-Acceptance-Frequency-Modulus-100-">OPTIONS-&gt;Acceptance_Frequency_Modulus[100]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The frequency of testing for periodic testing and reannealing, dependent on
the number of accepted states. If <a
href="#OPTIONS--gt-Acceptance-Frequency-Modulus-100-">Acceptance_Frequency_Modulus</a>
is set to 0, then this test is not performed. </p>

<p>9.3.19. <a
name="OPTIONS--gt-Generated-Frequency-Modulus-10000-">OPTIONS-&gt;Generated_Frequency_Modulus[10000]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The frequency of testing for periodic testing and reannealing, dependent on
the number of generated states. If <a
href="#OPTIONS--gt-Generated-Frequency-Modulus-10000-">Generated_Frequency_Modulus</a>
is set to 0, then this test is not performed. </p>

<p>9.3.20. <a
name="OPTIONS--gt-Reanneal-Cost-1-">OPTIONS-&gt;Reanneal_Cost[1]</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>A value of <a href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a> set to
FALSE=0 bypasses reannealing of the cost temperature. This might be done for
systems where such reannealing is not useful. Note that the use of <a
href="#USER-REANNEAL-COST-FALSE">USER_REANNEAL_COST</a> permits users to define
their own cost temperature reannealing algorithm when <a
href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a> is not 0 or -1. </p>

<p>A value of <a href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a> = 1
permits the default reannealing of the cost temperature to be part of the
fitting process, correlating the cost temperature with the current last and
best values of the cost function as described above. </p>

<p>If <a href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a> &gt; 1, then
the reannealed initial cost temperature is calculated as the deviation over a
sample of -Reanneal_Cost number of cost functions, i.e., the square-root of the
difference of the second moment and the square of the first moment, normalized
by the ratio of <a href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a> to <a
href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a> - 1. For example, if the
initial cost temperature is reannealed to a larger value, this increases the
effective index of the current cost temperature, effectively slowing down the
rate of decrease of future current cost temperatures as this index is increased
for each acceptance test. </p>

<p>If <a href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a> &lt; -1, then
the cost index is reset to 1, and the initial and current cost temperatures are
calculated as the deviation over a sample of -Reanneal_Cost number of cost
functions, i.e., the square-root of the difference of the second moment and the
square of the first moment, normalized by the ratio of -Reanneal_Cost to
-Reanneal_Cost - 1. This often gives rise to fluctuating current cost
temperatures, sometimes diminishing the value of the acceptance test. However,
for some systems that have different behavior at different scales, this can be
a very useful OPTIONS. The algorithms with <a
href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a> &gt; 1 or &lt; -1
typically require more calls to the cost function than the default of <a
href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a> = 1. This typically is
even more so when <a href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a>
&lt; -1 than when <a href="#OPTIONS--gt-Reanneal-Cost-1-">Reanneal_Cost</a>
&gt; 1 due to the resetting of the current cost temperature as well as the
initial cost temperature. Because of the fat tail of the parameter
distributions, quite often relatively large values of the cost function will be
included in the periodic sampling. However, of course the parameter
temperatures continue to diminish, focusing the fit towards the global optimal
value. </p>

<p>Note that <a
href="#OPTIONS--gt-Number-Cost-Samples-5-">Number_Cost_Samples</a> can be used
similarly for calculating the initial cost temperature. </p>

<p>9.3.21. <a
name="OPTIONS--gt-Reanneal-Parameters-TRUE-">OPTIONS-&gt;Reanneal_Parameters[TRUE]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>This permits reannealing of the parameter temperatures to be part of the
fitting process. This might have to be set to FALSE for systems with very large
numbers of parameters just to decrease the number of function calls. </p>

<p>9.3.22. <a name="OPTIONS--gt-Delta-X-0-001-">OPTIONS-&gt;Delta_X[0.001]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The fractional increment of parameters used to take numerical derivatives
when calculating tangents for reannealing, for each parameter chosen to be
reannealed. This is overridden when <a
href="#DELTA-PARAMETERS-FALSE">DELTA_PARAMETERS</a> is set to TRUE. If <a
href="#OPTIONS--gt-Delta-X-0-001-">Delta_X</a> is set to 0, then no tangents
are calculated. </p>

<p>Note, that for second-derivative off-diagonal curvature calculations, the
algorithm used may cause evaluations of your cost function outside a range when
a parameter being sampled is at the boundary. However, only values of
parameters within the ranges set by the user are actually used for acceptance
tests. Note that the user may set <a
href="#OPTIONS--gt-User-Tangents-FALSE-">User_Tangents</a> to TRUE, as
discussed below, to choose any other algorithm to calculate derivatives or
other indicators to be used for reannealing. </p>

<p>When calculating derivatives, an invalid cost function, i.e., returning *<a
href="#cost-flag">cost_flag</a> = FALSE from the cost function, will exit asa()
with *<a href="#int-exit-code">exit_code</a> INVALID_COST_FUNCTION_DERIV. Also,
when calculating derivatives, no extra test is performed to check that
parameters are within their lower and upper bounds (since meshes for
derivatives may exceed these bounds). If this is not desired, then within the
cost function, within a test for USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a> == 3, a decision may be made
whether to return this *<a href="#int-exit-code">exit_code</a>. </p>

<p>9.3.23. <a
name="OPTIONS--gt-User-Delta-Parameter">OPTIONS-&gt;User_Delta_Parameter</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#DELTA-PARAMETERS-FALSE">DELTA_PARAMETERS</a> is TRUE, a
pointer, OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Delta-Parameter">User_Delta_Parameter</a>, is used to
adaptively set increments of parameters used to take pseudo-derivatives
(numerical derivatives), for each parameter chosen to be reannealed. For
example, this can be useful to reanneal integer parameters when a choice is
made to permit their derivatives to be taken. If this choice is elected, then
OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Delta-Parameter">User_Delta_Parameter</a> [] must be
initialized. No tangents are calculated for any parameter if
User_Delta_Parameter[] is 0. </p>

<p>9.3.24. <a
name="OPTIONS--gt-User-Tangents-FALSE-">OPTIONS-&gt;User_Tangents[FALSE]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>By default, <a href="#double-asa-">asa ()</a> calculates numerical tangents
(first derivatives) of the cost function for use in reannealing and to provide
this information to the user. However, if <a
href="#OPTIONS--gt-User-Tangents-FALSE-">User_Tangents</a> is set to TRUE, then
when <a href="#double-asa-">asa ()</a> requires tangents to be calculated, a
value of *valid_state_generated_flag (called *<a
href="#cost-flag">cost_flag</a> in <a href="#ASA-TEST-FALSE">ASA_TEST</a> in
asa_usr.c and asa_usr_cst.c) of FALSE is set and the cost function is called.
The user is expected to set up a test in the beginning of the cost function to
sense this value, and then calculate the tangents [] array (containing the
derivatives of the cost function, or whatever sensitivity measure is desired to
be used for reannealing) to be returned to <a href="#double-asa-">asa ()</a>.
An example is provided with the ASA_TEMPLATE_SAMPLE example. </p>

<p>9.3.25. <a
name="OPTIONS--gt-Curvature-0-FALSE-">OPTIONS-&gt;Curvature_0[FALSE]</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If the curvature array is quite large for your system, and you really do not
use this information, you can set <a
href="#OPTIONS--gt-Curvature-0-FALSE-">Curvature_0</a> to TRUE which just
requires a one-dimensional curvature [0] to be defined to pass to the asa
module (to avoid problems with some systems). This is most useful, and
typically is necessary, when minimizing systems with large numbers of
parameters since the curvature array is of size number of parameters squared.
</p>

<p>If you wish to calculate the curvature array periodically, every reannealing
cycle determined by <a
href="#OPTIONS--gt-Acceptance-Frequency-Modulus-100-">Acceptance_Frequency_Modulus</a>,
<a
href="#OPTIONS--gt-Generated-Frequency-Modulus-10000-">Generated_Frequency_Modulus</a>,
or <a
href="#OPTIONS--gt-Accepted-To-Generated-Ratio-1-0E-6-">Accepted_To_Generated_Ratio</a>,
then set OPTIONS-&gt;<a href="#OPTIONS--gt-Curvature-0-FALSE-">Curvature_0</a>
to -1. </p>

<p>9.3.26. <a
name="OPTIONS--gt-User-Quench-Param-Scale">OPTIONS-&gt;User_Quench_Param_Scale</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a> is TRUE, a
pointer, OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a>, is
used to adaptively set the scale of the temperature schedule. If this choice is
elected, then OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a> [] must
be initialized, and values defined for each dimension. The default in the asa
module is to assign the annealing value of 1 to all elements that might be
defined otherwise. If values are selected greater than 1 using this Program
Option, then quenching is enforced. </p>

<p>Note that you can use this control quite differently, to slow down the
annealing process by setting OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a> [] to
values less than 1. This can be useful in problems where the global optimal
point is at a quite different scale from other local optima, masking its
presence. </p>

<p>If <a href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA</a>, <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a>, and <a
href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a> are TRUE, then *<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> and <a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a> [] all
are read in from asa_opt. If <a
href="#RECUR-OPTIONS-FILE-DATA-FALSE">RECUR_OPTIONS_FILE_DATA</a>, <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a>, and <a
href="#QUENCH-PARAMETERS-FALSE">QUENCH_PARAMETERS</a> are TRUE, then *<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> and <a
href="#OPTIONS--gt-User-Quench-Param-Scale">User_Quench_Param_Scale</a> [] all
are read in from asa_opt_recur. </p>

<p>9.3.27. <a
name="OPTIONS--gt-User-Quench-Cost-Scale">OPTIONS-&gt;User_Quench_Cost_Scale</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#QUENCH-COST-FALSE">QUENCH_COST</a> is TRUE, a pointer,
OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a>, is used
to adaptively set the scale of the temperature schedule. If this choice is
elected, then OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> [0] must
be initialized. The default in the asa module is to assign the annealing value
of 1 to this element that might be defined otherwise. </p>

<p>OPTIONS-&gt;<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> may be
changed adaptively without affecting the ergodicity of the algorithm, within
reason of course. This might be useful for some systems that require different
approaches to the cost function in different ranges of its parameters. Note
that increasing this parameter beyond its default of 1.0 can result in rapidly
locking in the search to a small region of the cost function, severely
handicapping the algorithm. On the contrary, you may find that slowing the cost
temperature schedule, by setting this parameter to a value less than 1.0, may
work better for your system. </p>

<p>If <a href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA</a> and <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a> are TRUE, then *<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> is read
in from asa_opt. If <a
href="#RECUR-OPTIONS-FILE-DATA-FALSE">RECUR_OPTIONS_FILE_DATA</a> and <a
href="#QUENCH-COST-FALSE">QUENCH_COST</a> are TRUE, then *<a
href="#OPTIONS--gt-User-Quench-Cost-Scale">User_Quench_Cost_Scale</a> is read
in from asa_opt_recur. </p>

<p>9.3.28. <a name="OPTIONS--gt-N-Accepted">OPTIONS-&gt;N_Accepted</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><a href="#OPTIONS--gt-N-Accepted">N_Accepted</a> contains the current number
of points saved by the acceptance criteria. This can be used to monitor the
fit. On exiting from <a href="#double-asa-">asa ()</a> <a
href="#OPTIONS--gt-N-Accepted">N_Accepted</a> contains the value of
*best_number_accepted_saved in asa.c. Note that the value of <a
href="#OPTIONS--gt-N-Accepted">N_Accepted</a> typically will be less in the
cost function than in <a href="#ASA-OUT---quot-asa-out--quot-">ASA_OUT</a>, as
the value of the returned cost must be tested back in <a
href="#double-asa-">asa ()</a> to see if <a
href="#OPTIONS--gt-N-Accepted">N_Accepted</a> should be incremented. </p>

<p>9.3.29. <a name="OPTIONS--gt-N-Generated">OPTIONS-&gt;N_Generated</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><a href="#OPTIONS--gt-N-Generated">N_Generated</a> contains the current
number of generated states. This can be used to monitor the fit. On exiting
from <a href="#double-asa-">asa ()</a> <a
href="#OPTIONS--gt-N-Generated">N_Generated</a> contains the value of
*best_number_generated_saved in asa.c. Note that the value of <a
href="#OPTIONS--gt-N-Generated">N_Generated</a> typically will be less in the
cost function than in <a href="#ASA-OUT---quot-asa-out--quot-">ASA_OUT</a>, as
this value is only incremented upon returning to asa() if some tests are
passed. </p>

<p>9.3.30. <a name="OPTIONS--gt-Locate-Cost">OPTIONS-&gt;Locate_Cost</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><a href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a> is a flag set in <a
href="#double-asa-">asa ()</a>, telling at what point the cost function is
being called. This can be useful for determining when to perform tests while in
your cost function. When <a href="#ASA-PRINT-TRUE">ASA_PRINT</a> is TRUE, the
value is printed out upon exiting <a href="#double-asa-">asa ()</a>. Note that
there are several possible values that be reasonable, depending on from where
the final exit was called. </p>

<p><a href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a> = 0. The cost function is
being used for the initial cost temperature. </p>

<p><a href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a> = 1. The cost function is
being used for the initial cost value. </p>

<p><a href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a> = 2. The cost function is
being used for a new generated state. </p>

<p><a href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a> = 12. The cost function
is being used for a new generated state just after a new best state was
achieved. </p>

<p><a href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a> = 3. The cost function is
being used for the cost derivatives to reanneal the parameters. </p>

<p><a href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a> = 4. The cost function is
being used for reannealing the cost temperature. </p>

<p><a href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a> = 5. The cost function is
being used for the exiting of <a href="#double-asa-">asa ()</a> to calculate
final curvatures. </p>

<p><a href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a> = -1. Exited main loop of
asa () because of user-defined constraints in OPTIONS, e.g., <a
href="#OPTIONS--gt-Acceptance-Frequency-Modulus-100-">Acceptance_Frequency_Modulus</a>,
<a
href="#OPTIONS--gt-Generated-Frequency-Modulus-10000-">Generated_Frequency_Modulus</a>,
or <a
href="#OPTIONS--gt-Accepted-To-Generated-Ratio-1-0E-6-">Accepted_To_Generated_Ratio</a>.
</p>

<p>When calculating derivatives, an invalid cost function, i.e., returning *<a
href="#cost-flag">cost_flag</a> = FALSE from the cost function, will exit asa()
with *<a href="#int-exit-code">exit_code</a> INVALID_COST_FUNCTION_DERIV. Also,
when calculating derivatives, no extra test is performed to check that
parameters are within their lower and upper bounds (since meshes for
derivatives may exceed these bounds). If this is not desired, then within the
cost function, within a test for USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a> == 3, a decision may be made
whether to return this *<a href="#int-exit-code">exit_code</a>. </p>

<p>9.3.31. <a
name="OPTIONS--gt-Immediate-Exit-FALSE-">OPTIONS-&gt;Immediate_Exit[FALSE]</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>OPTIONS-&gt;<a href="#OPTIONS--gt-Immediate-Exit-FALSE-">Immediate_Exit</a>
is initialized to FALSE when entering <a href="#double-asa-">asa ()</a>. At any
time during the fit, except while the call to <a
href="#double-cost-function-">cost_function</a> () from <a
href="#double-asa-">asa ()</a> is being used simply to calculate derivatives or
the cost temperature, if the user sets <a
href="#OPTIONS--gt-Immediate-Exit-FALSE-">Immediate_Exit</a> to TRUE, then just
after bookkeeping is performed by the acceptance test, <a
href="#double-asa-">asa ()</a> will exit with code IMMEDIATE_EXIT. All closing
calculations of current <a href="#double-cost-tangents">cost_tangents</a> []
and <a href="#double-cost-curvature">cost_curvature</a> [] are bypassed. </p>

<p>9.3.32. <a name="OPTIONS--gt-Best-Cost">OPTIONS-&gt;Best_Cost</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>In asa_usr_asa.h, the OPTIONS *<a
href="#OPTIONS--gt-Best-Cost">Best_Cost</a> is a pointer to the value of the
cost function of the saved best state calculated in <a href="#double-asa-">asa
()</a>. E.g., together with *<a
href="#OPTIONS--gt-Best-Parameters">Best_Parameters</a> and <a
href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a>, these OPTIONS can aid several
adaptive features of ASA, e.g., automating the diminishing of ranges each time
a new best state is achieved, as illustrated in the <a
href="#ASA-TEMPLATE-FALSE">ASA_TEMPLATE</a> just after the comment
MY_TEMPLATE_diminishing_ranges in asa_usr.c. This OPTIONS is to be used
read-only by the cost function, as calculated in <a href="#double-asa-">asa
()</a>; do not change it in the user module unless you so wish to modify the
sampling. </p>

<p>9.3.33. <a
name="OPTIONS--gt-Best-Parameters">OPTIONS-&gt;Best_Parameters</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>In asa_usr_asa.h, the OPTIONS *<a
href="#OPTIONS--gt-Best-Parameters">Best_Parameters</a> is a pointer to the
values of the parameters of the saved best state calculated in <a
href="#double-asa-">asa ()</a>. E.g., together with *<a
href="#OPTIONS--gt-Best-Cost">Best_Cost</a> and <a
href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a>, these OPTIONS can aid several
adaptive features of ASA, e.g., automating the diminishing of ranges each time
a new best state is achieved, as illustrated in the <a
href="#ASA-TEMPLATE-FALSE">ASA_TEMPLATE</a> just after the comment
MY_TEMPLATE_diminishing_ranges in asa_usr.c. This OPTIONS is to be used
read-only by the cost function, as calculated in <a href="#double-asa-">asa
()</a>; do not change it in the user module unless you so wish to modify the
sampling. </p>

<p>9.3.34. <a name="OPTIONS--gt-Last-Cost">OPTIONS-&gt;Last_Cost</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>In asa_usr_asa.h, the OPTIONS *<a
href="#OPTIONS--gt-Last-Cost">Last_Cost</a> is a pointer to the value of the
cost function of the last saved state calculated in <a href="#double-asa-">asa
()</a>. This can be compared to *<a href="#OPTIONS--gt-Best-Cost">Best_Cost</a>
as a measure of fluctuations among local minima. An example of use in a
user-defined acceptance test is in asa_usr.c when <a
href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> is TRUE. This
OPTIONS is to be used read-only by the cost function, as calculated in <a
href="#double-asa-">asa ()</a>; do not change it in the user module unless you
so wish to modify the sampling. </p>

<p>9.3.35. <a
name="OPTIONS--gt-Last-Parameters">OPTIONS-&gt;Last_Parameters</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>In asa_usr_asa.h, the OPTIONS *<a
href="#OPTIONS--gt-Last-Parameters">Last_Parameters</a> is a pointer to the
values of the parameters of the last saved state calculated in <a
href="#double-asa-">asa ()</a>. This can be compared to *<a
href="#OPTIONS--gt-Best-Parameters">Best_Parameters</a> as a measure of
fluctuations among local minima. This OPTIONS is to be used read-only by the
cost function, as calculated in <a href="#double-asa-">asa ()</a>; do not
change it in the user module unless you so wish to modify the sampling. </p>

<p>9.3.36. <a
name="OPTIONS--gt-Asa-Data-Dim-Dbl">OPTIONS-&gt;Asa_Data_Dim_Dbl</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If the Pre-Compile Option <a
href="#OPTIONAL-DATA-DBL-FALSE">OPTIONAL_DATA_DBL</a> [FALSE] is set to TRUE,
an additional Program Option, OPTIONS-&gt;<a
href="#OPTIONS--gt-Asa-Data-Dim-Dbl">Asa_Data_Dim_Dbl</a>, becomes available to
define the dimension of OPTIONS-&gt;<a
href="#OPTIONS--gt-Asa-Data-Dbl">Asa_Data_Dbl</a> []. </p>

<p>9.3.37. <a name="OPTIONS--gt-Asa-Data-Dbl">OPTIONS-&gt;Asa_Data_Dbl</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If the Pre-Compile Option <a
href="#OPTIONAL-DATA-DBL-FALSE">OPTIONAL_DATA_DBL</a> [FALSE] is set to TRUE,
an additional Program Option pointer, OPTIONS-&gt;<a
href="#OPTIONS--gt-Asa-Data-Dbl">Asa_Data_Dbl</a>, becomes available to return
additional information to the user module from the asa module. This information
communicates with the asa module, and memory must be allocated for it in the
user module. An example is given in asa_usr.c when <a
href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is TRUE. </p>

<p>9.3.38. <a
name="OPTIONS--gt-Asa-Data-Dim-Int">OPTIONS-&gt;Asa_Data_Dim_Int</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If the Pre-Compile Option <a
href="#OPTIONAL-DATA-INT-FALSE">OPTIONAL_DATA_INT</a> [FALSE] is set to TRUE,
an additional Program Option, OPTIONS-&gt;<a
href="#OPTIONS--gt-Asa-Data-Dim-Int">Asa_Data_Dim_Int</a>, becomes available to
define the dimension of OPTIONS-&gt;<a
href="#OPTIONS--gt-Asa-Data-Int">Asa_Data_Int</a> []. </p>

<p>9.3.39. <a name="OPTIONS--gt-Asa-Data-Int">OPTIONS-&gt;Asa_Data_Int</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If the Pre-Compile Option <a
href="#OPTIONAL-DATA-INT-FALSE">OPTIONAL_DATA_INT</a> [FALSE] is set to TRUE,
an additional Program Option pointer, OPTIONS-&gt;<a
href="#OPTIONS--gt-Asa-Data-Int">Asa_Data_Int</a>, becomes available to return
additional integer information to the user module from the asa module. This
information communicates with the asa module, and memory must be allocated for
it in the user module. </p>

<p>9.3.40. <a
name="OPTIONS--gt-Asa-Data-Dim-Ptr">OPTIONS-&gt;Asa_Data_Dim_Ptr</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If the Pre-Compile Option <a
href="#OPTIONAL-DATA-PTR-FALSE">OPTIONAL_DATA_PTR</a> [FALSE] is set to TRUE,
an additional Program Option, OPTIONS-&gt;<a
href="#OPTIONS--gt-Asa-Data-Dim-Ptr">Asa_Data_Dim_Ptr</a>, becomes available to
define the dimension of OPTIONS-&gt;<a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a>. </p>

<p>For example, a value of <a
href="#OPTIONS--gt-Asa-Data-Dim-Ptr">Asa_Data_Dim_Ptr</a> = 2 might be used to
set different entries in data arrays at two levels of recursion. See the
discussion under <a href="#OPTIONAL-DATA-PTR-FALSE">OPTIONAL_DATA_PTR</a> and
<a href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a> for use in multiple
recursion. </p>

<p>9.3.41. <a name="OPTIONS--gt-Asa-Data-Ptr">OPTIONS-&gt;Asa_Data_Ptr</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If the Pre-Compile Option <a
href="#OPTIONAL-DATA-PTR-FALSE">OPTIONAL_DATA_PTR</a> [FALSE] is set to TRUE,
an additional Program Option pointer, OPTIONS-&gt;<a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a>, becomes available to define
an array, of type <a href="#OPTIONAL-PTR-TYPE-USER-TYPE">OPTIONAL_PTR_TYPE</a>
defined by the user, which can be used to pass arbitrary arrays or structures
to the user module from the asa module. This information communicates with the
asa module, and memory must be allocated for it in the user module. </p>

<p>For example, struct DATA might contain an array data[10] to be used in the
<a href="#double-cost-function-">cost_function</a>. <a
href="#OPTIONS--gt-Asa-Data-Dim-Ptr">Asa_Data_Dim_Ptr</a> might have a value 2.
Set #define <a href="#OPTIONAL-PTR-TYPE-USER-TYPE">OPTIONAL_PTR_TYPE</a> DATA.
Then, data[3] in struct Asa_Data_Ptr[1] could be set and accessed as
USER_OPTIONS-&gt;Asa_Data_Ptr[1].data[3] in the cost function. </p>

<p>For example, your main program that calls asa_main() would have developed a
struct SelectedType *SelectedPointer, and you can call
asa_main(SelectedPointer, ...). In asa_usr_asa.h, you would have <br>
<br>
#define <a href="#OPTIONAL-PTR-TYPE-USER-TYPE">OPTIONAL_PTR_TYPE</a>
SelectedType <br>
In asa_usr.c (and asa_usr.h) you would develop int asa_main(<a
href="#OPTIONAL-PTR-TYPE-USER-TYPE">OPTIONAL_PTR_TYPE</a> *OptionalPointer,
...) and, close to the appropriate <a
href="#ASA-TEMPLATE-FALSE">ASA_TEMPLATE</a>, you would set <br>
<br>
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a> =
OptionalPointer; <br>
if <a href="#OPTIONS--gt-Asa-Data-Dim-Ptr">Asa_Data_Dim_Ptr</a> = 1 were being
passed to ASA; otherwise, if <a
href="#OPTIONS--gt-Asa-Data-Dim-Ptr">Asa_Data_Dim_Ptr</a> &gt; 1, as
illustrated in the <a href="#ASA-TEMPLATE-FALSE">ASA_TEMPLATE</a> in asa_usr.c,
memory must be allocated (and then freed) for <a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a>, and each dimension must be
properly aligned with the structs being passed from the main program. </p>

<p>Note that the typedef of the SelectedType struct (whether or not you
explicitly use the term typedef), developed in your main program, cannot be
passed by its name to asa_main(), and so it must be declared as well in the asa
module. In asa_usr_asa.h, the SelectedType struct can be included with the use
of an #include SelectedStruct.h common to your main program and asa_usr_asa.h.
</p>

<p>As noted in asa_usr.c, before exiting asa_main(), instead of freeing <a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a>, if memory has been allocated
outside ASA, e.g., by the use of <a href="#ASA-LIB-FALSE">ASA_LIB</a>, use <br>
<br>
USER_OPTIONS-&gt;<a href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a> = NULL;
<br>
</p>

<p>The <a
href="http://www.ingber.com/asa_examples.txt">http://www.ingber.com/asa_examples.txt</a>
file contains some guidance of the use of <a
href="#OPTIONAL-DATA-PTR-FALSE">OPTIONAL_DATA_PTR</a> and <a
href="#OPTIONS--gt-Asa-Data-Ptr">Asa_Data_Ptr</a>. </p>

<p>9.3.42. <a name="OPTIONS--gt-Asa-Out-File">OPTIONS-&gt;Asa_Out_File</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If you wish to have the printing from the asa module be sent to a file
determined dynamically from the user module, set the Pre-Compile Printing
Option <a href="#USER-ASA-OUT-FALSE">USER_ASA_OUT</a> [FALSE] to TRUE, and
define the Program Option *<a href="#OPTIONS--gt-Asa-Out-File">Asa_Out_File</a>
in the user module. (This overrides any ASA_OUT settings.) An example of this
use for multiple <a href="#double-asa-">asa ()</a> runs is given in the user
module. </p>

<p>9.3.43. <a name="OPTIONS--gt-Cost-Schedule">OPTIONS-&gt;Cost_Schedule</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#USER-COST-SCHEDULE-FALSE">USER_COST_SCHEDULE</a> [FALSE] is set
to TRUE, then (*Cost_Schedule) () is created as a pointer to the function <a
href="#double-user-cost-schedule-">user_cost_schedule</a> () in asa_usr.c, and
to <a href="#double-recur-user-cost-schedule-">recur_user_cost_schedule</a> ()
if <a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is set to TRUE. </p>

<p>9.3.44. <a
name="OPTIONS--gt-Asymp-Exp-Param">OPTIONS-&gt;Asymp_Exp_Param</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#USER-ACCEPT-ASYMP-EXP-FALSE">USER_ACCEPT_ASYMP_EXP</a>
[FALSE] is TRUE, an asymptotic form of the exponential function as an
alternative to the Boltzmann function becomes available for the acceptance
test. A parameter OPTIONS-&gt;<a
href="#OPTIONS--gt-Asymp-Exp-Param">Asymp_Exp_Param</a> becomes available, with
a default of 1.0 in asa_usr.c giving the standard Boltzmann function. The
asymptotic approximation to the exp function used for the acceptance
distribution is <br>
<br>
exp(-x) -&gt; [1-(1-q)x]^[1/(1-q)]. <br>
If you require a more moderate acceptance test, then negative <a
href="#OPTIONS--gt-Asymp-Exp-Param">Asymp_Exp_Param</a> may be helpful. </p>

<p>9.3.45. <a
name="OPTIONS--gt-Acceptance-Test">OPTIONS-&gt;Acceptance_Test</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> [FALSE] is
set to TRUE, then ( *<a href="#OPTIONS--gt-Acceptance-Test">Acceptance_Test</a>
) () is created as a pointer to the function <a
href="#void-user-acceptance-test-">user_acceptance_test</a> () in asa_usr.c,
and to <a
href="#void-recur-user-acceptance-test-">recur_user_acceptance_test</a> () if
<a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is set to TRUE. </p>

<p>9.3.46. <a
name="OPTIONS--gt-User-Acceptance-Flag">OPTIONS-&gt;User_Acceptance_Flag</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> [FALSE] is
set to TRUE, then <a
href="#OPTIONS--gt-User-Acceptance-Flag">User_Acceptance_Flag</a> is created.
In <a href="#double-asa-">asa ()</a>, <a
href="#OPTIONS--gt-User-Acceptance-Flag">User_Acceptance_Flag</a> is set to
TRUE prior to calling the cost function whenever acceptance tests need not be
performed, i.e., when using the cost function to generate initial conditions,
when being used to calculate derivatives, or when samples are being generated
to calculate the cost temperature; otherwise it is set to FALSE. If <a
href="#OPTIONS--gt-User-Acceptance-Flag">User_Acceptance_Flag</a> is returned
from the cost function as FALSE, then it is assumed that the cost function will
fail the acceptance criteria, but other data is still collected in the
acceptance function. When entering the acceptance test in asa, a test is done
to see if the acceptance test has already been determined by the cost function;
if not, then OPTIONS-&gt;<a
href="#OPTIONS--gt-Acceptance-Test">Acceptance_Test</a> () is called to
calculate the acceptance test to determine the resulting value of <a
href="#OPTIONS--gt-User-Acceptance-Flag">User_Acceptance_Flag</a>. </p>

<p>9.3.47. <a
name="OPTIONS--gt-Cost-Acceptance-Flag">OPTIONS-&gt;Cost_Acceptance_Flag</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> [FALSE] is
set to TRUE, then <a
href="#OPTIONS--gt-Cost-Acceptance-Flag">Cost_Acceptance_Flag</a> is created.
In <a href="#double-asa-">asa ()</a>, <a
href="#OPTIONS--gt-Cost-Acceptance-Flag">Cost_Acceptance_Flag</a> is set to a
default of FALSE before entering the cost function. If both <a
href="#OPTIONS--gt-Cost-Acceptance-Flag">Cost_Acceptance_Flag</a> and <a
href="#OPTIONS--gt-User-Acceptance-Flag">User_Acceptance_Flag</a> are returned
from the cost function as TRUE, then it is assumed that the cost function has
decided that the acceptance criteria is passed, and other data is collected in
the acceptance function. </p>

<p>9.3.48. <a name="OPTIONS--gt-Cost-Temp-Curr">OPTIONS-&gt;Cost_Temp_Curr</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> [FALSE] is
set to TRUE, then <a href="#OPTIONS--gt-Cost-Temp-Curr">Cost_Temp_Curr</a> is
available to <a href="#double--user-cost-function----">user_cost_function</a>
and/or to OPTIONS-&gt;<a
href="#OPTIONS--gt-Acceptance-Test">Acceptance_Test</a> to calculate the
acceptance criteria. </p>

<p>9.3.49. <a name="OPTIONS--gt-Cost-Temp-Init">OPTIONS-&gt;Cost_Temp_Init</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> [FALSE] is
set to TRUE, then <a href="#OPTIONS--gt-Cost-Temp-Init">Cost_Temp_Init</a> is
available to <a href="#double--user-cost-function----">user_cost_function</a>
and/or to OPTIONS-&gt;<a
href="#OPTIONS--gt-Acceptance-Test">Acceptance_Test</a> to calculate the
acceptance criteria. </p>

<p>9.3.50. <a
name="OPTIONS--gt-Cost-Temp-Scale">OPTIONS-&gt;Cost_Temp_Scale</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> [FALSE] is
set to TRUE, then <a href="#OPTIONS--gt-Cost-Temp-Scale">Cost_Temp_Scale</a> is
available to <a href="#double--user-cost-function----">user_cost_function</a>
and/or to OPTIONS-&gt;<a
href="#OPTIONS--gt-Acceptance-Test">Acceptance_Test</a> to calculate the
acceptance criteria. </p>

<p>9.3.51. <a name="OPTIONS--gt-Prob-Bias">OPTIONS-&gt;Prob_Bias</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> [FALSE] is
set to TRUE, then <a href="#OPTIONS--gt-Prob-Bias">Prob_Bias</a> is returned by
the user module to the asa module. This usually is the Boltzmann test term
which is compared with a uniform random number to determine acceptance, and its
value can be required for other OPTIONS such as <a
href="#ASA-SAMPLE-FALSE">ASA_SAMPLE</a>. </p>

<p>9.3.52. <a name="OPTIONS--gt-Random-Seed">OPTIONS-&gt;Random_Seed</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> [FALSE] is
set to TRUE, then in <a href="#double-asa-">asa ()</a> OPTIONS-&gt;<a
href="#OPTIONS--gt-Random-Seed">Random_Seed</a> is set to the address of the
random seed throughout asa, to synchronize the random number generator with the
rest of the run, e.g., permitting *<a
href="#OPTIONS--gt-Random-Seed">Random_Seed</a> to be used in <a
href="#double--user-cost-function----">user_cost_function</a> (). </p>

<p>9.3.53. <a
name="OPTIONS--gt-Generating-Distrib">OPTIONS-&gt;Generating_Distrib</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#USER-GENERATING-FUNCTION-FALSE">USER_GENERATING_FUNCTION</a>
[FALSE] is set to TRUE, then (*Generating_Distrib) () is created as a pointer
to the function <a
href="#double-user-generating-distrib-">user_generating_distrib</a> () in
asa_usr.c, and to <a
href="#double-recur-user-generating-distrib-">recur_user_generating_distrib</a>
() if <a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is set to TRUE. The
parameters passed to these functions are further described below. </p>

<p>9.3.54. <a
name="OPTIONS--gt-Reanneal-Cost-Function">OPTIONS-&gt;Reanneal_Cost_Function</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#USER-REANNEAL-COST-FALSE">USER_REANNEAL_COST</a> [FALSE] is set
to TRUE, then (*Reanneal_Cost_Function) () is created as a pointer to the
function <a href="#int-user-reanneal-cost-">user_reanneal_cost</a> () in
asa_usr.c, and to <a
href="#int-recur-user-reanneal-cost-">recur_user_reanneal_cost</a> () if <a
href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is set to TRUE. </p>

<p>9.3.55. <a
name="OPTIONS--gt-Reanneal-Params-Function">OPTIONS-&gt;Reanneal_Params_Function</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#USER-REANNEAL-PARAMETERS-FALSE">USER_REANNEAL_PARAMETERS</a>
[FALSE] is set to TRUE, then (*Reanneal_Params_Function) () is created as a
pointer to the function <a
href="#double-user-reanneal-params-">user_reanneal_params</a> () in asa_usr.c,
and to <a
href="#double-recur-user-reanneal-params-">recur_user_reanneal_params</a> () if
<a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is set to TRUE. </p>

<p>9.3.56. <a
name="OPTIONS--gt-Bias-Acceptance">OPTIONS-&gt;Bias_Acceptance</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#ASA-SAMPLE-FALSE">ASA_SAMPLE</a> is TRUE, this is the bias of
the current state from the Boltzmann acceptance test described above, taken to
be the minimum of one and the Boltzmann factor if the new point is accepted,
and one minus this number if it is rejected. </p>

<p>9.3.57. <a name="OPTIONS--gt-Bias-Generated">OPTIONS-&gt;Bias_Generated</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#ASA-SAMPLE-FALSE">ASA_SAMPLE</a> is TRUE, a pointer,
OPTIONS-&gt;<a href="#OPTIONS--gt-Bias-Generated">Bias_Generated</a>, contains
the the biases of the current state from the generating distributions of all
active parameters, described above. Memory for OPTIONS-&gt;<a
href="#OPTIONS--gt-Bias-Generated">Bias_Generated</a> [] must be created in the
user module. </p>

<p>9.3.58. <a
name="OPTIONS--gt-Average-Weights">OPTIONS-&gt;Average_Weights</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>IF <a href="#ASA-SAMPLE-FALSE">ASA_SAMPLE</a> is TRUE, this is the average
of the weight array holding the products of the inverse asa generating
distributions of all active parameters. </p>

<p>For example, OPTIONS-&gt;<a href="#OPTIONS--gt-N-Accepted">N_Accepted</a>
can be used to monitor changes in a new saved point in the cost function, and
when OPTIONS-&gt;<a href="#OPTIONS--gt-Average-Weights">Average_Weights</a>
reaches a specified number (perhaps repeated several times), the cost function
could return an invalid flag from the cost function to terminate the run. When
the <a href="#OPTIONS--gt-Average-Weights">Average_Weights</a> is very small,
then additional sampled points likely will not substantially contribute more
information. </p>

<p>9.3.59. <a name="OPTIONS--gt-Limit-Weights">OPTIONS-&gt;Limit_Weights</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#ASA-SAMPLE-FALSE">ASA_SAMPLE</a> is set to TRUE, <a
href="#OPTIONS--gt-Limit-Weights">Limit_Weights</a> is a limit on the value of
the average of the weight array holding the inverse asa generating
distribution. When this lower limit is crossed, asa will no longer send
sampling output to be printed out, although it still will be calculated. As the
run progresses, this average will decrease until contributions from further
sampling become relatively unimportant. </p>

<p>9.3.60. <a name="OPTIONS--gt-Queue-Size">OPTIONS-&gt;Queue_Size</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#ASA-QUEUE-FALSE">ASA_QUEUE</a> is set to TRUE, <a
href="#OPTIONS--gt-Queue-Size">Queue_Size</a> is a limit on the size of the
FIFO queue used to store generated states. This array must be defined in the
user module. </p>

<p>After <a href="#OPTIONS--gt-Queue-Size">Queue_Size</a> has been set, and
memory created in asa (), it may be changed adaptively to any number less than
this. If <a href="#OPTIONS--gt-Queue-Size">Queue_Size</a> is 0, then no queue
is used. </p>

<p>9.3.61. <a
name="OPTIONS--gt-Queue-Resolution">OPTIONS-&gt;Queue_Resolution</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#ASA-QUEUE-FALSE">ASA_QUEUE</a> is set to TRUE, <a
href="#OPTIONS--gt-Queue-Resolution">Queue_Resolution</a> is a pointer to an
array of resolutions used to compare the currently generated parameters to
those in the queue. This array must have space allocated and be defined in the
user module. See the discussions on <a href="#ASA-QUEUE-FALSE">ASA_QUEUE</a>
and <a href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> on the differences in
operations of these two OPTIONS. </p>

<p>The <a href="#ASA-QUEUE-FALSE">ASA_QUEUE</a> OPTIONS also can be used to
coarse-grain a fit, by setting high values of <a
href="#OPTIONS--gt-Queue-Resolution">Queue_Resolution</a> []. </p>

<p>9.3.62. <a
name="OPTIONS--gt-Coarse-Resolution">OPTIONS-&gt;Coarse_Resolution</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> is set to TRUE, <a
href="#OPTIONS--gt-Coarse-Resolution">Coarse_Resolution</a> is a pointer to an
array of resolutions used to resolve the values of generated parameters. This
array must have space allocated and be defined in the user module. See the
discussions on <a href="#ASA-QUEUE-FALSE">ASA_QUEUE</a> and <a
href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> on the differences in
operations of these two OPTIONS. </p>

<p>9.3.63. <a name="OPTIONS--gt-Fit-Local">OPTIONS-&gt;Fit_Local</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#FITLOC-FALSE">FITLOC</a> is TRUE, OPTIONS-&gt;<a
href="#OPTIONS--gt-Fit-Local">Fit_Local</a> is passed to <a
href="#double-cost-function-">cost_function</a> (). This provides additional
flexibility in deciding when to shunt asa () over to fitloc (), e.g., during
multiple or recursive optimizations. As used in asa_usr.c, a value of <a
href="#OPTIONS--gt-Fit-Local">Fit_Local</a> set &gt;= 1 is required to enter
the local code. </p>

<p>If <a href="#OPTIONS--gt-Fit-Local">Fit_Local</a> is set to 2, any better
fit found by the local code better than <a href="#double-asa-">asa ()</a> is
ignored if that local fit is achieved by violating the ranges of the
parameters. This additional test is much stricter than that imposed by
OPTIONS-&gt;<a href="#OPTIONS--gt-Penalty">Penalty</a>, </p>

<p>9.3.64. <a name="OPTIONS--gt-Iter-Max">OPTIONS-&gt;Iter_Max</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#FITLOC-FALSE">FITLOC</a> is TRUE, OPTIONS-&gt;<a
href="#OPTIONS--gt-Iter-Max">Iter_Max</a> determines the maximum iterations of
the <a href="#double-cost-function-">cost_function</a> () by simplex (). </p>

<p>9.3.65. <a name="OPTIONS--gt-Penalty">OPTIONS-&gt;Penalty</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#FITLOC-FALSE">FITLOC</a> is TRUE, OPTIONS-&gt;<a
href="#OPTIONS--gt-Penalty">Penalty</a> determines how to weight violation of
constraints, exceeding boundaries, etc. </p>

<p>9.3.66. <a name="Multi-Number">Multi_Number</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#MULTI-MIN-FALSE">MULTI_MIN</a> is set to TRUE, then
OPTIONS-&gt;<a href="#OPTIONS--gt-Multi-Number">Multi_Number</a>, the number of
best-generated states of the lowest sampled values of the cost function, must
be set by the user. Of course this can be changed adaptively. </p>

<p>Note that OPTIONS-&gt;<a href="#OPTIONS--gt-Multi-Cost">Multi_Cost</a> and
OPTIONS-&gt;<a href="#OPTIONS--gt-Multi-Params">Multi_Params</a> are seeded
with the highest cost function state just before entering the main annealing
loop. Therefore, if OPTIONS-&gt;<a
href="#OPTIONS--gt-Multi-Number">Multi_Number</a> is larger than the actual
number of accepted best states (new lowest values), or if a set of states are
identical within the precision reported, then there will be a set of duplicate
states returned which should be filtered via a unique macro. </p>

<p>9.3.67. <a name="OPTIONS--gt-Multi-Cost">OPTIONS-&gt;Multi_Cost</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#MULTI-MIN-FALSE">MULTI_MIN</a> is TRUE, OPTIONS-&gt;<a
href="#OPTIONS--gt-Multi-Cost">Multi_Cost</a> save the lowest OPTIONS-&gt;<a
href="#OPTIONS--gt-Multi-Number">Multi_Number</a> values of the cost function.
</p>

<p>9.3.68. <a name="OPTIONS--gt-Multi-Params">OPTIONS-&gt;Multi_Params</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#MULTI-MIN-FALSE">MULTI_MIN</a> is TRUE, OPTIONS-&gt;<a
href="#OPTIONS--gt-Multi-Params">Multi_Params</a> save the parameters of the
lowest OPTIONS-&gt;<a href="#OPTIONS--gt-Multi-Number">Multi_Number</a> values
of the cost function. </p>

<p>9.3.69. <a name="OPTIONS--gt-Multi-Grid">OPTIONS-&gt;Multi_Grid</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#MULTI-MIN-FALSE">MULTI_MIN</a> is TRUE, OPTIONS-&gt;<a
href="#OPTIONS--gt-Multi-Grid">Multi_Grid</a> must be set by the user to define
the resolution permitted to distinguish among parameter values of the
best-generated states. However, this is overridden in asa.c, to ensure that <a
href="#OPTIONS--gt-Multi-Grid">Multi_Grid</a> is greater or equal to <a
href="#EPS-DOUBLE-SMALL-FLOAT">EPS_DOUBLE</a> and to OPTIONS-&gt;<a
href="#OPTIONS--gt-Coarse-Resolution">Coarse_Resolution</a> if <a
href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> is TRUE. </p>

<p>9.3.70. <a name="OPTIONS--gt-Multi-Specify">OPTIONS-&gt;Multi_Specify</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#MULTI-MIN-FALSE">MULTI_MIN</a> is TRUE, and if OPTIONS-&gt;<a
href="#OPTIONS--gt-Multi-Specify">Multi_Specify</a> is set to 0, the selection
of best-generated states includes all sampled instances of the cost functions.
If <a href="#OPTIONS--gt-Multi-Specify">Multi_Specify</a> is set to 1, the
selection of best-generated states is constrained to include only those with
different values of the cost function. </p>

<p>If <a href="#OPTIONS--gt-Multi-Specify">Multi_Specify</a> is set to 0, and
multiple best cost functions are found, the parameters of the final cost
function reported will be the parameters of the last best cost function. All
new best cost functions will be reported, but if <a
href="#ASA-PRINT-MORE-FALSE">ASA_PRINT_MORE</a> is TRUE only new lower best
cost functions will have additional print out. </p>

<p>The final values in asa.c of *best_number_generated_saved and
*best_number_accepted_saved at the best cost function will be those of the
first instance of the final best value. If <a
href="#OPTIONS--gt-Multi-Specify">Multi_Specify</a> is set to 0, the parameters
corresponding to this final value may not be among the set of final <a
href="#OPTIONS--gt-Multi-Params">Multi_Params</a> if there are more best cost
functions than <a href="#OPTIONS--gt-Multi-Number">Multi_Number</a>. </p>

<p>9.3.71. <a name="OPTIONS--gt-Gener-Mov-Avr">OPTIONS-&gt;Gener_Mov_Avr</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#ASA-PARALLEL-FALSE">ASA_PARALLEL</a> is set to TRUE, <a
href="#OPTIONS--gt-Gener-Mov-Avr">Gener_Mov_Avr</a> determines the window of
the moving average of sizes of parallel generated states required to find new
best accepted states. A reasonable number for many problems is 3. </p>

<p>If and when OPTIONS-&gt;<a
href="#OPTIONS--gt-Gener-Mov-Avr">Gener_Mov_Avr</a> is set to 0, then
OPTIONS-&gt;<a href="#OPTIONS--gt-Gener-Block">Gener_Block</a> is not changed
thereafter. </p>

<p>9.3.72. <a name="OPTIONS--gt-Gener-Block">OPTIONS-&gt;Gener_Block</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#ASA-PARALLEL-FALSE">ASA_PARALLEL</a> is set to TRUE, <a
href="#OPTIONS--gt-Gener-Block">Gener_Block</a> is an initial block size of
parallel generated states to calculate how to determine a new best accepted
state. </p>

<p>9.3.73. <a
name="OPTIONS--gt-Gener-Block-Max">OPTIONS-&gt;Gener_Block_Max</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>If <a href="#ASA-PARALLEL-FALSE">ASA_PARALLEL</a> is set to TRUE, <a
href="#OPTIONS--gt-Gener-Block-Max">Gener_Block_Max</a> is an initial maximum
block size of parallel generated states to calculate to determine a new best
accepted state. This can be changed adaptively during the run. </p>

<p>This can be useful if your parallel code assigns new processors "on the
fly," to compensate for some cost functions being more CPU intensive, e.g., due
to boundary conditions, etc. Then OPTIONS-&gt;<a
href="#OPTIONS--gt-Gener-Block-Max">Gener_Block_Max</a> may be larger than the
number of physical processors, e.g., if OPTIONS-&gt;<a
href="#OPTIONS--gt-Gener-Block">Gener_Block</a> would call for such a size. </p>

<p>9.3.74. <a
name="OPTIONS--gt-Random-Array-Dim">OPTIONS-&gt;Random_Array_Dim</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#ASA-SAVE-FALSE">ASA_SAVE</a> is set to TRUE, OPTIONS-&gt;<a
href="#OPTIONS--gt-Random-Array-Dim">Random_Array_Dim</a> defines the dimension
of the array used to hold shuffled random numbers used by the random number
generator defined in asa_usr.c. The default is to use SHUFFLE defined in
asa_usr.h for <a href="#OPTIONS--gt-Random-Array-Dim">Random_Array_Dim</a>. </p>

<p>9.3.75. <a name="OPTIONS--gt-Random-Array">OPTIONS-&gt;Random_Array</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#ASA-SAVE-FALSE">ASA_SAVE</a> is set to TRUE, OPTIONS-&gt;<a
href="#OPTIONS--gt-Random-Array">Random_Array</a> holds the shuffled random
numbers used by the random number generator defined in asa_usr.c The default is
to set the pointer of the static array random_array at the top of asa_usr.c.
</p>

<p>9.3.76. <a
name="OPTIONS--gt-Asa-Recursive-Level">OPTIONS-&gt;Asa_Recursive_Level</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When using ASA recursively, it often is useful to be able to keep track of
the level of recursion. </p>

<p>If <a href="#ASA-SAVE-FALSE">ASA_SAVE</a> is set to TRUE, set <a
href="#OPTIONS--gt-Asa-Recursive-Level">Asa_Recursive_Level</a> to be 0 at the
most inner shell and increment at each successive outer shell. Then, <a
href="#ASA-SAVE-FALSE">ASA_SAVE</a> will take effect at the most outer
recursive shell. </p>

<p>10. <a name="User-Module">User Module</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>This module includes asa_usr.c, asa_usr.h, asa_usr_cst.c, and asa_usr_asa.h.
You may wish to combine them into one file, or you may wish to use the ASA
module as one component of a library required for a large project. </p>

<p>10.1. <a name="int-main-int-argc--char--argv-">int main(int argc, char
**argv)</a> [<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>]
</p>

<p>In main (), set up your initializations and calling statements to asa. The
files asa_usr.c, asa_usr.h, and asa_usr_cst.c provide a sample () function, as
well as a sample cost function for your convenience. If you do not intend to
pass parameters into main, then you can just declare it as main () without the
argc and argv arguments, deleting other references to argc and argv. </p>

<p>main () returns 0 for a normal exit, -1 if there was a calloc allocation
error in asa.c, or -2 if there was a calloc allocation error in asa_usr.c. </p>

<p>10.2. <a name="int-asa-main-">int asa_main(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
#if ASA_TEMPLATE_LIB<br>
double *main_cost_value,<br>
double *main_cost_parameters,<br>
int *main_exit_code<br>
#endif<br>
)<br>
<br>
</p>

<p>If <a href="#ASA-LIB-FALSE">ASA_LIB</a> is set to TRUE, then asa_main () is
used as a function call instead of main (). If <a
href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is set to TRUE, then the first
main ()/asa_main () in asa_usr.c is closed off, and a different main
()/asa_main () procedure in asa_usr.c is used. </p>

<p>asa_main () returns 0 for a normal exit, -1 if there was a calloc allocation
error in asa.c, or -2 if there was a calloc allocation error in asa_usr.c. </p>

<p>If you require parameters to be passed by asa_main () back to your main
program, e.g., cost_value, *cost_parameters, *<a
href="#int-exit-code">exit_code</a>, etc., then these can be added as
*main_cost_value, *main_cost_parameters, *main_exit_code, with memory allocated
in your own main (), etc. Such use is illustrated by ASA_TEMPLATE_LIB. </p>

<p>At the end of the asa_usr.c, part of ASA_TEMPLATE_LIB is an example of a
main () program that could call asa_main (). randflt () calls
resettable_randflt () each time to actually implement the RNG. This is to
provide the capability of getting the same runs if the same multiple calls to
<a href="#double-asa-">asa ()</a> are made, e.g., when using <a
href="#ASA-LIB-FALSE">ASA_LIB</a> set to TRUE. To enforce this, asa_main ()
should call resettable_randflt (<a href="#LONG-INT-rand-seed">rand_seed</a>, 1)
at the beginning of each run. </p>

<p>10.3. <a name="int-initialize-parameters-">int initialize_parameters(</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
double *cost_parameters,<br>
double *<a href="#double-parameter-lower-bound">parameter_lower_bound</a>,<br>
double *<a href="#double-parameter-upper-bound">parameter_upper_bound</a>,<br>
double *<a href="#double-cost-tangents">cost_tangents</a>,<br>
double *<a href="#double-cost-curvature">cost_curvature</a>,<br>
ALLOC_INT *<a href="#ALLOC-INT-parameter-dimension">parameter_dimension</a>,<br>
int *<a href="#int-parameter-int-real">parameter_int_real</a>,<br>
#if <a href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA</a><br>
FILE *ptr_options,<br>
#endif<br>
USER_DEFINES * USER_OPTIONS)<br>
<br>
</p>

<p>Before calling asa, the user must allocate storage and initialize some of
the passed parameters. A sample () function is provided as a template. In this
procedure the user should allocate storage for the passed arrays and define the
minimum and maximum values. Below is detailed all the parameters which must be
initialized. If your arrays are of size 1, still use them as arrays as
described in asa_usr.c. Alternatively, if you define 'int user_flag', then pass
&amp;user_flag. </p>

<p>As written above, these are the names used in the user module. All these
parameters could be passed globally in the user module, e.g., by defining them
in asa_usr.h instead of in main () in asa_usr.c, but since the asa module only
passes local parameters to facilitate recursive use, this approach is taken
here as well. </p>

<p><a href="#void-initialize-parameters-">initialize_parameters</a> () returns
0 for a normal exit or -2 if there was a calloc allocation. </p>

<p>10.4. <a name="int-recur-initialize-parameters-">int
recur_initialize_parameters(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
double *recur_cost_parameters,<br>
double *recur_parameter_lower_bound,<br>
double *recur_parameter_upper_bound,<br>
double *recur_cost_tangents,<br>
double *recur_cost_curvature,<br>
ALLOC_INT *recur_parameter_dimension,<br>
int *recur_parameter_int_real,<br>
#if <a href="#OPTIONS-FILE-DATA-TRUE">OPTIONS_FILE_DATA</a><br>
FILE *recur_ptr_options,<br>
#endif<br>
USER_DEFINES * RECUR_USER_OPTIONS)<br>
<br>
</p>

<p>This procedure is used only if <a
href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is TRUE, and is constructed
similar to <a href="#void-initialize-parameters-">initialize_parameters</a> ().
<a href="#void-recur-initialize-parameters-">recur_initialize_parameters</a> ()
returns 0 for a normal exit or -2 if there was a calloc allocation. </p>

<p>10.5. <a name="double-cost-function-">double cost_function(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
double *x,<br>
double *<a href="#double-parameter-lower-bound">parameter_lower_bound</a>,<br>
double *<a href="#double-parameter-upper-bound">parameter_upper_bound</a>,<br>
double *<a href="#double-cost-tangents">cost_tangents</a>,<br>
double *<a href="#double-cost-curvature">cost_curvature</a>,<br>
ALLOC_INT *<a href="#ALLOC-INT-parameter-dimension">parameter_dimension</a>,<br>
int *<a href="#int-parameter-int-real">parameter_int_real</a>,<br>
int *<a href="#cost-flag">cost_flag</a>,<br>
int *<a href="#int-exit-code">exit_code</a>,<br>
USER_DEFINES *USER_OPTIONS)<br>
<br>
</p>

<p>10.5.1. <a name="cost-function">cost_function</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>You can give any name to <a href="#double-cost-function-">cost_function</a>
as long as you pass this name to asa; it is called <a
href="#double-cost-function-">cost_function</a> in the user module. This
function returns a real value which ASA will minimize. In cases where it seems
that the ASA default parameters are not very efficient for your system, you
might consider modifying the cost function being optimized. For example, if
your actual cost function is of the form of an exponential to an exponential,
you might do better using the logarithm of this as <a
href="#double-cost-function-">cost_function</a>. </p>

<p>10.5.2. <a name="x">*x</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>x (called cost_parameters in the user module) is an array of doubles
representing a set of parameters to evaluate. </p>

<p>10.5.3. <a name="double-parameter-lower-bound">double
*parameter_lower_bound</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>See discussion below on <a
href="#double-parameter-upper-bound">parameter_upper_bound</a>. </p>

<p>10.5.4. <a name="double-parameter-upper-bound">double
*parameter_upper_bound</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>These two arrays of doubles are passed. Since ASA works only on bounded
search spaces, these arrays should contain the minimum and maximum values each
parameter can attain. If you aren't sure, try a factor of 10 or 100 times any
reasonable values. The exponential temperature annealing schedule should
quickly sharpen the search down to the most important region. </p>

<p>Passing the parameter bounds in the cost function permits some additional
adaptive features during the search. For example, setting the lower bound equal
to the upper bound will remove a parameter from consideration for sampling,
although it still will be printed out with other parameters if OPTIONS permit.
Whenever this occurs, within asa() the effective dimension defining the size of
the search space is reduced by the number of parameters so removed. </p>

<p>For example, if your parameter constraints are correlated in subsets, you
can implement the following in your <a
href="#double-cost-function-">cost_function</a> () in asa_usr.c or
asa_usr_cst.c. Immediately upon entering <a
href="#double-cost-function-">cost_function</a> () after receiving a full set
of new parameters from <a href="#double-asa-">asa ()</a>, check all correlated
subsets of points. If some correlated subset is not valid, for all parameters
that do satisfy your constraints, save <a
href="#double-parameter-lower-bound">parameter_lower_bound</a> [] and <a
href="#double-parameter-upper-bound">parameter_upper_bound</a> [] in some
temporary arrays, set <a
href="#double-parameter-lower-bound">parameter_lower_bound</a> [] equal to <a
href="#double-parameter-upper-bound">parameter_upper_bound</a> [], *<a
href="#cost-flag">cost_flag</a> equal to FALSE, and return to <a
href="#double-asa-">asa ()</a>. Have <a href="#double-asa-">asa ()</a> keep
recalculating the new subsets of points until all subsets are valid. Then,
reset <a href="#double-parameter-lower-bound">parameter_lower_bound</a> [] and
<a href="#double-parameter-upper-bound">parameter_upper_bound</a> [] from the
temporary arrays, and continue on with the rest of <a
href="#double-cost-function-">cost_function</a> (). You may wish to perform
this with the Quenching OPTIONS turned on, so that you also can accordingly
adaptively modify the annealing rates using the new effective number of active
parameters. </p>

<p>10.5.5. <a name="double-cost-tangents">double *cost_tangents</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>This array of doubles is passed. On return from asa this contains the first
derivatives of the cost function with respect to its parameters. These can be
useful for determining the value of your fit. In the default implementation of
ASA, the tangents are used to determine the relative reannealing among
parameters. </p>

<p>10.5.6. <a name="double-cost-curvature">double *cost_curvature</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>This array of doubles is passed next. On return from asa, for real
parameters, this contains the second derivatives of the cost function with
respect to its parameters. These also can be useful for determining the value
of your fit, e.g., as a "covariance matrix" for the fitted parameters. </p>

<p>When the DEFINE_OPTIONS <a
href="#OPTIONS--gt-Curvature-0-FALSE-">Curvature_0</a> option is set to TRUE
the curvature calculations are bypassed. This can be useful for very large
spaces. </p>

<p>10.5.7. <a name="ALLOC-INT-parameter-dimension">ALLOC_INT
*parameter_dimension</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>An integer containing the dimensionality of the state space is passed next.
The arrays x (representing cost_parameters), <a
href="#double-parameter-lower-bound">parameter_lower_bound</a>, <a
href="#double-parameter-upper-bound">parameter_upper_bound</a>, <a
href="#double-cost-tangents">cost_tangents</a>, and <a
href="#int-parameter-int-real">parameter_int_real</a> (below) are to be of the
size *number_parameters. The array curvature which may be of size the square of
*number_parameters. Setting the lower bound equal to the upper bound will
remove a parameter from consideration. Whenever this occurs, within asa() the
effective dimension defining the size of the search space is reduced by the
number of parameters so removed. </p>

<p>10.5.8. <a name="int-parameter-int-real">int *parameter_int_real</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>This integer array is passed next. Each element of this array (each flag)
can be: REAL_TYPE (-1) (indicating the parameter is a real value), INTEGER_TYPE
(1) (indicating the parameter can take on only integer values),
REAL_NO_REANNEAL (-2), or INTEGER_NO_REANNEAL (2). The latter two choices
signify that no derivatives are to be taken with respect to these parameters.
(Derivatives can be taken with INTEGER_TYPE (1) only if OPTIONS-&gt;<a
href="#OPTIONS--gt-Include-Integer-Parameters-FALSE-">Include_Integer_Parameters</a>
is set to TRUE.) For example, this can be useful to exclude discontinuous
functions from being reannealed. Note that the values of the parameters and
their ranges are always passed as doubles in the code, but their values will be
integral for those parameters which are defined as INTEGER_TYPE or
INTEGER_NO_REANNEAL. </p>

<p>If a system parameter is discrete, but not a simple set of sequential
integers, then it may be necessary to define a transformation within the cost
function in terms of a new parameter which is a set of sequential integers.
Also note that <a href="#ASA-RESOLUTION-FALSE">ASA_RESOLUTION</a> may be used
in some such cases, which overrides the use of <a
href="#int-parameter-int-real">parameter_int_real</a>. Then, this new
parameter, instead of the original discrete parameter, can be passed between <a
href="#double-asa-">asa ()</a> and the <a
href="#double-cost-function-">cost_function</a> (). The (approximate) range of
the transformed parameter must be reflected in the values assigned to <a
href="#double-parameter-lower-bound">parameter_lower_bound</a> [] and <a
href="#double-parameter-upper-bound">parameter_upper_bound</a> [], as discussed
above. Of course, this transformation may be supplemented by constraints that
can be enforced using the *<a href="#cost-flag">cost_flag</a> in the user
module, as discussed below. </p>

<p>10.5.9. <a name="cost-flag">*cost_flag</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><a href="#cost-flag">cost_flag</a> is the address of an integer. In <a
href="#double-cost-function-">cost_function</a> (), *<a
href="#cost-flag">cost_flag</a> should be set to FALSE (0) if the parameters
violate a set of user defined constraints (e.g., as defined by a set of
boundary conditions) or TRUE (1) if the parameters represent a valid state. If
*<a href="#cost-flag">cost_flag</a> is returned to <a href="#double-asa-">asa
()</a> as FALSE, no acceptance test will be attempted, and a new set of trial
parameters will be generated. </p>

<p>If another algorithm suggests a way of incorporating constraints into the
cost function, then this modified cost function can be used as well by ASA, or
that algorithm might best be used as a front-end to ASA. </p>

<p>If OPTIONS-&gt;<a href="#OPTIONS--gt-User-Tangents-FALSE-">User_Tangents</a>
[FALSE] has been set to TRUE, then <a href="#double-asa-">asa ()</a> expects
the user to test the value of *valid_state_generated_flag that enters from <a
href="#double-asa-">asa ()</a>. If *<a href="#cost-flag">cost_flag</a> enters
with a value of FALSE, then the user is expected to calculate the <a
href="#double-cost-tangents">cost_tangents</a> [] array before exiting that
particular evaluation of the cost function. An example is provided with the
ASA_TEMPLATE_SAMPLE example. </p>

<p>10.5.10. <a name="int-exit-code">int *exit_code</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The address of this integer is passed to asa. On return it contains the code
for the reason asa exited. When <a href="#ASA-PRINT-TRUE">ASA_PRINT</a> is
TRUE, the value is printed out. </p>

<p>NORMAL_EXIT = 0. Given the criteria set largely by the DEFINE_OPTIONS, the
search has run its normal course, e.g., when <a
href="#OPTIONS--gt-Limit-Acceptances-10000-">Limit_Acceptances</a> or <a
href="#OPTIONS--gt-Limit-Generated-99999-">Limit_Generated</a> is reached. </p>

<p>P_TEMP_TOO_SMALL = 1. A parameter temperature was too small using the set
criteria. Often this is an acceptable status code. You can omit this test by
setting <a href="#NO-PARAM-TEMP-TEST-FALSE">NO_PARAM_TEMP_TEST</a> to TRUE as
one of your Pre-Compile Options; then values of the parameter temperatures less
than <a href="#EPS-DOUBLE-SMALL-FLOAT">EPS_DOUBLE</a> are set to <a
href="#EPS-DOUBLE-SMALL-FLOAT">EPS_DOUBLE</a>. </p>

<p>C_TEMP_TOO_SMALL = 2. The cost temperature was too small using the set
criteria. Often this is an acceptable status code. You can omit this test by
setting <a href="#NO-COST-TEMP-TEST-FALSE">NO_COST_TEMP_TEST</a> to TRUE as one
of your Pre-Compile Options; then a value of the cost temperature less than <a
href="#EPS-DOUBLE-SMALL-FLOAT">EPS_DOUBLE</a> is set to <a
href="#EPS-DOUBLE-SMALL-FLOAT">EPS_DOUBLE</a>. </p>

<p>COST_REPEATING = 3. The cost function value repeated a number of times using
the set criteria. Often this is an acceptable status code. </p>

<p>TOO_MANY_INVALID_STATES = 4. Too many repetitive generated states were
invalid using the set criteria. This is helpful when using *<a
href="#cost-flag">cost_flag</a>, as discussed above, to include constraints.
</p>

<p>IMMEDIATE_EXIT = 5. The user has set OPTIONS-&gt;<a
href="#OPTIONS--gt-Immediate-Exit-FALSE-">Immediate_Exit</a> to TRUE, or
deleted file asa_exit_anytime when <a
href="#ASA-EXIT-ANYTIME-FALSE">ASA_EXIT_ANYTIME</a> is TRUE. </p>

<p>INVALID_USER_INPUT = 7. The user has introduced invalid input. When entering
<a href="#double-asa-">asa ()</a>, a function asa_test_asa_options () checks
out many user-defined parameters and OPTIONS, and prints out invalid OPTIONS
when <a href="#ASA-PRINT-TRUE">ASA_PRINT</a> is set to TRUE. </p>

<p>INVALID_COST_FUNCTION = 8. The user has returned a value of the cost
function to <a href="#double-asa-">asa ()</a> which is not a valid number,
e.g., not between -MAX_DOUBLE and <a
href="#MAX-DOUBLE-1-0-SMALL-FLOAT">MAX_DOUBLE</a>. Or, the user has returned a
value of a parameter no longer within its proper range (excluding cases where
the user has set the lower bound equal to the upper bound to remove a parameter
from consideration). </p>

<p>INVALID_COST_FUNCTION_DERIV = 9. While calculating numerical cost
derivatives, a value of the cost function was returned which is not a valid
number, e.g., not between -MAX_DOUBLE and <a
href="#MAX-DOUBLE-1-0-SMALL-FLOAT">MAX_DOUBLE</a>. Or, while calculating
numerical cost derivatives, a value of a parameter no longer within its proper
range (excluding cases where the user has set the lower bound equal to the
upper bound to remove a parameter from consideration) was set. In such cases,
review the bounds of parameters and the OPTIONS used to determine how
derivatives are calculated and used. </p>

<p>When calculating derivatives, an invalid cost function, i.e., returning *<a
href="#cost-flag">cost_flag</a> = FALSE from the cost function, will exit asa()
with *<a href="#int-exit-code">exit_code</a> INVALID_COST_FUNCTION_DERIV. Also,
when calculating derivatives, no extra test is performed to check that
parameters are within their lower and upper bounds (since meshes for
derivatives may exceed these bounds). If this is not desired, then within the
cost function, within a test for USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Locate-Cost">Locate_Cost</a> == 3, a decision may be made
whether to return this *<a href="#int-exit-code">exit_code</a>. </p>

<p>CALLOC_FAILED = -1. Calloc memory allocation has failed in asa.c. This error
will call Exit_ASA(), the location will be printed to stdout, and <a
href="#double-asa-">asa ()</a> will return the double -1 to the calling
program. In asa_usr.c, if <a href="#double-asa-">asa ()</a> returns this *<a
href="#int-exit-code">exit_code</a> a warning will be printed both to stdout
and to USER_OUT. Note that if a calloc memory allocation fails in asa_usr.c,
this error will call Exit_USER() to print the location to stdout and then
return -2. </p>

<p>Note that just relying on such a simple summary given by *exit_status can be
extremely deceptive, especially in highly nonlinear problems. It is strongly
suggested that the user set <a href="#ASA-PRINT-TRUE">ASA_PRINT</a>=TRUE before
any production runs. An examination of some periodic output of ASA can be
essential to its proper use. </p>

<p>10.5.11. <a name="USER-DEFINES-OPTIONS">USER_DEFINES *OPTIONS</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>All Program Options are defined in this structure. Since Program Options are
passed to asa and the cost function, these may be changed adaptively. </p>

<p>The Program Options also can be read in from a separate data file, asa_opt,
permitting efficient tuning/debugging of these parameters without having to
recompile the code. This option has been added to the asa module. </p>

<p>10.6. <a name="double-recur-cost-function-">double recur_cost_function(</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
double *recur_cost_parameters,<br>
double *recur_parameter_lower_bound,<br>
double *recur_parameter_upper_bound,<br>
double *recur_cost_tangents,<br>
double *recur_cost_curvature,<br>
int *recur_parameter_dimension,<br>
int *recur_parameter_int_real,<br>
int *recur_cost_flag,<br>
int *recur_exit_code,<br>
USER_DEFINES * RECUR_USER_OPTIONS)<br>
<br>
</p>

<p>This procedure is used only if <a
href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> is TRUE, and is constructed
similar to <a href="#double-cost-function-">cost_function</a> (). </p>

<p>10.7. <a name="double-user-random-generator-">double
user_random_generator(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
<br>
LONG_INT *rand_seed) <br>
</p>

<p>A random number generator function must be selected. It may be as simple as
one of the UNIX(R) random number generators (e.g. drand48), or may be user
defined, but it should return a real value within [0,1) and not take any
parameters. A good random number generator, randflt, and its auxiliary
routines, including an alternative RNG, are provided with the code in the user
module. </p>

<p>The random seed, first defined in the user module, is passed to <a
href="#double-asa-">asa ()</a>, where it can be reset. This can be useful for
some parallelization algorithms. </p>

<p>Most random number generators should be "warmed-up" by calling a set of
dummy random numbers. Here, randflt () does this when it is first called, or
when it is fed a negative random seed (which can be a useful flag for <a
href="#LONG-INT-asa-seed-">asa_seed</a> () below). </p>

<p>randflt () calls resettable_randflt () each time to actually implement the
RNG. This is to provide the capability of getting the same runs if the same
multiple calls to <a href="#double-asa-">asa ()</a> are made, e.g., when using
<a href="#ASA-LIB-FALSE">ASA_LIB</a> set to TRUE. To enforce this, asa_main ()
should call resettable_randflt (<a href="#LONG-INT-rand-seed">rand_seed</a>, 1)
at the beginning of each run. </p>

<p>10.8. <a name="LONG-INT-asa-seed-">LONG_INT asa_seed(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
LONG_INT seed)<br>
<br>
</p>

<p>When <a href="#ASA-LIB-FALSE">ASA_LIB</a> is set to TRUE <a
href="#LONG-INT-asa-seed-">asa_seed</a> () becomes available to set the initial
random seed. This can be useful for repeated calls to asa_main () described
above. If an absolute value of seed greater than 0 is given to a call of <a
href="#LONG-INT-asa-seed-">asa_seed</a>, then seed is used as the initial
random seed; otherwise asa_main () will by default create its own random seed,
and the user need not be concerned with any call to <a
href="#LONG-INT-asa-seed-">asa_seed</a> (). An example of use is given when
ASA_TEMPLATE_LIB is set to true. </p>

<p>If the value of seed is less than 0, this signals the default randflt () to
initialize the array of seeds to be shuffled. This is especially useful when
using repeated calls to asa_main () when <a href="#ASA-LIB-FALSE">ASA_LIB</a>
is TRUE. </p>

<p>10.9. <a name="double-user-cost-schedule-">double user_cost_schedule(</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
double test_temperature,<br>
const void *OPTIONS_TMP)<br>
<br>
</p>

<p>If <a href="#USER-COST-SCHEDULE-FALSE">USER_COST_SCHEDULE</a> [FALSE] is set
to TRUE, then this function must define how the new cost temperature is
calculated during the acceptance test. The default is to return
test_temperature. For example, if you sense that the search is spending too
much time in local minima at some stage of search, e.g., dependent on
information gathered in USER_OPTIONS, then you might return the square root of
test_temperature, or some other function, to slow down the sharpening of the
cost function acceptance test. </p>

<p>10.10. <a name="double-recur-user-cost-schedule-">double
recur_user_cost_schedule(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
double test_temperature,<br>
const void *OPTIONS_TMP)<br>
<br>
</p>

<p>If <a href="#USER-COST-SCHEDULE-FALSE">USER_COST_SCHEDULE</a> [FALSE] and <a
href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> [FALSE] both are set to TRUE,
then this function must define how the new cost temperature is calculated
during the acceptance test. As discussed above for <a
href="#double-user-cost-schedule-">user_cost_schedule</a> (), you may modify
the default value of test_temperature returned by this function, e.g.,
dependent on information gathered in RECUR_USER_OPTIONS. </p>

<p>10.11. <a name="void-user-acceptance-test-">void user_acceptance_test(</a>
[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
double *uniform_test,<br>
double current_cost,<br>
double *<a href="#double-parameter-lower-bound">parameter_lower_bound</a>,<br>
double *<a href="#double-parameter-upper-bound">parameter_upper_bound</a>,<br>
ALLOC_INT *number_parameters,<br>
const void *OPTIONS_TMP)<br>
<br>
</p>

<p>If <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> [FALSE] is
set to TRUE, then this function must determine the acceptance test, e.g., as an
alternate to the Boltzmann test. <a
href="#USER-ACCEPT-ASYMP-EXP-FALSE">USER_ACCEPT_ASYMP_EXP</a> [FALSE] is an
example of a class of such modifications. </p>

<p>10.12. <a name="void-recur-user-acceptance-test-">void
recur_user_acceptance_test(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
double *uniform_test,<br>
double recur_current_cost,<br>
double *recur_parameter_lower_bound,<br>
double *recur_parameter_upper_bound,<br>
ALLOC_INT *recur_number_parameters,<br>
const void *OPTIONS_TMP)<br>
<br>
</p>

<p>If <a href="#USER-ACCEPTANCE-TEST-FALSE">USER_ACCEPTANCE_TEST</a> [FALSE]
and <a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> [FALSE] both are set to
TRUE, then this function must determine the acceptance test, e.g., as an
alternate to the Boltzmann test. </p>

<p>10.13. <a name="double-user-generating-distrib-">double
user_generating_distrib(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
LONG_INT *seed,<br>
ALLOC_INT *number_parameters,<br>
ALLOC_INT index_v,<br>
double temperature_v,<br>
double init_param_temp_v,<br>
double temp_scale_params_v,<br>
double parameter_v,<br>
double parameter_range_v,<br>
double *last_saved_parameter,<br>
const void *OPTIONS_TMP)<br>
<br>
</p>

<p>If <a href="#USER-GENERATING-FUNCTION-FALSE">USER_GENERATING_FUNCTION</a>
[FALSE] is set to TRUE, then this function (referred by USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Generating-Distrib">Generating_Distrib</a> in the user
module) must define the probability distribution (or whatever algorithm is
required) to use for generating new states, e.g., as an alternate to the ASA
distribution. </p>

<p>Even mild modifications to the ASA distribution can be useful, e.g., slowing
down the annealing schedule by taking a fractional root of the current
temperature. </p>

<p>The passed array last_saved_parameter [] contains all the last saved
parameters, which are sometimes required for algorithms requiring decisions
based on all current parameters. This permits the use of the ASA code for
heuristic algorithms that may violate its sampling proof, but nevertheless are
useful to process some complex systems within a SA framework. </p>

<p>10.14. <a name="double-recur-user-generating-distrib-">double
recur_user_generating_distrib(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
LONG_INT *seed,<br>
ALLOC_INT *number_parameters,<br>
ALLOC_INT index_v,<br>
double temperature_v,<br>
double init_param_temp_v,<br>
double temp_scale_params_v,<br>
double parameter_v,<br>
double parameter_range_v,<br>
double *last_saved_parameter,<br>
const void *OPTIONS_TMP)<br>
<br>
</p>

<p>If <a href="#USER-GENERATING-FUNCTION-FALSE">USER_GENERATING_FUNCTION</a>
[FALSE] and <a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> [FALSE] both are
set to TRUE, then this function (referred by RECUR_USER_OPTIONS-&gt;<a
href="#OPTIONS--gt-Generating-Distrib">Generating_Distrib</a> in the user
module) must define the probability distribution (or whatever algorithm is
required) to use for generating new states, e.g., as an alternate to the ASA
distribution. </p>

<p>The passed array last_saved_parameter [] contains all the last saved
parameters, which are sometimes required for algorithms requiring decisions
based on all current parameters. This permits the use of the ASA code for
heuristic algorithms that may violate its sampling proof, but nevertheless are
useful to process some complex systems within a SA framework. </p>

<p>10.15. <a name="int-user-reanneal-cost-">int user_reanneal_cost(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
double *cost_best,<br>
double *cost_last,<br>
double *initial_cost_temperature,<br>
const void *OPTIONS_TMP)<br>
<br>
</p>

<p>If <a href="#USER-REANNEAL-COST-FALSE">USER_REANNEAL_COST</a> [FALSE] is set
to TRUE, then this function must define how the new cost temperature is
calculated during reannealing. </p>

<p>10.16. <a name="int-recur-user-reanneal-cost-">int
recur_user_reanneal_cost(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
double *cost_best,<br>
double *cost_last,<br>
double *initial_cost_temperature,<br>
const void *OPTIONS_TMP)<br>
<br>
</p>

<p>If <a href="#USER-REANNEAL-COST-FALSE">USER_REANNEAL_COST</a> [FALSE] and <a
href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> [FALSE] both are set to TRUE,
then this function must define how the new cost temperature is calculated
during reannealing. </p>

<p>10.17. <a name="double-user-reanneal-params-">double
user_reanneal_params(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
double current_temp,<br>
double tangent,<br>
double max_tangent,<br>
const void *OPTIONS_TMP)<br>
<br>
</p>

<p>If <a href="#USER-REANNEAL-PARAMETERS-FALSE">USER_REANNEAL_PARAMETERS</a>
[FALSE] is set to TRUE, then this function must define how the new temperature
is calculated during reannealing. </p>

<p>10.18. <a name="double-recur-user-reanneal-params-">double
recur_user_reanneal_params(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
double current_temp,<br>
double tangent,<br>
double max_tangent,<br>
const void *OPTIONS_TMP)<br>
<br>
</p>

<p>If <a href="#USER-REANNEAL-PARAMETERS-FALSE">USER_REANNEAL_PARAMETERS</a>
[FALSE] and <a href="#SELF-OPTIMIZE-FALSE">SELF_OPTIMIZE</a> [FALSE] both are
set to TRUE, then this function must define how the new parameter temperatures
are calculated during reannealing. </p>

<p>10.19. <a name="final-cost---asa-">final_cost = asa(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
<a href="#double-cost-function-">cost_function</a>,<br>
randflt,<br>
<a href="#LONG-INT-rand-seed">rand_seed</a>,<br>
cost_parameters,<br>
<a href="#double-parameter-lower-bound">parameter_lower_bound</a>,<br>
<a href="#double-parameter-upper-bound">parameter_upper_bound</a>,<br>
<a href="#double-cost-tangents">cost_tangents</a>,<br>
<a href="#double-cost-curvature">cost_curvature</a>,<br>
<a href="#ALLOC-INT-parameter-dimension">parameter_dimension</a>,<br>
<a href="#int-parameter-int-real">parameter_int_real</a>,<br>
<a href="#cost-flag">cost_flag</a>,<br>
<a href="#int-exit-code">exit_code</a>,<br>
USER_OPTIONS)<br>
<br>
</p>

<p>This is the form of the call to asa from asa_usr.c. A double is returned to
the calling program as whatever it is named by the user, e.g., final_cost. It
will be the minimum cost value found by asa. </p>

<p>10.20. <a name="double-asa-">double asa(</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p><br>
double (*user_cost_function) (<br>
double *, double *, double *, double *, double *,<br>
ALLOC_INT *, int *, int *, int *, USER_DEFINES *),<br>
double (*user_random_generator) (LONG_INT *),<br>
LONG_INT *<a href="#LONG-INT-rand-seed">rand_seed</a>,<br>
double *<a
href="#double-parameter-initial-final">parameter_initial_final</a>,<br>
double *parameter_minimum,<br>
double *parameter_maximum,<br>
double *tangents,<br>
double *curvature,<br>
ALLOC_INT *number_parameters,<br>
int *parameter_type,<br>
int *valid_state_generated_flag,<br>
int *exit_status,<br>
USER_DEFINES * OPTIONS)<br>
<br>
</p>

<p>This is how asa is defined in the ASA module, contained in asa.c and
asa_usr_asa.h. All but the <a
href="#double--user-cost-function----">user_cost_function</a>, <a
href="#double-user-random-generator-">user_random_generator</a>, and <a
href="#double-parameter-initial-final">parameter_initial_final</a> parameters
have been described above as they also are passed by <a
href="#double--user-cost-function----">user_cost_function</a> (). </p>

<p>10.20.1. <a name="double--user-cost-function----">double
(*user_cost_function) ()</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>The parameter (*<a
href="#double--user-cost-function----">user_cost_function</a>*) () is a pointer
to the cost function that you defined in your user module. </p>

<p>10.20.2. <a name="double--user-random-generator----">double
(*user_random_generator) ()</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>A pointer to the random number generator function, defined in the user
module, must be passed next. </p>

<p>10.20.3. <a name="LONG-INT-rand-seed">LONG_INT *rand_seed</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>A pointer to the random seed, defined in the user module, must be passed
next. </p>

<p>10.20.4. <a name="double-parameter-initial-final">double
*parameter_initial_final</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>An array of doubles is passed (passed as cost_parameters in the user
module). Initially, this array holds the set of starting parameters which
should satisfy any constraints or boundary conditions. Upon return from the asa
procedure, the array will contain the best set of parameters found by asa to
minimize the user's cost function. Experience shows that any guesses within the
acceptable ranges should suffice, since initially the system is at a high
annealing temperature and ASA samples the breadth of the ranges. The default is
to have asa generate a set of initial parameters satisfying the user's
constraints. This can be overridden using <a
href="#OPTIONS--gt-User-Initial-Parameters-FALSE-">User_Initial_Parameters</a>=TRUE,
to have the user's initial guess be the first generated set of parameters. </p>

<p>10.21. <a name="void-print-time-char--message--FILE--ptr-out-">void
print_time(char *message, FILE * ptr_out)</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>As a convenience, this subroutine and its auxiliary routine aux_print_time
are provided in asa.c to keep track of the time spent during optimization.
Templates in the code are provided to use these routines to print to output
from both the asa and user modules. These routines can give some compilation
problems on some platforms, and may be bypassed using one of the
DEFINE_OPTIONS. It takes as its parameters a string which will be printed and
the pointer to file to where the printout is directed. An example is given in
<a href="#double--user-cost-function----">user_cost_function</a> to illustrate
how print_time may be called periodically every set number of calls by using
PRINT_FREQUENCY and RECUR_PRINT_FREQUENCY in asa_usr.c. See the ASA-NOTES file
for changes in these routines that may be required on some particular systems.
</p>

<p>10.22. <a name="void-sample-FILE---ptr-out--FILE--ptr-asa-">void sample(FILE
* ptr_out, FILE * ptr_asa)</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When ASA_TEMPLATE_SAMPLE is set to TRUE, using data collected in the <a
href="#ASA-OUT---quot-asa-out--quot-">ASA_OUT</a> file, this routine
illustrates how to extract the data stored in the <a
href="#ASA-OUT---quot-asa-out--quot-">ASA_OUT</a> file and print it to the user
module. </p>

<p>10.23. <a name="void-adaptive-options-USER-DEFINES--USER-OPTIONS-">void
adaptive_options(USER_DEFINES * USER_OPTIONS)</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>When <a href="#ADAPTIVE-OPTIONS-FALSE">ADAPTIVE_OPTIONS</a> is set to TRUE,
it is possible to change relevant OPTIONS in the USER_DEFINES struct in
asa_usr_asa.h during run time, by including an asa_adaptive_options file. This
can be very useful to efficiently determine how to tune long runs. </p>

<p>The function call to adaptive_options(USER_OPTIONS) should be placed at the
top of your cost function. Some examples of the format of lines in the
comma-delimited asa_adaptive_options file are given just above the
adaptive_options function in asa_usr.c. </p>

<p>11. <a name="Bug-Reports-and-Help-With-ASA">Bug Reports and Help With
ASA</a> [<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>Please read this ASA-README.[] file and the ASA-NOTES file before seeking
help or reporting bugs. </p>

<p>I make every reasonable effort to maintain only current versions of the asa
module, to permit the code to compile without "error," not necessarily without
compiler "warnings." The user module is offered only as a guide to accessing
the asa module. The ASA-NOTES file will contain updates for some standard
machines. I welcome your bug reports and constructive critiques regarding this
code. </p>

<p>Without seeing any specific output from your system, of course I can't say
anything specific. While I cannot promise that I can spend the time to join
your quest to the very end to insure you get the global optimal point for your
system, I can state that I will at least get back to you after seeing some
print out. Many times, it is useful to add <a
href="#ASA-PRINT-MORE-FALSE">ASA_PRINT_MORE</a>=TRUE to your compile
DEFINE_OPTIONS to get more info, and enclose relevant portions your <a
href="#ASA-OUT---quot-asa-out--quot-">ASA_OUT</a> file with your query. (See
the section Use of Documentation for Tuning above.) </p>

<p>My policy, as stated in the ASA-NOTES file, is to keep all my help as well
as my commercial work with ASA on a confidential basis. I do not divulge any
names of people or information about (legal!) projects unless I am given
specific permission to do so or unless the work is published. This policy
promotes feedback on ASA which benefits all users as well as those individuals
seeking help. </p>

<p>"Flames" will be rapidly quenched. </p>

<p>12. <a name="References">References</a> [<a
href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>[1] L. Ingber, "Adaptive Simulated Annealing (ASA)," Global optimization
C-code, Caltech Alumni Association, Pasadena, CA (1993). URL <a
href="http://www.ingber.com/#ASA-CODE">http://www.ingber.com/#ASA-CODE.</a> </p>

<p>[2] L. Ingber, "Very fast simulated re-annealing," Mathematical Computer
Modelling 12, pp. 967-973 (1989). URL <a
href="http://www.ingber.com/asa89_vfsr.pdf">http://www.ingber.com/asa89_vfsr.pdf.</a>
</p>

<p>[3] L. Ingber, "Statistical mechanics of combat and extensions" in Toward a
Science of Command, Control, and Communications, ed. C. Jones, pp. 117-149,
American Institute of Aeronautics and Astronautics, Washington, D.C. (1993).
ISBN 1-56347-068-3. URL <a
href="http://www.ingber.com/combat93_c3sci.pdf">http://www.ingber.com/combat93_c3sci.pdf.</a>
</p>

<p>[4] L. Ingber and B. Rosen, "Very Fast Simulated Reannealing (VFSR)," Global
optimization C-code, University of Texas, San Antonio, TX (1992). URL <a
href="ftp://ringer.cs.utsa.edu/pub/rosen/vfsr.tar.gz">ftp://ringer.cs.utsa.edu/pub/rosen/vfsr.tar.gz.</a>
</p>

<p>[5] L. Ingber, "Simulated annealing: Practice versus theory," Mathematical
Computer Modelling 18, pp. 29-57 (1993). URL <a
href="http://www.ingber.com/asa93_sapvt.pdf">http://www.ingber.com/asa93_sapvt.pdf.</a>
</p>

<p>[6] L. Ingber, "Generic mesoscopic neural networks based on statistical
mechanics of neocortical interactions," Physical Review A 45, pp. R2183-R2186
(1992). URL <a
href="http://www.ingber.com/smni92_mnn.pdf">http://www.ingber.com/smni92_mnn.pdf.</a>
</p>

<p>[7] M. Wofsey, "Technology: Shortcut tests validity of complicated
formulas," The Wall Street Journal CCXXII, p. B1 (24 September 1993). </p>

<p>[8] L. Ingber, "Adaptive simulated annealing (ASA): Lessons learned,"
Control and Cybernetics 25, pp. 33-54 (1996). This was an invited paper to a
special issue of the Polish journal Control and Cybernetics on "Simulated
Annealing Applied to Combinatorial Optimization." URL <a
href="http://www.ingber.com/asa96_lessons.pdf">http://www.ingber.com/asa96_lessons.pdf.</a>
</p>

<p>[9] L. Ingber, "Data mining and knowledge discovery via statistical
mechanics in nonlinear stochastic systems," Mathl. Computer Modelling 27, pp.
9-31 (1998). URL <a
href="http://www.ingber.com/path98_datamining.pdf">http://www.ingber.com/path98_datamining.pdf.</a>
</p>

<p>[10] L. Ingber, "Adaptive Simulated Annealing (ASA) and Path-Integral
(PATHINT) Algorithms: Generic Tools for Complex Systems," ASA- PATHINT Lecture
Plates, Lester Ingber Research (2001). Invited talk U Calgary, Canada, April
2001. URL <a
href="http://www.ingber.com/asa01_lecture.pdf">http://www.ingber.com/asa01_lecture.pdf.</a>
</p>

<p>[11] L. Ingber, "Statistical mechanical aids to calculating term structure
models," Physical Review A 42, pp. 7057-7064 (1990). URL <a
href="http://www.ingber.com/markets90_interest.pdf">http://www.ingber.com/markets90_interest.pdf.</a>
</p>

<p>[12] L. Ingber, "Statistical mechanics of nonlinear nonequilibrium financial
markets: Applications to optimized trading," Mathematical Computer Modelling
23, pp. 101-121 (1996). URL <a
href="http://www.ingber.com/markets96_trading.pdf">http://www.ingber.com/markets96_trading.pdf.</a>
</p>

<p>[13] L. Ingber, "Canonical momenta indicators of financial markets and
neocortical EEG" in Progress in Neural Information Processing, ed. S.-I. Amari,
L. Xu, I. King, and K.-S. Leung, pp. 777-784, Springer, New York (1996).
Invited paper to the 1996 International Conference on Neural Information
Processing (ICONIP'96), Hong Kong, 24-27 September 1996. ISBN 981 3083-05-0.
URL <a
href="http://www.ingber.com/markets96_momenta.pdf">http://www.ingber.com/markets96_momenta.pdf.</a>
[14] L. Ingber and R.P. Mondescu, "Optimization of Trading Physics Models of
Markets," IEEE Trans. Neural Networks 12(4), pp. 776-790 (2001). Invited paper
for special issue on Neural Networks in Financial Engineering. URL <a
href="http://www.ingber.com/markets01_optim_trading.pdf">http://www.ingber.com/markets01_optim_trading.pdf.</a>
</p>

<p>[15] L. Ingber and R.P. Mondescu, "Automated internet trading based on
optimized physics models of markets" in Intelligent Internet- Based Information
Processing Systems, ed. R.J. Howlett, N.S. Ichalkaranje, L.C. Jain, and G.
Tonfoni, pp. 305-356, World Scientific, Singapore (2003). Invited paper. URL <a
href="http://www.ingber.com/markets03_automated.pdf">http://www.ingber.com/markets03_automated.pdf.</a>
</p>

<p>[16] A.F. Atiya, A.G. Parlos, and L. Ingber, "A reinforcement learning
method based on adaptive simulated annealing" in Proceedings International
Midwest Symposium on Circuits and Systems (MWCAS), December 2003, IEEE CAS,
Cairo, Egypt (2003). URL <a
href="http://www.ingber.com/asa03_reinforce.pdf">http://www.ingber.com/asa03_reinforce.pdf.</a>
</p>

<p>[17] L. Ingber, "Statistical Mechanics of Financial Markets (SMFM):
Applications to Trading Indicators and Options," SMFM Lecture Plates, Lester
Ingber Research (2001). Invited talk U Calgary, Canada, April 2001. Invited
talk U Florida, Gainesville, April 2002. Invited talk Tulane U, New Orleans,
January 2003. URL <a
href="http://www.ingber.com/markets01_lecture.pdf">http://www.ingber.com/markets01_lecture.pdf.</a>
</p>

<p>[18] L. Ingber, "Statistical mechanics of neocortical interactions: A
scaling paradigm applied to electroencephalography," Physical Review A 44, pp.
4017-4060 (1991). URL <a
href="http://www.ingber.com/smni91_eeg.pdf">http://www.ingber.com/smni91_eeg.pdf.</a>
</p>

<p>[19] L. Ingber, "Statistical mechanics of neocortical interactions:
Canonical momenta indicators of EEG," Physical Review E 55, pp. 4578-4593
(1997). URL <a
href="http://www.ingber.com/smni97_cmi.pdf">http://www.ingber.com/smni97_cmi.pdf.</a>
</p>

<p>[20] L. Ingber, "Statistical mechanics of neocortical interactions: Training
and testing canonical momenta indicators of EEG," Mathl. Computer Modelling 27,
pp. 33-64 (1998). URL <a
href="http://www.ingber.com/smni98_cmi_test.pdf">http://www.ingber.com/smni98_cmi_test.pdf.</a>
</p>

<p>[21] L. Ingber, "Statistical Mechanics of Neocortical Interactions (SMNI):
Multiple Scales of Short-Term Memory and EEG Phenomena," SMNI Lecture Plates,
Lester Ingber Research (2001). Invited talk U Calgary, Canada, April 2001. URL
<a
href="http://www.ingber.com/smni01_lecture.pdf">http://www.ingber.com/smni01_lecture.pdf.</a>
</p>

<p>[22] L. Ingber, "Statistical mechanics of neocortical interactions (SMNI):
Testing theories with multiple imaging data," NeuroQuantology Journal (2008).
Invited paper. <a
href="http://www.ingber.com/smni08_tt.pdf">http://www.ingber.com/smni08_tt.pdf.</a>
</p>

<p>[23] L. Ingber, "Statistical mechanics of neocortical interactions:
Nonlinear columnar electroencephalography," NeuroQuantology Journal 7(4), pp.
500-529 (2009). URL <a
href="http://www.ingber.com/smni09_nonlin_column_eeg.pdf">http://www.ingber.com/smni09_nonlin_column_eeg.pdf.</a>
</p>

<p>[24] L. Ingber, H. Fujio, and M.F. Wehner, "Mathematical comparison of
combat computer models to exercise data," Mathematical Computer Modelling
15(1), pp. 65-90 (1991). URL <a
href="http://www.ingber.com/combat91_data.pdf">http://www.ingber.com/combat91_data.pdf.</a>
</p>

<p>[25] L. Ingber and D.D. Sworder, "Statistical mechanics of combat with human
factors," Mathematical Computer Modelling 15(11), pp. 99-127 (1991). URL <a
href="http://www.ingber.com/combat91_human.pdf">http://www.ingber.com/combat91_human.pdf.</a>
</p>

<p>[26] L. Ingber, "Statistical mechanics of combat and extensions" in Toward a
Science of Command, Control, and Communications, ed. C. Jones, pp. 117-149,
American Institute of Aeronautics and Astronautics, Washington, D.C. (1993).
ISBN 1-56347-068-3. URL <a
href="http://www.ingber.com/combat93_c3sci.pdf">http://www.ingber.com/combat93_c3sci.pdf.</a>
</p>

<p>[27] M. Bowman and L. Ingber, "Canonical momenta of nonlinear combat" in
Proceedings of the 1997 Simulation Multi-Conference, 6-10 April 1997, Atlanta,
GA, Society for Computer Simulation, San Diego, CA (1997). URL <a
href="http://www.ingber.com/combat97_cmi.pdf">http://www.ingber.com/combat97_cmi.pdf.</a>
</p>

<p>[28] L. Ingber, "Statistical Mechanics of Combat (SMC): Mathematical
Comparison of Computer Models to Exercise Data," SMC Lecture Plates, Lester
Ingber Research (2001). URL <a
href="http://www.ingber.com/combat01_lecture.pdf">http://www.ingber.com/combat01_lecture.pdf.</a>
</p>

<p>[29] L. Ingber, "Real Options for Project Schedules (ROPS)," Report
2007:ROPS, Lester Ingber Research, Ashland, OR (2007). URL <a
href="http://www.ingber.com/markets07_rops.pdf">http://www.ingber.com/markets07_rops.pdf.</a>
</p>

<p>[30] L. Ingber, "Real Options for Project Schedules (ROPS)," International
Journal of Science, Technology &amp; Management (2010). </p>

<p>[31] L. Ingber, "Trading in Risk Dimensions (TRD)," Report 2005:TRD, Lester
Ingber Research, Ashland, OR (2005). URL <a
href="http://www.ingber.com/markets05_trd.pdf">http://www.ingber.com/markets05_trd.pdf.</a>
</p>

<p>[32] L. Ingber, "Trading in Risk Dimensions" in The Handbook of Trading:
Strategies for Navigating and Profiting from Currency, Bond, and Stock Markets,
ed. G.N. Gregoriou, pp. 287-300, McGraw- Hill, New York (2010). </p>

<p>[33] L. Ingber, "Ideas by Statistical Mechanics (ISM)," Report 2006:ISM,
Lester Ingber Research, Ashland, OR (2006). URL <a
href="http://www.ingber.com/smni06_ism.pdf">http://www.ingber.com/smni06_ism.pdf.</a>
</p>

<p>[34] L. Ingber, "Ideas by Statistical Mechanics (ISM)," J Integrated Systems
Design and Process Science 11(3), pp. 22-45 (2007). Special Issue: Biologically
Inspired Computing. </p>

<p>[35] L. Ingber, "AI and Ideas by Statistical Mechanics (ISM)" in
Encyclopedia of Artificial Intelligence, ed. J.R. Rabual, J. Dorado, and A.P.
Pazos, pp. 58-64, Information Science Reference, New York (2008). ISBN
978-1-59904-849-9. </p>

<p>[36] L. Ingber, "Adaptive Simulated Annealing" in Stochastic global
optimization and its applications with fuzzy adaptive simulated annealing, ed.
H.A. Oliveira, Jr., A. Petraglia, L. Ingber, M.A.S. Machado, and M.R.
Petraglia, pp. 33-61, Springer, New York (2012). Invited Paper. URL <a
href="http://www.ingber.com/asa11_options.pdf">http://www.ingber.com/asa11_options.pdf.</a>
</p>

<p>[*] Code and reprints can be retrieved via WWW from <a
href="http://www.ingber.com/">http://www.ingber.com/</a> . </p>

<p>[<a href="#To-Top-of-ASA-READMEhtml">To-Top-of-ASA-README.html</a>] </p>

<p>[<a href="http://www.ingber.com/">To-Top-of-Archive</a>] </p>

<p></p>
<hr>

<p></p>
<address>
  Lester Ingber &lt;ingber@ingber.com&gt;
</address>
Copyright &copy; 1987-2012 Lester Ingber. All Rights Reserved. 

<p></p>
</body>
</html>
